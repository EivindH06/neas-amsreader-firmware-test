(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ve(){}function ol(t,e){for(const n in e)t[n]=e[n];return t}function s1(t){return t()}function er(){return Object.create(null)}function et(t){t.forEach(s1)}function Xs(t){return typeof t=="function"}function Be(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ji;function is(t,e){return Ji||(Ji=document.createElement("a")),Ji.href=e,t===Ji.href}function l0(t){return Object.keys(t).length===0}function Zs(t,...e){if(t==null)return ve;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Kn(t){let e;return Zs(t,n=>e=n)(),e}function dl(t,e,n){t.$$.on_destroy.push(Zs(e,n))}function Js(t,e,n,l){if(t){const i=o1(t,e,n,l);return t[0](i)}}function o1(t,e,n,l){return t[1]&&l?ol(n.ctx.slice(),t[1](l(e))):n.ctx}function xs(t,e,n,l){if(t[2]&&l){const i=t[2](l(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],u=Math.max(e.dirty.length,i.length);for(let c=0;c<u;c+=1)o[c]=e.dirty[c]|i[c];return o}return e.dirty|i}return e.dirty}function eo(t,e,n,l,i,o){if(i){const u=o1(e,n,l,o);t.p(u,i)}}function to(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function ss(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function os(t,e){const n={};e=new Set(e);for(const l in t)!e.has(l)&&l[0]!=="$"&&(n[l]=t[l]);return n}const n0=["",!0,1,"true","contenteditable"];function s(t,e){t.appendChild(e)}function M(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode&&t.parentNode.removeChild(t)}function ct(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function je(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function P(t){return document.createTextNode(t)}function b(){return P(" ")}function it(){return P("")}function Q(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function Xn(t){return function(e){return e.preventDefault(),t.call(this,e)}}function a(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const i0=["width","height"];function Yn(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const l in e)e[l]==null?t.removeAttribute(l):l==="style"?t.style.cssText=e[l]:l==="__value"?t.value=t[l]=e[l]:n[l]&&n[l].set&&i0.indexOf(l)===-1?t[l]=e[l]:a(t,l,e[l])}function Se(t){return t===""?null:+t}function s0(t){return Array.from(t.childNodes)}function Z(t,e){e=""+e,t.data!==e&&(t.data=e)}function o0(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function a0(t,e,n){~n0.indexOf(n)?o0(t,e):Z(t,e)}function re(t,e){t.value=e==null?"":e}function fi(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function Te(t,e,n){for(let l=0;l<t.options.length;l+=1){const i=t.options[l];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function ot(t){const e=t.querySelector(":checked");return e&&e.__value}let xi;function r0(){if(xi===void 0){xi=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{xi=!0}}return xi}function lo(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const l=m("iframe");l.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),l.setAttribute("aria-hidden","true"),l.tabIndex=-1;const i=r0();let o;return i?(l.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=Q(window,"message",u=>{u.source===l.contentWindow&&e()})):(l.src="about:blank",l.onload=()=>{o=Q(l.contentWindow,"resize",e),e()}),s(t,l),()=>{(i||o&&l.contentWindow)&&o(),y(l)}}function u0(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,l,e),i}function tr(t,e){return new t(e)}let _i;function ci(t){_i=t}function vi(){if(!_i)throw new Error("Function called outside component initialization");return _i}function a1(t){vi().$$.on_mount.push(t)}function f0(t){vi().$$.on_destroy.push(t)}function c0(){const t=vi();return(e,n,{cancelable:l=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=u0(e,n,{cancelable:l});return i.slice().forEach(u=>{u.call(t,o)}),!o.defaultPrevented}return!0}}function mi(t,e){return vi().$$.context.set(t,e),e}function Fl(t){return vi().$$.context.get(t)}const zn=[],as=[];let Gn=[];const lr=[],r1=Promise.resolve();let Fs=!1;function u1(){Fs||(Fs=!0,r1.then(f1))}function m0(){return u1(),r1}function Ze(t){Gn.push(t)}const As=new Set;let Hn=0;function f1(){if(Hn!==0)return;const t=_i;do{try{for(;Hn<zn.length;){const e=zn[Hn];Hn++,ci(e),_0(e.$$)}}catch(e){throw zn.length=0,Hn=0,e}for(ci(null),zn.length=0,Hn=0;as.length;)as.pop()();for(let e=0;e<Gn.length;e+=1){const n=Gn[e];As.has(n)||(As.add(n),n())}Gn.length=0}while(zn.length);for(;lr.length;)lr.pop()();Fs=!1,As.clear(),ci(t)}function _0(t){if(t.fragment!==null){t.update(),et(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ze)}}function p0(t){const e=[],n=[];Gn.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),Gn=e}const ns=new Set;let xl;function $e(){xl={r:0,c:[],p:xl}}function De(){xl.r||et(xl.c),xl=xl.p}function I(t,e){t&&t.i&&(ns.delete(t),t.i(e))}function B(t,e,n,l){if(t&&t.o){if(ns.has(t))return;ns.add(t),xl.c.push(()=>{ns.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function c1(t,e){const n={},l={},i={$$scope:1};let o=t.length;for(;o--;){const u=t[o],c=e[o];if(c){for(const r in u)r in c||(l[r]=1);for(const r in c)i[r]||(n[r]=c[r],i[r]=1);t[o]=c}else for(const r in u)i[r]=1}for(const u in l)u in n||(n[u]=void 0);return n}function nr(t){return typeof t=="object"&&t!==null?t:{}}function ae(t){t&&t.c()}function se(t,e,n,l){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),l||Ze(()=>{const u=t.$$.on_mount.map(s1).filter(Xs);t.$$.on_destroy?t.$$.on_destroy.push(...u):et(u),t.$$.on_mount=[]}),o.forEach(Ze)}function oe(t,e){const n=t.$$;n.fragment!==null&&(p0(n.after_update),et(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function d0(t,e){t.$$.dirty[0]===-1&&(zn.push(t),u1(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function He(t,e,n,l,i,o,u,c=[-1]){const r=_i;ci(t);const f=t.$$={fragment:null,ctx:[],props:o,update:ve,not_equal:i,bound:er(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:er(),dirty:c,skip_bound:!1,root:e.target||r.$$.root};u&&u(f.root);let p=!1;if(f.ctx=n?n(t,e.props||{},(_,h,...v)=>{const d=v.length?v[0]:h;return f.ctx&&i(f.ctx[_],f.ctx[_]=d)&&(!f.skip_bound&&f.bound[_]&&f.bound[_](d),p&&d0(t,_)),h}):[],f.update(),p=!0,et(f.before_update),f.fragment=l?l(f.ctx):!1,e.target){if(e.hydrate){const _=s0(e.target);f.fragment&&f.fragment.l(_),_.forEach(y)}else f.fragment&&f.fragment.c();e.intro&&I(t.$$.fragment),se(t,e.target,e.anchor,e.customElement),f1()}ci(r)}class We{$destroy(){oe(this,1),this.$destroy=ve}$on(e,n){if(!Xs(n))return ve;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!l0(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ir=t=>typeof t>"u",m1=t=>typeof t=="function",_1=t=>typeof t=="number";function h0(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function p1(){let t=0;return()=>t++}function v0(){return Math.random().toString(36).substring(2)}const Ol=typeof window>"u";function d1(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}const h1=(t,e)=>t?{}:{style:e},Os=t=>({"aria-hidden":"true",...h1(t,"display:none;")}),Wn=[];function v1(t,e){return{subscribe:dt(t,e).subscribe}}function dt(t,e=ve){let n;const l=new Set;function i(c){if(Be(t,c)&&(t=c,n)){const r=!Wn.length;for(const f of l)f[1](),Wn.push(f,t);if(r){for(let f=0;f<Wn.length;f+=2)Wn[f][0](Wn[f+1]);Wn.length=0}}}function o(c){i(c(t))}function u(c,r=ve){const f=[c,r];return l.add(f),l.size===1&&(n=e(i)||ve),c(t),()=>{l.delete(f),l.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:u}}function b0(t,e,n){const l=!Array.isArray(t),i=l?[t]:t,o=e.length<2;return v1(n,u=>{let c=!1;const r=[];let f=0,p=ve;const _=()=>{if(f)return;p();const v=e(l?r[0]:r,u);o?u(v):p=Xs(v)?v:ve},h=i.map((v,d)=>Zs(v,g=>{r[d]=g,f&=~(1<<d),c&&_()},()=>{f|=1<<d}));return c=!0,_(),function(){et(h),p(),c=!1}})}const bi=t=>`@@svnav-ctx__${t}`,qs=bi("LOCATION"),Qn=bi("ROUTER"),b1=bi("ROUTE"),g0=bi("ROUTE_PARAMS"),k0=bi("FOCUS_ELEM"),g1=/^:(.+)/,ai=(t,e,n)=>t.substr(e,n),Bs=(t,e)=>ai(t,0,e.length)===e,w0=t=>t==="",C0=t=>g1.test(t),k1=t=>t[0]==="*",y0=t=>t.replace(/\*.*$/,""),w1=t=>t.replace(/(^\/+|\/+$)/g,"");function vl(t,e=!1){const n=w1(t).split("/");return e?n.filter(Boolean):n}const $s=(t,e)=>t+(e?`?${e}`:""),no=t=>`/${w1(t)}`;function gi(...t){const e=l=>vl(l,!0).join("/"),n=t.map(e).join("/");return no(n)}const io=1,cs=2,on=3,M0=4,C1=5,S0=6,y1=7,T0=8,N0=9,M1=10,S1=11,E0={[io]:"Link",[cs]:"Route",[on]:"Router",[M0]:"useFocus",[C1]:"useLocation",[S0]:"useMatch",[y1]:"useNavigate",[T0]:"useParams",[N0]:"useResolvable",[M1]:"useResolve",[S1]:"navigate"},so=t=>E0[t];function P0(t,e){let n;return t===cs?n=e.path?`path="${e.path}"`:"default":t===io?n=`to="${e.to}"`:t===on&&(n=`basepath="${e.basepath||""}"`),`<${so(t)} ${n||""} />`}function A0(t,e,n,l){const i=n&&P0(l||t,n),o=i?`

Occurred in: ${i}`:"",u=so(t),c=m1(e)?e(u):e;return`<${u}> ${c}${o}`}const T1=t=>(...e)=>t(A0(...e)),N1=T1(t=>{throw new Error(t)}),rs=T1(console.warn),sr=4,$0=3,D0=2,L0=1,I0=1;function R0(t,e){const n=t.default?0:vl(t.fullPath).reduce((l,i)=>{let o=l;return o+=sr,w0(i)?o+=I0:C0(i)?o+=D0:k1(i)?o-=sr+L0:o+=$0,o},0);return{route:t,score:n,index:e}}function F0(t){return t.map(R0).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index)}function E1(t,e){let n,l;const[i]=e.split("?"),o=vl(i),u=o[0]==="",c=F0(t);for(let r=0,f=c.length;r<f;r++){const{route:p}=c[r];let _=!1;const h={},v=$=>({...p,params:h,uri:$});if(p.default){l=v(e);continue}const d=vl(p.fullPath),g=Math.max(o.length,d.length);let k=0;for(;k<g;k++){const $=d[k],T=o[k];if(!ir($)&&k1($)){const F=$==="*"?"*":$.slice(1);h[F]=o.slice(k).map(decodeURIComponent).join("/");break}if(ir(T)){_=!0;break}const A=g1.exec($);if(A&&!u){const F=decodeURIComponent(T);h[A[1]]=F}else if($!==T){_=!0;break}}if(!_){n=v(gi(...o.slice(0,k)));break}}return n||l||null}function P1(t,e){return E1([t],e)}function O0(t,e){if(Bs(t,"/"))return t;const[n,l]=t.split("?"),[i]=e.split("?"),o=vl(n),u=vl(i);if(o[0]==="")return $s(i,l);if(!Bs(o[0],".")){const f=u.concat(o).join("/");return $s((i==="/"?"":"/")+f,l)}const c=u.concat(o),r=[];return c.forEach(f=>{f===".."?r.pop():f!=="."&&r.push(f)}),$s(`/${r.join("/")}`,l)}function or(t,e){const{pathname:n,hash:l="",search:i="",state:o}=t,u=vl(e,!0),c=vl(n,!0);for(;u.length;)u[0]!==c[0]&&N1(on,`Invalid state: All locations must begin with the basepath "${e}", found "${n}"`),u.shift(),c.shift();return{pathname:gi(...c),hash:l,search:i,state:o}}const ar=t=>t.length===1?"":t,oo=t=>{const e=t.indexOf("?"),n=t.indexOf("#"),l=e!==-1,i=n!==-1,o=i?ar(ai(t,n)):"",u=i?ai(t,0,n):t,c=l?ar(ai(u,e)):"";return{pathname:(l?ai(u,0,e):u)||"/",search:c,hash:o}},q0=t=>{const{pathname:e,search:n,hash:l}=t;return e+n+l};function B0(t,e,n){return gi(n,O0(t,e))}function U0(t,e){const n=no(y0(t)),l=vl(n,!0),i=vl(e,!0).slice(0,l.length),o=P1({fullPath:n},gi(...i));return o&&o.uri}const Ds="POP",j0="PUSH",H0="REPLACE";function Ls(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function W0(t){let e=[],n=Ls(t),l=Ds;const i=(o=e)=>o.forEach(u=>u({location:n,action:l}));return{get location(){return n},listen(o){e.push(o);const u=()=>{n=Ls(t),l=Ds,i([o])};i([o]);const c=d1(t,"popstate",u);return()=>{c(),e=e.filter(r=>r!==o)}},navigate(o,u){const{state:c={},replace:r=!1}=u||{};if(l=r?H0:j0,_1(o))u&&rs(S1,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),l=Ds,t.history.go(o);else{const f={...c,_key:v0()};try{t.history[r?"replaceState":"pushState"](f,"",o)}catch{t.location[r?"replace":"assign"](o)}}n=Ls(t),i()}}}function Is(t,e){return{...oo(e),state:t}}function z0(t="/"){let e=0,n=[Is(null,t)];return{get entries(){return n},get location(){return n[e]},addEventListener(){},removeEventListener(){},history:{get state(){return n[e].state},pushState(l,i,o){e++,n=n.slice(0,e),n.push(Is(l,o))},replaceState(l,i,o){n[e]=Is(l,o)},go(l){const i=e+l;i<0||i>n.length-1||(e=i)}}}}const G0=!!(!Ol&&window.document&&window.document.createElement),V0=!Ol&&window.location.origin==="null",A1=W0(G0&&!V0?window:z0()),{navigate:sn}=A1;let Nl=null,$1=!0;function K0(t,e){const n=document.querySelectorAll("[data-svnav-router]");for(let l=0;l<n.length;l++){const i=n[l],o=Number(i.dataset.svnavRouter);if(o===t)return!0;if(o===e)return!1}return!1}function Y0(t){(!Nl||t.level>Nl.level||t.level===Nl.level&&K0(t.routerId,Nl.routerId))&&(Nl=t)}function Q0(){Nl=null}function X0(){$1=!1}function rr(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let n;n=d1(t,"blur",()=>{t.removeAttribute(e),n()})}return t.focus(),document.activeElement===t}catch{return!1}}function Z0(t,e){return Number(t.dataset.svnavRouteEnd)===e}function J0(t){return/^H[1-6]$/i.test(t.tagName)}function ur(t,e=document){return e.querySelector(t)}function x0(t){let n=ur(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!Z0(n,t);){if(J0(n))return n;const l=ur("h1,h2,h3,h4,h5,h6",n);if(l)return l;n=n.nextElementSibling}return null}function ec(t){Promise.resolve(Kn(t.focusElement)).then(e=>{const n=e||x0(t.id);n||rs(on,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,cs),!rr(n)&&rr(document.documentElement)})}const tc=(t,e,n)=>(l,i)=>m0().then(()=>{if(!Nl||$1){X0();return}if(l&&ec(Nl.route),t.announcements&&i){const{path:o,fullPath:u,meta:c,params:r,uri:f}=Nl.route,p=t.createAnnouncement({path:o,fullPath:u,meta:c,params:r,uri:f},Kn(n));Promise.resolve(p).then(_=>{e.set(_)})}Q0()}),lc="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function nc(t){let e,n,l=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},h1(t[6],lc)],i={};for(let o=0;o<l.length;o+=1)i=ol(i,l[o]);return{c(){e=m("div"),n=P(t[0]),Yn(e,i)},m(o,u){M(o,e,u),s(e,n)},p(o,u){u[0]&1&&a0(n,o[0],i.contenteditable)},d(o){o&&y(e)}}}function ic(t){let e,n,l,i,o,u=[Os(t[6]),{"data-svnav-router":t[3]}],c={};for(let _=0;_<u.length;_+=1)c=ol(c,u[_]);const r=t[22].default,f=Js(r,t,t[21],null);let p=t[2]&&t[4]&&t[1].announcements&&nc(t);return{c(){e=m("div"),n=b(),f&&f.c(),l=b(),p&&p.c(),i=it(),Yn(e,c)},m(_,h){M(_,e,h),M(_,n,h),f&&f.m(_,h),M(_,l,h),p&&p.m(_,h),M(_,i,h),o=!0},p(_,h){f&&f.p&&(!o||h[0]&2097152)&&eo(f,r,_,_[21],o?xs(r,_[21],h,null):to(_[21]),null),_[2]&&_[4]&&_[1].announcements&&p.p(_,h)},i(_){o||(I(f,_),o=!0)},o(_){B(f,_),o=!1},d(_){_&&y(e),_&&y(n),f&&f.d(_),_&&y(l),p&&p.d(_),_&&y(i)}}}const sc=p1(),fr="/";function oc(t,e,n){let l,i,o,u,c,{$$slots:r={},$$scope:f}=e,{basepath:p=fr}=e,{url:_=null}=e,{history:h=A1}=e,{primary:v=!0}=e,{a11y:d={}}=e,{disableInlineStyles:g=!1}=e;const k={createAnnouncement:ie=>`Navigated to ${ie.uri}`,announcements:!0,...d},$=p,T=no(p),A=Fl(qs),F=Fl(Qn),L=!A,R=sc(),C=v&&!(F&&!F.manageFocus),N=dt("");dl(t,N,ie=>n(0,c=ie));const ee=F?F.disableInlineStyles:g,q=dt([]);dl(t,q,ie=>n(20,u=ie));const U=dt(null);dl(t,U,ie=>n(18,i=ie));let H=!1;const K=L?0:F.level+1,Y=L?dt((()=>or(Ol?oo(_):h.location,T))()):A;dl(t,Y,ie=>n(17,l=ie));const G=dt(l);dl(t,G,ie=>n(19,o=ie));const W=tc(k,N,Y),z=ie=>me=>me.filter(X=>X.id!==ie);function x(ie){if(Ol){if(H)return;const me=P1(ie,l.pathname);if(me)return H=!0,me}else q.update(me=>{const X=z(ie.id)(me);return X.push(ie),X})}function _e(ie){q.update(z(ie))}return!L&&p!==fr&&rs(on,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:p}),L&&(a1(()=>h.listen(me=>{const X=or(me.location,T);G.set(l),Y.set(X)})),mi(qs,Y)),mi(Qn,{activeRoute:U,registerRoute:x,unregisterRoute:_e,manageFocus:C,level:K,id:R,history:L?h:F.history,basepath:L?T:F.basepath,disableInlineStyles:ee}),t.$$set=ie=>{"basepath"in ie&&n(11,p=ie.basepath),"url"in ie&&n(12,_=ie.url),"history"in ie&&n(13,h=ie.history),"primary"in ie&&n(14,v=ie.primary),"a11y"in ie&&n(15,d=ie.a11y),"disableInlineStyles"in ie&&n(16,g=ie.disableInlineStyles),"$$scope"in ie&&n(21,f=ie.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&p!==$&&rs(on,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const ie=E1(u,l.pathname);U.set(ie)}if(t.$$.dirty[0]&655360&&L){const ie=!!l.hash,me=!ie&&C,X=!ie||l.pathname!==o.pathname;W(me,X)}t.$$.dirty[0]&262144&&C&&i&&i.primary&&Y0({level:K,routerId:R,route:i})},[c,k,L,R,C,N,ee,q,U,Y,G,p,_,h,v,d,g,l,i,o,u,f,r]}class ac extends We{constructor(e){super(),He(this,e,oc,ic,Be,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}const D1=ac;function ki(t,e,n=Qn,l=on){Fl(n)||N1(t,o=>`You cannot use ${o} outside of a ${so(l)}.`,e)}const rc=t=>{const{subscribe:e}=Fl(t);return{subscribe:e}};function L1(){return ki(C1),rc(qs)}function I1(){const{history:t}=Fl(Qn);return t}function R1(){const t=Fl(b1);return t?b0(t,e=>e.base):dt("/")}function F1(){ki(M1);const t=R1(),{basepath:e}=Fl(Qn);return l=>B0(l,Kn(t),e)}function uc(){ki(y1);const t=F1(),{navigate:e}=I1();return(l,i)=>{const o=_1(l)?l:t(l);return e(o,i)}}const fc=t=>({params:t&16,location:t&8}),cr=t=>({params:Ol?Kn(t[10]):t[4],location:t[3],navigate:t[11]});function mr(t){let e,n;return e=new D1({props:{primary:t[1],$$slots:{default:[_c]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&2&&(o.primary=l[1]),i&528409&&(o.$$scope={dirty:i,ctx:l}),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function cc(t){let e;const n=t[18].default,l=Js(n,t,t[19],cr);return{c(){l&&l.c()},m(i,o){l&&l.m(i,o),e=!0},p(i,o){l&&l.p&&(!e||o&524312)&&eo(l,n,i,i[19],e?xs(n,i[19],o,fc):to(i[19]),cr)},i(i){e||(I(l,i),e=!0)},o(i){B(l,i),e=!1},d(i){l&&l.d(i)}}}function mc(t){let e,n,l;const i=[{location:t[3]},{navigate:t[11]},Ol?Kn(t[10]):t[4],t[12]];var o=t[0];function u(c){let r={};for(let f=0;f<i.length;f+=1)r=ol(r,i[f]);return{props:r}}return o&&(e=tr(o,u())),{c(){e&&ae(e.$$.fragment),n=it()},m(c,r){e&&se(e,c,r),M(c,n,r),l=!0},p(c,r){const f=r&7192?c1(i,[r&8&&{location:c[3]},r&2048&&{navigate:c[11]},r&1040&&nr(Ol?Kn(c[10]):c[4]),r&4096&&nr(c[12])]):{};if(r&1&&o!==(o=c[0])){if(e){$e();const p=e;B(p.$$.fragment,1,0,()=>{oe(p,1)}),De()}o?(e=tr(o,u()),ae(e.$$.fragment),I(e.$$.fragment,1),se(e,n.parentNode,n)):e=null}else o&&e.$set(f)},i(c){l||(e&&I(e.$$.fragment,c),l=!0)},o(c){e&&B(e.$$.fragment,c),l=!1},d(c){c&&y(n),e&&oe(e,c)}}}function _c(t){let e,n,l,i;const o=[mc,cc],u=[];function c(r,f){return r[0]!==null?0:1}return e=c(t),n=u[e]=o[e](t),{c(){n.c(),l=it()},m(r,f){u[e].m(r,f),M(r,l,f),i=!0},p(r,f){let p=e;e=c(r),e===p?u[e].p(r,f):($e(),B(u[p],1,1,()=>{u[p]=null}),De(),n=u[e],n?n.p(r,f):(n=u[e]=o[e](r),n.c()),I(n,1),n.m(l.parentNode,l))},i(r){i||(I(n),i=!0)},o(r){B(n),i=!1},d(r){u[e].d(r),r&&y(l)}}}function pc(t){let e,n,l,i,o,u=[Os(t[7]),{"data-svnav-route-start":t[5]}],c={};for(let _=0;_<u.length;_+=1)c=ol(c,u[_]);let r=t[2]&&mr(t),f=[Os(t[7]),{"data-svnav-route-end":t[5]}],p={};for(let _=0;_<f.length;_+=1)p=ol(p,f[_]);return{c(){e=m("div"),n=b(),r&&r.c(),l=b(),i=m("div"),Yn(e,c),Yn(i,p)},m(_,h){M(_,e,h),M(_,n,h),r&&r.m(_,h),M(_,l,h),M(_,i,h),o=!0},p(_,[h]){_[2]?r?(r.p(_,h),h&4&&I(r,1)):(r=mr(_),r.c(),I(r,1),r.m(l.parentNode,l)):r&&($e(),B(r,1,1,()=>{r=null}),De())},i(_){o||(I(r),o=!0)},o(_){B(r),o=!1},d(_){_&&y(e),_&&y(n),r&&r.d(_),_&&y(l),_&&y(i)}}}const dc=p1();function hc(t,e,n){let l;const i=["path","component","meta","primary"];let o=os(e,i),u,c,r,f,{$$slots:p={},$$scope:_}=e,{path:h=""}=e,{component:v=null}=e,{meta:d={}}=e,{primary:g=!0}=e;ki(cs,e);const k=dc(),{registerRoute:$,unregisterRoute:T,activeRoute:A,disableInlineStyles:F}=Fl(Qn);dl(t,A,H=>n(16,u=H));const L=R1();dl(t,L,H=>n(17,r=H));const R=L1();dl(t,R,H=>n(3,c=H));const C=dt(null);let N;const ee=dt(),q=dt({});dl(t,q,H=>n(4,f=H)),mi(b1,ee),mi(g0,q),mi(k0,C);const U=uc();return Ol||f0(()=>T(k)),t.$$set=H=>{n(24,e=ol(ol({},e),ss(H))),n(12,o=os(e,i)),"path"in H&&n(13,h=H.path),"component"in H&&n(0,v=H.component),"meta"in H&&n(14,d=H.meta),"primary"in H&&n(1,g=H.primary),"$$scope"in H&&n(19,_=H.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const H=h==="",K=gi(r,h),V={id:k,path:h,meta:d,default:H,fullPath:H?"":K,base:H?r:U0(K,c.pathname),primary:g,focusElement:C};ee.set(V),n(15,N=$(V))}if(t.$$.dirty&98304&&n(2,l=!!(N||u&&u.id===k)),t.$$.dirty&98308&&l){const{params:H}=N||u;q.set(H)}},e=ss(e),[v,g,l,c,f,k,A,F,L,R,q,U,o,h,d,N,u,r,p,_]}class vc extends We{constructor(e){super(),He(this,e,hc,pc,Be,{path:13,component:0,meta:14,primary:1})}}const _l=vc;function bc(t){let e,n,l,i;const o=t[13].default,u=Js(o,t,t[12],null);let c=[{href:t[0]},t[2],t[1]],r={};for(let f=0;f<c.length;f+=1)r=ol(r,c[f]);return{c(){e=m("a"),u&&u.c(),Yn(e,r)},m(f,p){M(f,e,p),u&&u.m(e,null),n=!0,l||(i=Q(e,"click",t[4]),l=!0)},p(f,[p]){u&&u.p&&(!n||p&4096)&&eo(u,o,f,f[12],n?xs(o,f[12],p,null):to(f[12]),null),Yn(e,r=c1(c,[(!n||p&1)&&{href:f[0]},p&4&&f[2],p&2&&f[1]]))},i(f){n||(I(u,f),n=!0)},o(f){B(u,f),n=!1},d(f){f&&y(e),u&&u.d(f),l=!1,i()}}}function gc(t,e,n){let l,i,o,u,c,r;const f=["to","replace","state","getProps"];let p=os(e,f),_,{$$slots:h={},$$scope:v}=e,{to:d}=e,{replace:g=!1}=e,{state:k={}}=e,{getProps:$=null}=e;ki(io,e);const T=L1();dl(t,T,C=>n(11,_=C));const A=c0(),F=F1(),{navigate:L}=I1();function R(C){A("click",C),h0(C)&&(C.preventDefault(),L(l,{state:k,replace:u||g}))}return t.$$set=C=>{n(19,e=ol(ol({},e),ss(C))),n(18,p=os(e,f)),"to"in C&&n(5,d=C.to),"replace"in C&&n(6,g=C.replace),"state"in C&&n(7,k=C.state),"getProps"in C&&n(8,$=C.getProps),"$$scope"in C&&n(12,v=C.$$scope)},t.$$.update=()=>{t.$$.dirty&2080&&n(0,l=F(d,_)),t.$$.dirty&2049&&n(10,i=Bs(_.pathname,l)),t.$$.dirty&2049&&n(9,o=l===_.pathname),t.$$.dirty&2049&&(u=oo(l)===q0(_)),t.$$.dirty&512&&n(2,c=o?{"aria-current":"page"}:{}),n(1,r=(()=>{if(m1($)){const C=$({location:_,href:l,isPartiallyCurrent:i,isCurrent:o});return{...p,...C}}return p})())},e=ss(e),[l,r,c,T,R,d,g,k,$,o,i,_,v,h]}class kc extends We{constructor(e){super(),He(this,e,gc,bc,Be,{to:5,replace:6,state:7,getProps:8})}}const Zt=kc;let pi=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Rl(t){return t===1?"green":t===2?"yellow":t===3?"red":"gray"}function wc(t,e){return e?t>218&&t<242?"#32c000":t>212&&t<248?"#b1c000":t>208&&t<252?"#ffa000":"#d90000":t>218&&t<242?"#32d900":t>212&&t<248?"#b1d900":t>208&&t<252?"#ffb800":"#d90000"}function ao(t,e){let n;return e?t>90?n="#d90000":t>85?n="#e31000":t>80?n="#ffa900":t>75?n="#dcc300":n="#32c500":t>90?n="#d90000":t>85?n="#e32100":t>80?n="#ffb800":t>75?n="#dcd800":n="#32d900",n}function di(t){return t>75?"#32d900":t>50?"#77d900":t>25?"#94d900":"#dcd800"}function us(t){switch(t){case 1:return"Aidon";case 2:return"Kaifa";case 3:return"Kamstrup";case 8:return"Iskra";case 9:return"Landis+Gyr";case 10:return"Sagemcom";default:return"Unknown"}}function Ye(t){for(t=t.toString();t.length<2;)t="0"+t;return t}function Ce(t,e){switch(e){case 5:switch(t){case"esp8266":return"Pow-K (GPIO12)";case"esp32s2":return"Pow-K+"}case 7:switch(t){case"esp8266":return"Pow-U (GPIO12)";case"esp32s2":return"Pow-U+"}case 6:return"Pow-P1";case 51:return"Wemos S2 mini";case 50:return"Generic ESP32-S2";case 201:return"Wemos LOLIN D32";case 202:return"Adafruit HUZZAH32";case 203:return"DevKitC";case 241:return"LilyGO T-ETH-POE";case 242:return"M5 PoESP32";case 243:return"WT32-ETH01";case 200:return"Generic ESP32";case 2:return"HAN Reader 2.0 by Max Spencer";case 0:return"Custom hardware by Roar Fredriksen";case 1:return"Kamstrup module by Egil Opsahl";case 8:return"\xB5HAN mosquito by dbeinder";case 3:return"Pow-K (UART0)";case 4:return"Pow-U (UART0)";case 101:return"Wemos D1 mini";case 100:return"Generic ESP8266";case 70:return"Generic ESP32-C3";case 71:return"ESP32-C3-DevKitM-1";case 80:return"Generic ESP32-S3"}}function _r(t){switch(t){case-1:return"Parse error";case-2:return"Incomplete data received";case-3:return"Payload boundry flag missing";case-4:return"Header checksum error";case-5:return"Footer checksum error";case-9:return"Unknown data received, check meter config";case-41:return"Frame length not equal";case-51:return"Authentication failed";case-52:return"Decryption failed";case-53:return"Encryption key invalid";case 90:return"No HAN data received for at least 30s";case 91:return"Serial break";case 92:return"Serial buffer full";case 93:return"Serial FIFO overflow";case 94:return"Serial frame error";case 95:return"Serial parity error";case 96:return"RX error";case 98:return"Exception in code, debugging necessary";case 99:return"Autodetection failed"}return t<0?"Unspecified error "+t:""}function pr(t){switch(t){case-3:return"Connection failed";case-4:return"Network timeout";case-10:return"Connection denied";case-11:return"Failed to subscribe";case-13:return"Connection lost"}return t<0?"Unspecified error "+t:""}function dr(t){switch(t){case 400:return"Unrecognized data in request";case 401:case 403:return"Unauthorized, check API key";case 404:return"Price unavailable, not found";case 425:return"Server says its too early";case 429:return"Exceeded API rate limit";case 500:return"Internal server error";case-1:return"Connection error";case-2:return"Incomplete data received";case-3:return"Invalid data, tag missing";case-51:return"Authentication failed";case-52:return"Decryption failed";case-53:return"Encryption key invalid"}return t<0?"Unspecified error "+t:""}function hr(t){switch(t){case 255:return"Unable to start upgrade";case-1:return"Connection refused";case-2:return"Failed to send headers";case-3:return"Failed to send payload";case-4:return"Not connected";case-5:return"Connection lost";case-6:return"No stream";case-7:return"Not a HTTP server";case-8:return"Not enough memory";case-9:return"Encoding error";case-10:return"Stream write";case-11:return"Read timeout"}return"Unknown "+t}function Vn(t){switch(t){case 2:case 4:case 7:return!0}return!1}function lt(t,e){return t==1||t==2&&e}function Ht(t){return"https://github.com/UtilitechAS/amsreader-firmware/wiki/"+t}function Ne(t,e){return isNaN(t)?"-":(isNaN(e)&&(e=t<1?2:t<10?1:0),t.toFixed(e))}function hl(t,e){return t.setTime(t.getTime()+e*36e5),t}function vr(t){if(t.chip=="esp8266")switch(t.boot_reason){case 0:return"Normal";case 1:return"WDT reset";case 2:return"Exception reset";case 3:return"Soft WDT reset";case 4:return"Software restart";case 5:return"Deep sleep";case 6:return"External reset";default:return"Unknown (8266)"}else switch(t.boot_reason){case 1:return"Vbat power on reset";case 3:return"Software reset";case 4:return"WDT reset";case 5:return"Deep sleep";case 6:return"SLC reset";case 7:return"Timer Group0 WDT reset";case 8:return"Timer Group1 WDT reset";case 9:return"RTC WDT reset";case 10:return"Instrusion test reset CPU";case 11:return"Time Group reset CPU";case 12:return"Software reset CPU";case 13:return"RTC WTD reset CPU";case 14:return"PRO CPU";case 15:return"Brownout";case 16:return"RTC reset";default:return"Unknown"}}function br(t){return t=="EOE"?"ENTSO-E":t=="HKS"?"hvakosterstrommen.no":t=="EDS"?"Energi Data Service":t=="MIX"?"Mixed sources":"Unknown ("+t+")"}function gr(t){return t=="EOE"?"https://transparency.entsoe.eu/-E":t=="HKS"?"https://www.hvakosterstrommen.no/":t=="EDS"?"https://www.energidataservice.dk/":"#"}let es=0;function hi(t,e){var n="";es++;var l=function(){setTimeout(hi,1e3,t,e)};if(t.net.ip&&es%3==0){if(!t.net.ip){l();return}n="http://"+t.net.ip}else t.hostname&&es%3==1?n="http://"+t.hostname:t.hostname&&es%3==2?n="http://"+t.hostname+".local":n="";console&&console.log("Trying url "+n),e&&e(n);var i=new XMLHttpRequest;i.timeout=5e3,i.addEventListener("abort",l),i.addEventListener("error",l),i.addEventListener("timeout",l),i.addEventListener("load",function(o){window.location.href=n||"/"}),i.open("GET",n+"/is-alive",!0),i.send()}async function El(t,e={}){const{timeout:n=8e3}=e,l=new AbortController,i=setTimeout(()=>l.abort(),n),o=await fetch(t,{...e,signal:l.signal});return clearTimeout(i),o}let pl={version:"",chip:"",mac:null,apmac:null,vndcfg:null,usrcfg:null,fwconsent:null,booting:!1,upgrading:!1,ui:{},security:0,boot_reason:0,upgrade:{x:-1,e:0,f:null,t:null},trying:null,if:{eth:!1}};const St=dt(pl);async function ro(){pl=await(await El("sysinfo.json?t="+Math.floor(Date.now()/1e3))).json(),St.set(pl)}let ts=0,kr=-127,wr=null,Cc={};const O1=v1(Cc,t=>{let e;async function n(){El("data.json").then(l=>l.json()).then(l=>{t(l),kr!=l.t&&(kr=l.t,setTimeout(H1,2e3)),wr==null&&l.pe&&l.p!=null&&(wr=l.p,B1()),pl.upgrading?window.location.reload():(!pl||!pl.chip||pl.booting||ts>1&&!Vn(pl.board))&&(ro(),en&&clearTimeout(en),en=setTimeout(fo,2e3),tn&&clearTimeout(tn),tn=setTimeout(co,3e3));let i=5e3;if(Vn(pl.board)&&l.v>2.5){let o=3.3-Math.min(3.3,l.v);o>0&&(i=Math.max(o,.1)*10*5e3)}i>5e3&&console.log("Scheduling next data fetch in "+i+"ms"),e&&clearTimeout(e),e=setTimeout(n,i),ts=0}).catch(l=>{ts++,ts>3?(t({em:3,hm:0,wm:0,mm:0}),e=setTimeout(n,15e3)):e=setTimeout(n,Vn(pl.board)?1e4:5e3)})}return n(),function(){clearTimeout(e)}});let Us={},ri;const uo=dt(Us);async function q1(){let t=!1;if(uo.update(e=>{for(var n=0;n<36;n++){if(e[Ye(n)]==null){t=n<12;break}e[Ye(n)]=e[Ye(n+1)]}return e}),t)B1();else{let e=new Date;ri=setTimeout(q1,(60-e.getMinutes())*6e4)}}async function B1(){ri&&(clearTimeout(ri),ri=0),Us=await(await El("energyprice.json")).json(),uo.set(Us);let e=new Date;ri=setTimeout(q1,(60-e.getMinutes())*6e4)}let js={},en;async function fo(){en&&(clearTimeout(en),en=0),js=await(await El("dayplot.json")).json(),U1.set(js);let e=new Date;en=setTimeout(fo,(60-e.getMinutes())*6e4+20)}const U1=dt(js,t=>(fo(),function(){}));let Hs={},tn;async function co(){tn&&(clearTimeout(tn),tn=0),Hs=await(await El("monthplot.json")).json(),j1.set(Hs);let e=new Date;tn=setTimeout(co,(24-e.getHours())*36e5+40)}const j1=dt(Hs,t=>(co(),function(){}));let Ws={};async function H1(){Ws=await(await El("temperature.json")).json(),W1.set(Ws)}const W1=dt(Ws,t=>(H1(),function(){}));let zs={},ls;async function z1(){ls&&(clearTimeout(ls),ls=0),zs=await(await El("tariff.json")).json(),G1.set(zs);let e=new Date;ls=setTimeout(z1,(60-e.getMinutes())*6e4+30)}const G1=dt(zs,t=>function(){});let Gs=[];const mo=dt(Gs);async function yc(){Gs=await(await El("https://api.github.com/repos/UtilitechAS/amsreader-firmware/releases")).json(),mo.set(Gs)}let Vs={};async function Mc(){Vs=await(await El("realtime.json")).json(),V1.set(Vs)}const V1=dt(Vs,t=>(Mc(),function(){}));function fs(t){return"WARNING: "+t+" must be connected to an external power supply during firmware upgrade. Failure to do so may cause power-down during upload resulting in non-functioning unit."}async function K1(t){await(await fetch("upgrade?expected_version="+t,{method:"POST"})).json()}function Y1(t,e){if(/^v\d{1,2}\.\d{1,2}\.\d{1,2}$/.test(t)){let n=t.substring(1).split("."),l=parseInt(n[0]),i=parseInt(n[1]),o=parseInt(n[2]),u=[...e];u.reverse();let c,r,f;for(let p=0;p<u.length;p++){let _=u[p],v=_.tag_name.substring(1).split("."),d=parseInt(v[0]),g=parseInt(v[1]),k=parseInt(v[2]);if(d==l)g==i?k>o&&(c=_):g==i+1&&(r=_);else if(d==l+1)if(f){let $=f.tag_name.substring(1).split(".");parseInt($[0]);let T=parseInt($[1]);parseInt($[2]),g==T&&(f=_)}else f=_}return r||f||c||!1}else return e[0]}const Cr="/github.svg";function yr(t){let e,n;function l(u,c){return u[1]>1?$c:u[1]>0?Ac:u[2]>1?Pc:u[2]>0?Ec:u[3]>1?Nc:u[3]>0?Tc:Sc}let i=l(t),o=i(t);return{c(){e=P(`Up
    `),o.c(),n=it()},m(u,c){M(u,e,c),o.m(u,c),M(u,n,c)},p(u,c){i===(i=l(u))&&o?o.p(u,c):(o.d(1),o=i(u),o&&(o.c(),o.m(n.parentNode,n)))},d(u){u&&y(e),o.d(u),u&&y(n)}}}function Sc(t){let e,n;return{c(){e=P(t[0]),n=P(" seconds")},m(l,i){M(l,e,i),M(l,n,i)},p(l,i){i&1&&Z(e,l[0])},d(l){l&&y(e),l&&y(n)}}}function Tc(t){let e,n;return{c(){e=P(t[3]),n=P(" minute")},m(l,i){M(l,e,i),M(l,n,i)},p(l,i){i&8&&Z(e,l[3])},d(l){l&&y(e),l&&y(n)}}}function Nc(t){let e,n;return{c(){e=P(t[3]),n=P(" minutes")},m(l,i){M(l,e,i),M(l,n,i)},p(l,i){i&8&&Z(e,l[3])},d(l){l&&y(e),l&&y(n)}}}function Ec(t){let e,n;return{c(){e=P(t[2]),n=P(" hour")},m(l,i){M(l,e,i),M(l,n,i)},p(l,i){i&4&&Z(e,l[2])},d(l){l&&y(e),l&&y(n)}}}function Pc(t){let e,n;return{c(){e=P(t[2]),n=P(" hours")},m(l,i){M(l,e,i),M(l,n,i)},p(l,i){i&4&&Z(e,l[2])},d(l){l&&y(e),l&&y(n)}}}function Ac(t){let e,n;return{c(){e=P(t[1]),n=P(" day")},m(l,i){M(l,e,i),M(l,n,i)},p(l,i){i&2&&Z(e,l[1])},d(l){l&&y(e),l&&y(n)}}}function $c(t){let e,n;return{c(){e=P(t[1]),n=P(" days")},m(l,i){M(l,e,i),M(l,n,i)},p(l,i){i&2&&Z(e,l[1])},d(l){l&&y(e),l&&y(n)}}}function Dc(t){let e,n=t[0]&&yr(t);return{c(){n&&n.c(),e=it()},m(l,i){n&&n.m(l,i),M(l,e,i)},p(l,[i]){l[0]?n?n.p(l,i):(n=yr(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:ve,o:ve,d(l){n&&n.d(l),l&&y(e)}}}function Lc(t,e,n){let{epoch:l}=e,i=0,o=0,u=0;return t.$$set=c=>{"epoch"in c&&n(0,l=c.epoch)},t.$$.update=()=>{t.$$.dirty&1&&(n(1,i=Math.floor(l/86400)),n(2,o=Math.floor(l/3600)),n(3,u=Math.floor(l/60)))},[l,i,o,u]}class Ic extends We{constructor(e){super(),He(this,e,Lc,Dc,Be,{epoch:0})}}function Rc(t){let e,n,l;return{c(){e=m("span"),n=P(t[2]),a(e,"title",t[1]),a(e,"class",l="bd-"+t[0])},m(i,o){M(i,e,o),s(e,n)},p(i,[o]){o&4&&Z(n,i[2]),o&2&&a(e,"title",i[1]),o&1&&l!==(l="bd-"+i[0])&&a(e,"class",l)},i:ve,o:ve,d(i){i&&y(e)}}}function Fc(t,e,n){let{color:l}=e,{title:i}=e,{text:o}=e;return t.$$set=u=>{"color"in u&&n(0,l=u.color),"title"in u&&n(1,i=u.title),"text"in u&&n(2,o=u.text)},[l,i,o]}class ln extends We{constructor(e){super(),He(this,e,Fc,Rc,Be,{color:0,title:1,text:2})}}function Oc(t){let e,n=`${Ye(t[0].getDate())}.${Ye(t[0].getMonth()+1)}.${t[0].getFullYear()} ${Ye(t[0].getHours())}:${Ye(t[0].getMinutes())}`,l;return{c(){e=m("span"),l=P(n),a(e,"class",t[1])},m(i,o){M(i,e,o),s(e,l)},p(i,o){o&1&&n!==(n=`${Ye(i[0].getDate())}.${Ye(i[0].getMonth()+1)}.${i[0].getFullYear()} ${Ye(i[0].getHours())}:${Ye(i[0].getMinutes())}`)&&Z(l,n),o&2&&a(e,"class",i[1])},d(i){i&&y(e)}}}function qc(t){let e=`${Ye(t[0].getDate())}. ${pi[t[0].getMonth()]} ${Ye(t[0].getHours())}:${Ye(t[0].getMinutes())}`,n;return{c(){n=P(e)},m(l,i){M(l,n,i)},p(l,i){i&1&&e!==(e=`${Ye(l[0].getDate())}. ${pi[l[0].getMonth()]} ${Ye(l[0].getHours())}:${Ye(l[0].getMinutes())}`)&&Z(n,e)},d(l){l&&y(n)}}}function Bc(t){let e;function n(o,u){return o[2]?qc:Oc}let l=n(t),i=l(t);return{c(){i.c(),e=it()},m(o,u){i.m(o,u),M(o,e,u)},p(o,[u]){l===(l=n(o))&&i?i.p(o,u):(i.d(1),i=l(o),i&&(i.c(),i.m(e.parentNode,e)))},i:ve,o:ve,d(o){i.d(o),o&&y(e)}}}function Uc(t,e,n){let{timestamp:l}=e,{fullTimeColor:i}=e,{offset:o}=e,u;return t.$$set=c=>{"timestamp"in c&&n(0,l=c.timestamp),"fullTimeColor"in c&&n(1,i=c.fullTimeColor),"offset"in c&&n(3,o=c.offset)},t.$$.update=()=>{t.$$.dirty&9&&(n(2,u=Math.abs(new Date().getTime()-l.getTime())<3e5),isNaN(o)||hl(l,o-(24+l.getHours()-l.getUTCHours())%24))},[l,i,u,o]}class Q1 extends We{constructor(e){super(),He(this,e,Uc,Bc,Be,{timestamp:0,fullTimeColor:1,offset:3})}}function jc(t){let e,n,l;return{c(){e=je("svg"),n=je("path"),l=je("path"),a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(n,"d","M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"),a(l,"stroke-linecap","round"),a(l,"stroke-linejoin","round"),a(l,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"fill","none"),a(e,"viewBox","0 0 24 24"),a(e,"stroke-width","1.5"),a(e,"stroke","currentColor"),a(e,"class","w-6 h-6")},m(i,o){M(i,e,o),s(e,n),s(e,l)},p:ve,i:ve,o:ve,d(i){i&&y(e)}}}class Hc extends We{constructor(e){super(),He(this,e,null,jc,Be,{})}}function Wc(t){let e,n;return{c(){e=je("svg"),n=je("path"),a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(n,"d","M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"fill","none"),a(e,"viewBox","0 0 24 24"),a(e,"stroke-width","1.5"),a(e,"stroke","currentColor"),a(e,"class","w-6 h-6")},m(l,i){M(l,e,i),s(e,n)},p:ve,i:ve,o:ve,d(l){l&&y(e)}}}class zc extends We{constructor(e){super(),He(this,e,null,Wc,Be,{})}}function Gc(t){let e,n;return{c(){e=je("svg"),n=je("path"),a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(n,"d","M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"fill","none"),a(e,"viewBox","0 0 24 24"),a(e,"stroke-width","1.5"),a(e,"stroke","currentColor"),a(e,"class","w-6 h-6")},m(l,i){M(l,e,i),s(e,n)},p:ve,i:ve,o:ve,d(l){l&&y(e)}}}class jt extends We{constructor(e){super(),He(this,e,null,Gc,Be,{})}}function Vc(t){let e,n;return{c(){e=je("svg"),n=je("path"),a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(n,"d","M9 8.25H7.5a2.25 2.25 0 00-2.25 2.25v9a2.25 2.25 0 002.25 2.25h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25H15M9 12l3 3m0 0l3-3m-3 3V2.25"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"fill","none"),a(e,"viewBox","0 0 24 24"),a(e,"stroke-width","1.5"),a(e,"stroke","currentColor"),a(e,"class","w-6 h-6")},m(l,i){M(l,e,i),s(e,n)},p:ve,i:ve,o:ve,d(l){l&&y(e)}}}class X1 extends We{constructor(e){super(),He(this,e,null,Vc,Be,{})}}function Kc(t){let e,n,l=t[2].version+"",i;return{c(){e=P("AMS reader "),n=m("span"),i=P(l)},m(o,u){M(o,e,u),M(o,n,u),s(n,i)},p(o,u){u&4&&l!==(l=o[2].version+"")&&Z(i,l)},d(o){o&&y(e),o&&y(n)}}}function Mr(t){let e,n=(t[1].t>-50?t[1].t.toFixed(1):"-")+"",l,i;return{c(){e=m("div"),l=P(n),i=P("\xB0C"),a(e,"class","flex-none my-auto")},m(o,u){M(o,e,u),s(e,l),s(e,i)},p(o,u){u&2&&n!==(n=(o[1].t>-50?o[1].t.toFixed(1):"-")+"")&&Z(l,n)},d(o){o&&y(e)}}}function Sr(t){let e,n="HAN: "+_r(t[1].he),l;return{c(){e=m("div"),l=P(n),a(e,"class","bd-red")},m(i,o){M(i,e,o),s(e,l)},p(i,o){o&2&&n!==(n="HAN: "+_r(i[1].he))&&Z(l,n)},d(i){i&&y(e)}}}function Tr(t){let e,n="MQTT: "+pr(t[1].me),l;return{c(){e=m("div"),l=P(n),a(e,"class","bd-red")},m(i,o){M(i,e,o),s(e,l)},p(i,o){o&2&&n!==(n="MQTT: "+pr(i[1].me))&&Z(l,n)},d(i){i&&y(e)}}}function Nr(t){let e,n="Price service: "+dr(t[1].ee),l;return{c(){e=m("div"),l=P(n),a(e,"class","bd-red")},m(i,o){M(i,e,o),s(e,l)},p(i,o){o&2&&n!==(n="Price service: "+dr(i[1].ee))&&Z(l,n)},d(i){i&&y(e)}}}function Er(t){let e,n,l,i,o,u;return n=new Zt({props:{to:"/configuration",$$slots:{default:[Yc]},$$scope:{ctx:t}}}),o=new Zt({props:{to:"/status",$$slots:{default:[Qc]},$$scope:{ctx:t}}}),{c(){e=m("div"),ae(n.$$.fragment),l=b(),i=m("div"),ae(o.$$.fragment),a(e,"class","flex-none px-1 mt-1"),a(e,"title","Configuration"),a(i,"class","flex-none px-1 mt-1"),a(i,"title","Device information")},m(c,r){M(c,e,r),se(n,e,null),M(c,l,r),M(c,i,r),se(o,i,null),u=!0},i(c){u||(I(n.$$.fragment,c),I(o.$$.fragment,c),u=!0)},o(c){B(n.$$.fragment,c),B(o.$$.fragment,c),u=!1},d(c){c&&y(e),oe(n),c&&y(l),c&&y(i),oe(o)}}}function Yc(t){let e,n;return e=new Hc({}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Qc(t){let e,n;return e=new zc({}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Pr(t){let e,n,l,i,o;const u=[Zc,Xc],c=[];function r(f,p){return f[2].security==0||f[1].a?0:1}return n=r(t),l=c[n]=u[n](t),{c(){e=m("div"),l.c(),a(e,"class","flex-none mr-3 text-yellow-500"),a(e,"title",i="New version: "+t[3].tag_name)},m(f,p){M(f,e,p),c[n].m(e,null),o=!0},p(f,p){let _=n;n=r(f),n===_?c[n].p(f,p):($e(),B(c[_],1,1,()=>{c[_]=null}),De(),l=c[n],l?l.p(f,p):(l=c[n]=u[n](f),l.c()),I(l,1),l.m(e,null)),(!o||p&8&&i!==(i="New version: "+f[3].tag_name))&&a(e,"title",i)},i(f){o||(I(l),o=!0)},o(f){B(l),o=!1},d(f){f&&y(e),c[n].d()}}}function Xc(t){let e,n,l=t[3].tag_name+"",i;return{c(){e=m("span"),n=P("New version: "),i=P(l)},m(o,u){M(o,e,u),s(e,n),s(e,i)},p(o,u){u&8&&l!==(l=o[3].tag_name+"")&&Z(i,l)},i:ve,o:ve,d(o){o&&y(e)}}}function Zc(t){let e,n,l,i=t[3].tag_name+"",o,u,c,r,f,p;return c=new X1({}),{c(){e=m("button"),n=m("span"),l=P("New version: "),o=P(i),u=b(),ae(c.$$.fragment),a(n,"class","mt-1"),a(e,"class","flex")},m(_,h){M(_,e,h),s(e,n),s(n,l),s(n,o),s(e,u),se(c,e,null),r=!0,f||(p=Q(e,"click",t[4]),f=!0)},p(_,h){(!r||h&8)&&i!==(i=_[3].tag_name+"")&&Z(o,i)},i(_){r||(I(c.$$.fragment,_),r=!0)},o(_){B(c.$$.fragment,_),r=!1},d(_){_&&y(e),oe(c),f=!1,p()}}}function Jc(t){let e,n,l,i,o,u,c,r,f,p,_,h,v=(t[1].m?(t[1].m/1e3).toFixed(1):"-")+"",d,g,k,$,T,A,F,L,R,C,N,ee,q,U,H,K,V,Y,G,W,z,x,_e,ie,me,X,ke,Ee,we,Me;i=new Zt({props:{to:"/",$$slots:{default:[Kc]},$$scope:{ctx:t}}}),r=new Ic({props:{epoch:t[1].u}});let le=t[1].t>-50&&Mr(t);T=new ln({props:{title:"ESP",text:t[2].booting?"Booting":t[1].v>2?t[1].v.toFixed(2)+"V":"ESP",color:Rl(t[2].booting?2:t[1].em)}}),F=new ln({props:{title:"HAN",text:"HAN",color:Rl(t[2].booting?9:t[1].hm)}}),R=new ln({props:{title:"WiFi",text:t[1].r?t[1].r.toFixed(0)+"dBm":"WiFi",color:Rl(t[2].booting?9:t[1].wm)}}),N=new ln({props:{title:"MQTT",text:"MQTT",color:Rl(t[2].booting?9:t[1].mm)}});let fe=(t[1].he<0||t[1].he>0)&&Sr(t),Oe=t[1].me<0&&Tr(t),Ie=(t[1].ee>0||t[1].ee<0)&&Nr(t);_e=new Q1({props:{timestamp:t[1].c?new Date(t[1].c*1e3):new Date(0),offset:t[2].clock_offset,fullTimeColor:"text-red-500"}});let E=t[2].vndcfg&&t[2].usrcfg&&Er(t);Ee=new jt({});let w=t[2].fwconsent===1&&t[3]&&Pr(t);return{c(){e=m("nav"),n=m("div"),l=m("div"),ae(i.$$.fragment),o=b(),u=m("div"),c=m("div"),ae(r.$$.fragment),f=b(),le&&le.c(),p=b(),_=m("div"),h=P("Free mem: "),d=P(v),g=P("kb"),k=b(),$=m("div"),ae(T.$$.fragment),A=b(),ae(F.$$.fragment),L=b(),ae(R.$$.fragment),C=b(),ae(N.$$.fragment),ee=b(),fe&&fe.c(),q=b(),Oe&&Oe.c(),U=b(),Ie&&Ie.c(),H=b(),K=m("div"),V=m("div"),Y=m("a"),G=m("img"),z=b(),x=m("div"),ae(_e.$$.fragment),ie=b(),E&&E.c(),me=b(),X=m("div"),ke=m("a"),ae(Ee.$$.fragment),we=b(),w&&w.c(),a(l,"class","flex text-lg text-gray-100 p-2"),a(c,"class","flex-none my-auto"),a(_,"class","flex-none my-auto"),a(u,"class","flex-none my-auto p-2 flex space-x-4"),a($,"class","flex-auto flex-wrap my-auto justify-center p-2"),a(G,"class","gh-logo"),is(G.src,W=t[0]+Cr)||a(G,"src",W),a(G,"alt","GitHub repo"),a(Y,"class","float-right"),a(Y,"href","https://github.com/UtilitechAS/amsreader-firmware"),a(Y,"target","_blank"),a(Y,"rel","noreferrer"),a(Y,"aria-label","GitHub"),a(V,"class","flex-none"),a(x,"class","flex-none my-auto px-2"),a(ke,"href",Ht("")),a(ke,"target","_blank"),a(ke,"rel","noreferrer"),a(X,"class","flex-none px-1 mt-1"),a(X,"title","Documentation"),a(K,"class","flex-auto p-2 flex flex-row-reverse flex-wrap"),a(n,"class","flex flex-wrap space-x-4 text-sm text-gray-300"),a(e,"class","hdr")},m(S,D){M(S,e,D),s(e,n),s(n,l),se(i,l,null),s(n,o),s(n,u),s(u,c),se(r,c,null),s(u,f),le&&le.m(u,null),s(u,p),s(u,_),s(_,h),s(_,d),s(_,g),s(n,k),s(n,$),se(T,$,null),s($,A),se(F,$,null),s($,L),se(R,$,null),s($,C),se(N,$,null),s(n,ee),fe&&fe.m(n,null),s(n,q),Oe&&Oe.m(n,null),s(n,U),Ie&&Ie.m(n,null),s(n,H),s(n,K),s(K,V),s(V,Y),s(Y,G),s(K,z),s(K,x),se(_e,x,null),s(K,ie),E&&E.m(K,null),s(K,me),s(K,X),s(X,ke),se(Ee,ke,null),s(K,we),w&&w.m(K,null),Me=!0},p(S,[D]){const O={};D&36&&(O.$$scope={dirty:D,ctx:S}),i.$set(O);const J={};D&2&&(J.epoch=S[1].u),r.$set(J),S[1].t>-50?le?le.p(S,D):(le=Mr(S),le.c(),le.m(u,p)):le&&(le.d(1),le=null),(!Me||D&2)&&v!==(v=(S[1].m?(S[1].m/1e3).toFixed(1):"-")+"")&&Z(d,v);const ne={};D&6&&(ne.text=S[2].booting?"Booting":S[1].v>2?S[1].v.toFixed(2)+"V":"ESP"),D&6&&(ne.color=Rl(S[2].booting?2:S[1].em)),T.$set(ne);const pe={};D&6&&(pe.color=Rl(S[2].booting?9:S[1].hm)),F.$set(pe);const be={};D&2&&(be.text=S[1].r?S[1].r.toFixed(0)+"dBm":"WiFi"),D&6&&(be.color=Rl(S[2].booting?9:S[1].wm)),R.$set(be);const Ae={};D&6&&(Ae.color=Rl(S[2].booting?9:S[1].mm)),N.$set(Ae),S[1].he<0||S[1].he>0?fe?fe.p(S,D):(fe=Sr(S),fe.c(),fe.m(n,q)):fe&&(fe.d(1),fe=null),S[1].me<0?Oe?Oe.p(S,D):(Oe=Tr(S),Oe.c(),Oe.m(n,U)):Oe&&(Oe.d(1),Oe=null),S[1].ee>0||S[1].ee<0?Ie?Ie.p(S,D):(Ie=Nr(S),Ie.c(),Ie.m(n,H)):Ie&&(Ie.d(1),Ie=null),(!Me||D&1&&!is(G.src,W=S[0]+Cr))&&a(G,"src",W);const Fe={};D&2&&(Fe.timestamp=S[1].c?new Date(S[1].c*1e3):new Date(0)),D&4&&(Fe.offset=S[2].clock_offset),_e.$set(Fe),S[2].vndcfg&&S[2].usrcfg?E?D&4&&I(E,1):(E=Er(S),E.c(),I(E,1),E.m(K,me)):E&&($e(),B(E,1,1,()=>{E=null}),De()),S[2].fwconsent===1&&S[3]?w?(w.p(S,D),D&12&&I(w,1)):(w=Pr(S),w.c(),I(w,1),w.m(K,null)):w&&($e(),B(w,1,1,()=>{w=null}),De())},i(S){Me||(I(i.$$.fragment,S),I(r.$$.fragment,S),I(T.$$.fragment,S),I(F.$$.fragment,S),I(R.$$.fragment,S),I(N.$$.fragment,S),I(_e.$$.fragment,S),I(E),I(Ee.$$.fragment,S),I(w),Me=!0)},o(S){B(i.$$.fragment,S),B(r.$$.fragment,S),B(T.$$.fragment,S),B(F.$$.fragment,S),B(R.$$.fragment,S),B(N.$$.fragment,S),B(_e.$$.fragment,S),B(E),B(Ee.$$.fragment,S),B(w),Me=!1},d(S){S&&y(e),oe(i),oe(r),le&&le.d(),oe(T),oe(F),oe(R),oe(N),fe&&fe.d(),Oe&&Oe.d(),Ie&&Ie.d(),oe(_e),E&&E.d(),oe(Ee),w&&w.d()}}}function xc(t,e,n){let{basepath:l="/"}=e,{data:i={}}=e,o={},u={};function c(){confirm("Do you want to upgrade this device to "+u.tag_name+"?")&&(!Vn(o.board)||confirm(fs(Ce(o.chip,o.board))))&&(St.update(r=>(r.upgrading=!0,r)),K1(u.tag_name))}return St.subscribe(r=>{n(2,o=r),r.fwconsent===1&&yc()}),mo.subscribe(r=>{n(3,u=Y1(o.version,r))}),t.$$set=r=>{"basepath"in r&&n(0,l=r.basepath),"data"in r&&n(1,i=r.data)},[l,i,o,u,c]}class em extends We{constructor(e){super(),He(this,e,xc,Jc,Be,{basepath:0,data:1})}}function tm(t){let e,n,l,i;return{c(){e=je("svg"),n=je("path"),l=je("path"),a(n,"d",Rs(150,150,115,210,510)),a(n,"stroke","rgba(128, 128, 128, 0.15)"),a(n,"fill","none"),a(n,"stroke-width","55"),a(l,"d",i=Rs(150,150,115,210,210+300*t[0]/100)),a(l,"stroke",t[1]),a(l,"fill","none"),a(l,"stroke-width","55"),a(e,"viewBox","0 0 300 300"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"height","100%")},m(o,u){M(o,e,u),s(e,n),s(e,l)},p(o,[u]){u&1&&i!==(i=Rs(150,150,115,210,210+300*o[0]/100))&&a(l,"d",i),u&2&&a(l,"stroke",o[1])},i:ve,o:ve,d(o){o&&y(e)}}}function Ar(t,e,n,l){var i=(l-90)*Math.PI/180;return{x:t+n*Math.cos(i),y:e+n*Math.sin(i)}}function Rs(t,e,n,l,i){var o=Ar(t,e,n,i),u=Ar(t,e,n,l),c=i-l<=180?"0":"1",r=["M",o.x,o.y,"A",n,n,0,c,0,u.x,u.y].join(" ");return r}function lm(t,e,n){let{pct:l=0}=e,{color:i="red"}=e;return t.$$set=o=>{"pct"in o&&n(0,l=o.pct),"color"in o&&n(1,i=o.color)},[l,i]}class nm extends We{constructor(e){super(),He(this,e,lm,tm,Be,{pct:0,color:1})}}function $r(t){let e,n,l,i,o,u,c,r;return{c(){e=m("br"),n=b(),l=m("span"),i=P(t[3]),o=b(),u=m("span"),c=P(t[4]),r=P("/kWh"),a(l,"class","pl-sub"),a(u,"class","pl-snt")},m(f,p){M(f,e,p),M(f,n,p),M(f,l,p),s(l,i),M(f,o,p),M(f,u,p),s(u,c),s(u,r)},p(f,p){p&8&&Z(i,f[3]),p&16&&Z(c,f[4])},d(f){f&&y(e),f&&y(n),f&&y(l),f&&y(o),f&&y(u)}}}function im(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g,k;n=new nm({props:{pct:t[6],color:t[5](t[6],document.documentElement.classList.contains("dark"))}});let $=t[3]&&$r(t);return{c(){e=m("div"),ae(n.$$.fragment),l=b(),i=m("span"),o=m("span"),u=P(t[2]),c=b(),r=m("br"),f=b(),p=m("span"),_=P(t[0]),h=b(),v=m("span"),d=P(t[1]),g=b(),$&&$.c(),a(o,"class","pl-lab"),a(p,"class","pl-val"),a(v,"class","pl-unt"),a(i,"class","pl-ov"),a(e,"class","pl-root")},m(T,A){M(T,e,A),se(n,e,null),s(e,l),s(e,i),s(i,o),s(o,u),s(i,c),s(i,r),s(i,f),s(i,p),s(p,_),s(i,h),s(i,v),s(v,d),s(i,g),$&&$.m(i,null),k=!0},p(T,[A]){const F={};A&64&&(F.pct=T[6]),A&96&&(F.color=T[5](T[6],document.documentElement.classList.contains("dark"))),n.$set(F),(!k||A&4)&&Z(u,T[2]),(!k||A&1)&&Z(_,T[0]),(!k||A&2)&&Z(d,T[1]),T[3]?$?$.p(T,A):($=$r(T),$.c(),$.m(i,null)):$&&($.d(1),$=null)},i(T){k||(I(n.$$.fragment,T),k=!0)},o(T){B(n.$$.fragment,T),k=!1},d(T){T&&y(e),oe(n),$&&$.d()}}}function sm(t,e,n){let{val:l}=e,{max:i}=e,{unit:o}=e,{label:u}=e,{sub:c=""}=e,{subunit:r=""}=e,{colorFn:f}=e,p=0;return t.$$set=_=>{"val"in _&&n(0,l=_.val),"max"in _&&n(7,i=_.max),"unit"in _&&n(1,o=_.unit),"label"in _&&n(2,u=_.label),"sub"in _&&n(3,c=_.sub),"subunit"in _&&n(4,r=_.subunit),"colorFn"in _&&n(5,f=_.colorFn)},t.$$.update=()=>{t.$$.dirty&129&&n(6,p=Math.min(l,i)/i*100)},[l,o,u,c,r,f,p,i]}class Z1 extends We{constructor(e){super(),He(this,e,sm,im,Be,{val:0,max:7,unit:1,label:2,sub:3,subunit:4,colorFn:5})}}function Dr(t,e,n){const l=t.slice();return l[11]=e[n],l[13]=n,l}function Lr(t,e,n){const l=t.slice();return l[11]=e[n],l[13]=n,l}function Ir(t,e,n){const l=t.slice();return l[15]=e[n],l}function Rr(t){let e,n,l,i,o,u,c=t[0].title&&Fr(t),r=t[0].y.ticks,f=[];for(let d=0;d<r.length;d+=1)f[d]=qr(Ir(t,r,d));let p=t[0].x.ticks,_=[];for(let d=0;d<p.length;d+=1)_[d]=jr(Lr(t,p,d));let h=t[0].points,v=[];for(let d=0;d<h.length;d+=1)v[d]=Qr(Dr(t,h,d));return{c(){c&&c.c(),e=b(),n=je("svg"),l=je("g");for(let d=0;d<f.length;d+=1)f[d].c();i=je("g");for(let d=0;d<_.length;d+=1)_[d].c();o=je("g");for(let d=0;d<v.length;d+=1)v[d].c();a(l,"class","axis y-axis"),a(i,"class","axis x-axis"),a(o,"class","bars"),a(n,"xmlns","http://www.w3.org/2000/svg"),a(n,"viewBox",u="0 0 "+t[1]+" "+t[4])},m(d,g){c&&c.m(d,g),M(d,e,g),M(d,n,g),s(n,l);for(let k=0;k<f.length;k+=1)f[k]&&f[k].m(l,null);s(n,i);for(let k=0;k<_.length;k+=1)_[k]&&_[k].m(i,null);s(n,o);for(let k=0;k<v.length;k+=1)v[k]&&v[k].m(o,null)},p(d,g){if(d[0].title?c?c.p(d,g):(c=Fr(d),c.c(),c.m(e.parentNode,e)):c&&(c.d(1),c=null),g&129){r=d[0].y.ticks;let k;for(k=0;k<r.length;k+=1){const $=Ir(d,r,k);f[k]?f[k].p($,g):(f[k]=qr($),f[k].c(),f[k].m(l,null))}for(;k<f.length;k+=1)f[k].d(1);f.length=r.length}if(g&89){p=d[0].x.ticks;let k;for(k=0;k<p.length;k+=1){const $=Lr(d,p,k);_[k]?_[k].p($,g):(_[k]=jr($),_[k].c(),_[k].m(i,null))}for(;k<_.length;k+=1)_[k].d(1);_.length=p.length}if(g&457){h=d[0].points;let k;for(k=0;k<h.length;k+=1){const $=Dr(d,h,k);v[k]?v[k].p($,g):(v[k]=Qr($),v[k].c(),v[k].m(o,null))}for(;k<v.length;k+=1)v[k].d(1);v.length=h.length}g&18&&u!==(u="0 0 "+d[1]+" "+d[4])&&a(n,"viewBox",u)},d(d){c&&c.d(d),d&&y(e),d&&y(n),ct(f,d),ct(_,d),ct(v,d)}}}function Fr(t){let e,n=t[0].title+"",l,i;return{c(){e=m("div"),l=P(n),a(e,"class","text-sm font-bold"),Ze(()=>t[9].call(e))},m(o,u){M(o,e,u),s(e,l),i=lo(e,t[9].bind(e))},p(o,u){u&1&&n!==(n=o[0].title+"")&&Z(l,n)},d(o){o&&y(e),i()}}}function Or(t){let e,n,l,i=t[15].label+"",o,u,c,r;return{c(){e=je("g"),n=je("line"),l=je("text"),o=P(i),a(n,"x2","100%"),a(l,"y","-4"),a(l,"x",u=t[15].align=="right"?"85%":""),a(e,"class",c="tick tick-"+t[15].value+" tick-"+t[15].color),a(e,"transform",r="translate(0, "+t[7](t[15].value)+")")},m(f,p){M(f,e,p),s(e,n),s(e,l),s(l,o)},p(f,p){p&1&&i!==(i=f[15].label+"")&&Z(o,i),p&1&&u!==(u=f[15].align=="right"?"85%":"")&&a(l,"x",u),p&1&&c!==(c="tick tick-"+f[15].value+" tick-"+f[15].color)&&a(e,"class",c),p&129&&r!==(r="translate(0, "+f[7](f[15].value)+")")&&a(e,"transform",r)},d(f){f&&y(e)}}}function qr(t){let e=!isNaN(t[7](t[15].value)),n,l=e&&Or(t);return{c(){l&&l.c(),n=it()},m(i,o){l&&l.m(i,o),M(i,n,o)},p(i,o){o&129&&(e=!isNaN(i[7](i[15].value))),e?l?l.p(i,o):(l=Or(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){l&&l.d(i),i&&y(n)}}}function Br(t){let e,n,l=(t[3]>20||t[13]%2==0)&&Ur(t);return{c(){e=je("g"),l&&l.c(),a(e,"class","tick"),a(e,"transform",n="translate("+t[6](t[13])+","+t[4]+")")},m(i,o){M(i,e,o),l&&l.m(e,null)},p(i,o){i[3]>20||i[13]%2==0?l?l.p(i,o):(l=Ur(i),l.c(),l.m(e,null)):l&&(l.d(1),l=null),o&80&&n!==(n="translate("+i[6](i[13])+","+i[4]+")")&&a(e,"transform",n)},d(i){i&&y(e),l&&l.d()}}}function Ur(t){let e,n=t[11].label+"",l,i;return{c(){e=je("text"),l=P(n),a(e,"x",i=t[3]/2),a(e,"y","-4")},m(o,u){M(o,e,u),s(e,l)},p(o,u){u&1&&n!==(n=o[11].label+"")&&Z(l,n),u&8&&i!==(i=o[3]/2)&&a(e,"x",i)},d(o){o&&y(e)}}}function jr(t){let e=!isNaN(t[6](t[13])),n,l=e&&Br(t);return{c(){l&&l.c(),n=it()},m(i,o){l&&l.m(i,o),M(i,n,o)},p(i,o){o&64&&(e=!isNaN(i[6](i[13]))),e?l?l.p(i,o):(l=Br(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){l&&l.d(i),i&&y(n)}}}function Hr(t){let e,n,l=t[11].value!==void 0&&Wr(t),i=t[11].value2>1e-4&&Vr(t);return{c(){e=je("g"),l&&l.c(),n=je("g"),i&&i.c()},m(o,u){M(o,e,u),l&&l.m(e,null),M(o,n,u),i&&i.m(n,null)},p(o,u){o[11].value!==void 0?l?l.p(o,u):(l=Wr(o),l.c(),l.m(e,null)):l&&(l.d(1),l=null),o[11].value2>1e-4?i?i.p(o,u):(i=Vr(o),i.c(),i.m(n,null)):i&&(i.d(1),i=null)},d(o){o&&y(e),l&&l.d(),o&&y(n),i&&i.d()}}}function Wr(t){let e,n,l,i,o,u,c,r=t[3]>15&&zr(t);return{c(){e=je("rect"),r&&r.c(),c=it(),a(e,"x",n=t[6](t[13])+2),a(e,"y",l=t[7](t[11].value)),a(e,"width",i=t[3]-4),a(e,"height",o=t[7](t[0].y.min)-t[7](Math.min(t[0].y.min,0)+t[11].value)),a(e,"fill",u=t[11].color)},m(f,p){M(f,e,p),r&&r.m(f,p),M(f,c,p)},p(f,p){p&64&&n!==(n=f[6](f[13])+2)&&a(e,"x",n),p&129&&l!==(l=f[7](f[11].value))&&a(e,"y",l),p&8&&i!==(i=f[3]-4)&&a(e,"width",i),p&129&&o!==(o=f[7](f[0].y.min)-f[7](Math.min(f[0].y.min,0)+f[11].value))&&a(e,"height",o),p&1&&u!==(u=f[11].color)&&a(e,"fill",u),f[3]>15?r?r.p(f,p):(r=zr(f),r.c(),r.m(c.parentNode,c)):r&&(r.d(1),r=null)},d(f){f&&y(e),r&&r.d(f),f&&y(c)}}}function zr(t){let e,n=t[11].label+"",l,i,o,u,c,r,f=t[11].title&&Gr(t);return{c(){e=je("text"),l=P(n),f&&f.c(),r=it(),a(e,"width",i=t[3]-4),a(e,"dominant-baseline","middle"),a(e,"text-anchor",o=t[3]<nn||t[11].labelAngle?"left":"middle"),a(e,"fill",u=t[7](t[11].value)>t[7](0)-t[8]?t[11].color:"white"),a(e,"transform",c="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](t[11].value)>t[7](0)-t[8]?t[7](t[11].value)-t[8]:t[7](t[11].value)+10)+") rotate("+(t[11].labelAngle?t[11].labelAngle:t[3]<nn?90:0)+")")},m(p,_){M(p,e,_),s(e,l),f&&f.m(p,_),M(p,r,_)},p(p,_){_&1&&n!==(n=p[11].label+"")&&Z(l,n),_&8&&i!==(i=p[3]-4)&&a(e,"width",i),_&9&&o!==(o=p[3]<nn||p[11].labelAngle?"left":"middle")&&a(e,"text-anchor",o),_&385&&u!==(u=p[7](p[11].value)>p[7](0)-p[8]?p[11].color:"white")&&a(e,"fill",u),_&457&&c!==(c="translate("+(p[6](p[13])+p[3]/2)+" "+(p[7](p[11].value)>p[7](0)-p[8]?p[7](p[11].value)-p[8]:p[7](p[11].value)+10)+") rotate("+(p[11].labelAngle?p[11].labelAngle:p[3]<nn?90:0)+")")&&a(e,"transform",c),p[11].title?f?f.p(p,_):(f=Gr(p),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null)},d(p){p&&y(e),f&&f.d(p),p&&y(r)}}}function Gr(t){let e,n=t[11].title+"",l;return{c(){e=je("title"),l=P(n)},m(i,o){M(i,e,o),s(e,l)},p(i,o){o&1&&n!==(n=i[11].title+"")&&Z(l,n)},d(i){i&&y(e)}}}function Vr(t){let e,n,l,i,o,u,c,r=t[3]>15&&Kr(t);return{c(){e=je("rect"),r&&r.c(),c=it(),a(e,"x",n=t[6](t[13])+2),a(e,"y",l=t[7](0)),a(e,"width",i=t[3]-4),a(e,"height",o=t[7](t[0].y.min)-t[7](t[0].y.min+t[11].value2)),a(e,"fill",u=t[11].color2?t[11].color2:t[11].color)},m(f,p){M(f,e,p),r&&r.m(f,p),M(f,c,p)},p(f,p){p&64&&n!==(n=f[6](f[13])+2)&&a(e,"x",n),p&128&&l!==(l=f[7](0))&&a(e,"y",l),p&8&&i!==(i=f[3]-4)&&a(e,"width",i),p&129&&o!==(o=f[7](f[0].y.min)-f[7](f[0].y.min+f[11].value2))&&a(e,"height",o),p&1&&u!==(u=f[11].color2?f[11].color2:f[11].color)&&a(e,"fill",u),f[3]>15?r?r.p(f,p):(r=Kr(f),r.c(),r.m(c.parentNode,c)):r&&(r.d(1),r=null)},d(f){f&&y(e),r&&r.d(f),f&&y(c)}}}function Kr(t){let e,n=t[11].label2+"",l,i,o,u,c,r=t[11].title2&&Yr(t);return{c(){e=je("text"),l=P(n),r&&r.c(),c=it(),a(e,"width",i=t[3]-4),a(e,"dominant-baseline","middle"),a(e,"text-anchor","middle"),a(e,"fill",o=t[7](-t[11].value2)<t[7](0)+15?t[11].color2?t[11].color2:t[11].color:"white"),a(e,"transform",u="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](-t[11].value2)<t[7](0)+15?t[7](-t[11].value2)+15:t[7](-t[11].value2)-14)+") rotate("+(t[3]<nn?90:0)+")")},m(f,p){M(f,e,p),s(e,l),r&&r.m(f,p),M(f,c,p)},p(f,p){p&1&&n!==(n=f[11].label2+"")&&Z(l,n),p&8&&i!==(i=f[3]-4)&&a(e,"width",i),p&129&&o!==(o=f[7](-f[11].value2)<f[7](0)+15?f[11].color2?f[11].color2:f[11].color:"white")&&a(e,"fill",o),p&201&&u!==(u="translate("+(f[6](f[13])+f[3]/2)+" "+(f[7](-f[11].value2)<f[7](0)+15?f[7](-f[11].value2)+15:f[7](-f[11].value2)-14)+") rotate("+(f[3]<nn?90:0)+")")&&a(e,"transform",u),f[11].title2?r?r.p(f,p):(r=Yr(f),r.c(),r.m(c.parentNode,c)):r&&(r.d(1),r=null)},d(f){f&&y(e),r&&r.d(f),f&&y(c)}}}function Yr(t){let e,n=t[11].title2+"",l;return{c(){e=je("title"),l=P(n)},m(i,o){M(i,e,o),s(e,l)},p(i,o){o&1&&n!==(n=i[11].title2+"")&&Z(l,n)},d(i){i&&y(e)}}}function Qr(t){let e=!isNaN(t[6](t[13]))&&!isNaN(t[7](t[11].value)),n,l=e&&Hr(t);return{c(){l&&l.c(),n=it()},m(i,o){l&&l.m(i,o),M(i,n,o)},p(i,o){o&193&&(e=!isNaN(i[6](i[13]))&&!isNaN(i[7](i[11].value))),e?l?l.p(i,o):(l=Hr(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){l&&l.d(i),i&&y(n)}}}function om(t){let e,n,l=t[0].x.ticks&&t[0].points&&t[4]&&Rr(t);return{c(){e=m("div"),l&&l.c(),a(e,"class","chart"),Ze(()=>t[10].call(e))},m(i,o){M(i,e,o),l&&l.m(e,null),n=lo(e,t[10].bind(e))},p(i,[o]){i[0].x.ticks&&i[0].points&&i[4]?l?l.p(i,o):(l=Rr(i),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:ve,o:ve,d(i){i&&y(e),l&&l.d(),n()}}}let nn=30;function am(t,e,n){let{config:l}=e,i,o,u,c,r,f,p,_=0;function h(){_=this.clientHeight,n(5,_)}function v(){i=this.clientWidth,o=this.clientHeight,n(1,i),n(2,o)}return t.$$set=d=>{"config"in d&&n(0,l=d.config)},t.$$.update=()=>{if(t.$$.dirty&63){n(4,f=o-_);let d=i-(l.padding.left+l.padding.right);n(3,u=d/l.points.length),n(8,p=u<nn?30:15);let g=(f-l.padding.top-l.padding.bottom)/(l.y.max-l.y.min);n(6,c=function(k){return k*u+l.padding.left}),n(7,r=function(k){let $=0;return k>l.y.max?$=l.padding.bottom:k<l.y.min?$=f-l.padding.bottom:$=f-l.padding.bottom-(k-l.y.min)*g,$>f||$<0?0:$})}},[l,i,o,u,f,_,c,r,p,h,v]}class an extends We{constructor(e){super(),He(this,e,am,om,Be,{config:0})}}function rm(t){let e,n;return e=new an({props:{config:t[0]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,[i]){const o={};i&1&&(o.config=l[0]),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function um(t,e,n){let{u1:l}=e,{u2:i}=e,{u3:o}=e,{ds:u}=e,c={};function r(f){return{label:Ne(f)+"V",title:f.toFixed(1)+" V",value:isNaN(f)?0:f,color:wc(f||0,document.documentElement.classList.contains("dark"))}}return t.$$set=f=>{"u1"in f&&n(1,l=f.u1),"u2"in f&&n(2,i=f.u2),"u3"in f&&n(3,o=f.u3),"ds"in f&&n(4,u=f.ds)},t.$$.update=()=>{if(t.$$.dirty&30){let f=[],p=[];l>0&&(f.push({label:u===1?"L1-L2":"L1"}),p.push(r(l))),i>0&&(f.push({label:u===1?"L1-L3":"L2"}),p.push(r(i))),o>0&&(f.push({label:u===1?"L2-L3":"L3"}),p.push(r(o))),n(0,c={title:"Voltage",padding:{top:20,right:15,bottom:20,left:35},y:{min:200,max:260,ticks:[{value:207,label:"-10%"},{value:230,label:"230v"},{value:253,label:"+10%"}]},x:{ticks:f},points:p})}},[c,l,i,o,u]}class fm extends We{constructor(e){super(),He(this,e,um,rm,Be,{u1:1,u2:2,u3:3,ds:4})}}function cm(t){let e,n,l,i,o,u,c,r=(typeof t[0]<"u"?t[0].toFixed(0):"-")+"",f,p,_,h,v,d,g=(typeof t[1]<"u"?t[1].toFixed(0):"-")+"",k,$,T,A,F,L,R,C=(typeof t[2]<"u"?t[2].toFixed(1):"-")+"",N,ee,q,U,H,K,V=(typeof t[3]<"u"?t[3].toFixed(1):"-")+"",Y,G;return{c(){e=m("div"),n=m("strong"),n.textContent="Reactive",l=b(),i=m("div"),o=m("div"),o.textContent="Instant in",u=b(),c=m("div"),f=P(r),p=P(" VAr"),_=b(),h=m("div"),h.textContent="Instant out",v=b(),d=m("div"),k=P(g),$=P(" VAr"),T=b(),A=m("div"),F=m("div"),F.textContent="Total in",L=b(),R=m("div"),N=P(C),ee=P(" kVArh"),q=b(),U=m("div"),U.textContent="Total out",H=b(),K=m("div"),Y=P(V),G=P(" kVArh"),a(c,"class","text-right"),a(d,"class","text-right"),a(i,"class","grid grid-cols-2 mt-4"),a(R,"class","text-right"),a(K,"class","text-right"),a(A,"class","grid grid-cols-2 mt-4"),a(e,"class","mx-2 text-sm")},m(W,z){M(W,e,z),s(e,n),s(e,l),s(e,i),s(i,o),s(i,u),s(i,c),s(c,f),s(c,p),s(i,_),s(i,h),s(i,v),s(i,d),s(d,k),s(d,$),s(e,T),s(e,A),s(A,F),s(A,L),s(A,R),s(R,N),s(R,ee),s(A,q),s(A,U),s(A,H),s(A,K),s(K,Y),s(K,G)},p(W,[z]){z&1&&r!==(r=(typeof W[0]<"u"?W[0].toFixed(0):"-")+"")&&Z(f,r),z&2&&g!==(g=(typeof W[1]<"u"?W[1].toFixed(0):"-")+"")&&Z(k,g),z&4&&C!==(C=(typeof W[2]<"u"?W[2].toFixed(1):"-")+"")&&Z(N,C),z&8&&V!==(V=(typeof W[3]<"u"?W[3].toFixed(1):"-")+"")&&Z(Y,V)},i:ve,o:ve,d(W){W&&y(e)}}}function mm(t,e,n){let{importInstant:l}=e,{exportInstant:i}=e,{importTotal:o}=e,{exportTotal:u}=e;return t.$$set=c=>{"importInstant"in c&&n(0,l=c.importInstant),"exportInstant"in c&&n(1,i=c.exportInstant),"importTotal"in c&&n(2,o=c.importTotal),"exportTotal"in c&&n(3,u=c.exportTotal)},[l,i,o,u]}class _m extends We{constructor(e){super(),He(this,e,mm,cm,Be,{importInstant:0,exportInstant:1,importTotal:2,exportTotal:3})}}function Xr(t){let e;function n(o,u){return o[3]?dm:pm}let l=n(t),i=l(t);return{c(){i.c(),e=it()},m(o,u){i.m(o,u),M(o,e,u)},p(o,u){l===(l=n(o))&&i?i.p(o,u):(i.d(1),i=l(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&y(e)}}}function pm(t){let e,n,l,i,o,u,c=Ne(t[1].h.u,2)+"",r,f,p,_,h,v,d=Ne(t[1].d.u,1)+"",g,k,$,T,A,F,L=Ne(t[1].m.u)+"",R,C,N,ee,q,U,H=Ne(t[0].last_month.u)+"",K,V,Y,G,W=t[4]&&Zr(t);return{c(){e=m("strong"),e.textContent="Consumption",n=b(),l=m("div"),i=m("div"),i.textContent="Hour",o=b(),u=m("div"),r=P(c),f=P(" kWh"),p=b(),_=m("div"),_.textContent="Day",h=b(),v=m("div"),g=P(d),k=P(" kWh"),$=b(),T=m("div"),T.textContent="Month",A=b(),F=m("div"),R=P(L),C=P(" kWh"),N=b(),ee=m("div"),ee.textContent="Last month",q=b(),U=m("div"),K=P(H),V=P(" kWh"),Y=b(),W&&W.c(),G=it(),a(u,"class","text-right"),a(v,"class","text-right"),a(F,"class","text-right"),a(U,"class","text-right"),a(l,"class","grid grid-cols-2 mb-3")},m(z,x){M(z,e,x),M(z,n,x),M(z,l,x),s(l,i),s(l,o),s(l,u),s(u,r),s(u,f),s(l,p),s(l,_),s(l,h),s(l,v),s(v,g),s(v,k),s(l,$),s(l,T),s(l,A),s(l,F),s(F,R),s(F,C),s(l,N),s(l,ee),s(l,q),s(l,U),s(U,K),s(U,V),M(z,Y,x),W&&W.m(z,x),M(z,G,x)},p(z,x){x&2&&c!==(c=Ne(z[1].h.u,2)+"")&&Z(r,c),x&2&&d!==(d=Ne(z[1].d.u,1)+"")&&Z(g,d),x&2&&L!==(L=Ne(z[1].m.u)+"")&&Z(R,L),x&1&&H!==(H=Ne(z[0].last_month.u)+"")&&Z(K,H),z[4]?W?W.p(z,x):(W=Zr(z),W.c(),W.m(G.parentNode,G)):W&&(W.d(1),W=null)},d(z){z&&y(e),z&&y(n),z&&y(l),z&&y(Y),W&&W.d(z),z&&y(G)}}}function dm(t){let e,n,l,i,o,u,c=Ne(t[1].h.u,2)+"",r,f,p,_,h,v,d,g=Ne(t[1].d.u,1)+"",k,$,T,A,F,L,R,C=Ne(t[1].m.u)+"",N,ee,q,U,H,K,V,Y=Ne(t[0].last_month.u)+"",G,W,z,x,_e,ie,me,X,ke,Ee,we,Me=Ne(t[1].h.p,2)+"",le,fe,Oe,Ie,E,w,S,D=Ne(t[1].d.p,1)+"",O,J,ne,pe,be,Ae,Fe,ce=Ne(t[1].m.p)+"",Pe,ze,mt,Ke,ut,Ge,_t,Ue=Ne(t[0].last_month.p)+"",Pt,pt,ht,xe,Re=t[4]&&Jr(t),tt=t[4]&&xr(t),Le=t[4]&&eu(t),Je=t[4]&&tu(t),at=t[4]&&lu(t),qe=t[4]&&nu(t),ye=t[4]&&iu(t),he=t[4]&&su(t);return{c(){e=m("strong"),e.textContent="Import",n=b(),l=m("div"),i=m("div"),i.textContent="Hour",o=b(),u=m("div"),r=P(c),f=P(" kWh"),p=b(),Re&&Re.c(),_=b(),h=m("div"),h.textContent="Day",v=b(),d=m("div"),k=P(g),$=P(" kWh"),T=b(),tt&&tt.c(),A=b(),F=m("div"),F.textContent="Month",L=b(),R=m("div"),N=P(C),ee=P(" kWh"),q=b(),Le&&Le.c(),U=b(),H=m("div"),H.textContent="Last mo.",K=b(),V=m("div"),G=P(Y),W=P(" kWh"),z=b(),Je&&Je.c(),_e=b(),ie=m("strong"),ie.textContent="Export",me=b(),X=m("div"),ke=m("div"),ke.textContent="Hour",Ee=b(),we=m("div"),le=P(Me),fe=P(" kWh"),Oe=b(),at&&at.c(),Ie=b(),E=m("div"),E.textContent="Day",w=b(),S=m("div"),O=P(D),J=P(" kWh"),ne=b(),qe&&qe.c(),pe=b(),be=m("div"),be.textContent="Month",Ae=b(),Fe=m("div"),Pe=P(ce),ze=P(" kWh"),mt=b(),ye&&ye.c(),Ke=b(),ut=m("div"),ut.textContent="Last mo.",Ge=b(),_t=m("div"),Pt=P(Ue),pt=P(" kWh"),ht=b(),he&&he.c(),a(u,"class","text-right"),a(d,"class","text-right"),a(R,"class","text-right"),a(V,"class","text-right"),a(l,"class",x="grid grid-cols-"+t[5]+" mb-3"),a(we,"class","text-right"),a(S,"class","text-right"),a(Fe,"class","text-right"),a(_t,"class","text-right"),a(X,"class",xe="grid grid-cols-"+t[5])},m(de,Ve){M(de,e,Ve),M(de,n,Ve),M(de,l,Ve),s(l,i),s(l,o),s(l,u),s(u,r),s(u,f),s(l,p),Re&&Re.m(l,null),s(l,_),s(l,h),s(l,v),s(l,d),s(d,k),s(d,$),s(l,T),tt&&tt.m(l,null),s(l,A),s(l,F),s(l,L),s(l,R),s(R,N),s(R,ee),s(l,q),Le&&Le.m(l,null),s(l,U),s(l,H),s(l,K),s(l,V),s(V,G),s(V,W),s(l,z),Je&&Je.m(l,null),M(de,_e,Ve),M(de,ie,Ve),M(de,me,Ve),M(de,X,Ve),s(X,ke),s(X,Ee),s(X,we),s(we,le),s(we,fe),s(X,Oe),at&&at.m(X,null),s(X,Ie),s(X,E),s(X,w),s(X,S),s(S,O),s(S,J),s(X,ne),qe&&qe.m(X,null),s(X,pe),s(X,be),s(X,Ae),s(X,Fe),s(Fe,Pe),s(Fe,ze),s(X,mt),ye&&ye.m(X,null),s(X,Ke),s(X,ut),s(X,Ge),s(X,_t),s(_t,Pt),s(_t,pt),s(X,ht),he&&he.m(X,null)},p(de,Ve){Ve&2&&c!==(c=Ne(de[1].h.u,2)+"")&&Z(r,c),de[4]?Re?Re.p(de,Ve):(Re=Jr(de),Re.c(),Re.m(l,_)):Re&&(Re.d(1),Re=null),Ve&2&&g!==(g=Ne(de[1].d.u,1)+"")&&Z(k,g),de[4]?tt?tt.p(de,Ve):(tt=xr(de),tt.c(),tt.m(l,A)):tt&&(tt.d(1),tt=null),Ve&2&&C!==(C=Ne(de[1].m.u)+"")&&Z(N,C),de[4]?Le?Le.p(de,Ve):(Le=eu(de),Le.c(),Le.m(l,U)):Le&&(Le.d(1),Le=null),Ve&1&&Y!==(Y=Ne(de[0].last_month.u)+"")&&Z(G,Y),de[4]?Je?Je.p(de,Ve):(Je=tu(de),Je.c(),Je.m(l,null)):Je&&(Je.d(1),Je=null),Ve&32&&x!==(x="grid grid-cols-"+de[5]+" mb-3")&&a(l,"class",x),Ve&2&&Me!==(Me=Ne(de[1].h.p,2)+"")&&Z(le,Me),de[4]?at?at.p(de,Ve):(at=lu(de),at.c(),at.m(X,Ie)):at&&(at.d(1),at=null),Ve&2&&D!==(D=Ne(de[1].d.p,1)+"")&&Z(O,D),de[4]?qe?qe.p(de,Ve):(qe=nu(de),qe.c(),qe.m(X,pe)):qe&&(qe.d(1),qe=null),Ve&2&&ce!==(ce=Ne(de[1].m.p)+"")&&Z(Pe,ce),de[4]?ye?ye.p(de,Ve):(ye=iu(de),ye.c(),ye.m(X,Ke)):ye&&(ye.d(1),ye=null),Ve&1&&Ue!==(Ue=Ne(de[0].last_month.p)+"")&&Z(Pt,Ue),de[4]?he?he.p(de,Ve):(he=su(de),he.c(),he.m(X,null)):he&&(he.d(1),he=null),Ve&32&&xe!==(xe="grid grid-cols-"+de[5])&&a(X,"class",xe)},d(de){de&&y(e),de&&y(n),de&&y(l),Re&&Re.d(),tt&&tt.d(),Le&&Le.d(),Je&&Je.d(),de&&y(_e),de&&y(ie),de&&y(me),de&&y(X),at&&at.d(),qe&&qe.d(),ye&&ye.d(),he&&he.d()}}}function Zr(t){let e,n,l,i,o,u,c=Ne(t[1].h.c,2)+"",r,f,p,_,h,v,d,g=Ne(t[1].d.c,1)+"",k,$,T,A,F,L,R,C=Ne(t[1].m.c)+"",N,ee,q,U,H,K,V,Y=Ne(t[0].last_month.c)+"",G,W,z;return{c(){e=m("strong"),e.textContent="Cost",n=b(),l=m("div"),i=m("div"),i.textContent="Hour",o=b(),u=m("div"),r=P(c),f=b(),p=P(t[2]),_=b(),h=m("div"),h.textContent="Day",v=b(),d=m("div"),k=P(g),$=b(),T=P(t[2]),A=b(),F=m("div"),F.textContent="Month",L=b(),R=m("div"),N=P(C),ee=b(),q=P(t[2]),U=b(),H=m("div"),H.textContent="Last month",K=b(),V=m("div"),G=P(Y),W=b(),z=P(t[2]),a(u,"class","text-right"),a(d,"class","text-right"),a(R,"class","text-right"),a(V,"class","text-right"),a(l,"class","grid grid-cols-2")},m(x,_e){M(x,e,_e),M(x,n,_e),M(x,l,_e),s(l,i),s(l,o),s(l,u),s(u,r),s(u,f),s(u,p),s(l,_),s(l,h),s(l,v),s(l,d),s(d,k),s(d,$),s(d,T),s(l,A),s(l,F),s(l,L),s(l,R),s(R,N),s(R,ee),s(R,q),s(l,U),s(l,H),s(l,K),s(l,V),s(V,G),s(V,W),s(V,z)},p(x,_e){_e&2&&c!==(c=Ne(x[1].h.c,2)+"")&&Z(r,c),_e&4&&Z(p,x[2]),_e&2&&g!==(g=Ne(x[1].d.c,1)+"")&&Z(k,g),_e&4&&Z(T,x[2]),_e&2&&C!==(C=Ne(x[1].m.c)+"")&&Z(N,C),_e&4&&Z(q,x[2]),_e&1&&Y!==(Y=Ne(x[0].last_month.c)+"")&&Z(G,Y),_e&4&&Z(z,x[2])},d(x){x&&y(e),x&&y(n),x&&y(l)}}}function Jr(t){let e,n=Ne(t[1].h.c,2)+"",l,i,o;return{c(){e=m("div"),l=P(n),i=b(),o=P(t[2]),a(e,"class","text-right")},m(u,c){M(u,e,c),s(e,l),s(e,i),s(e,o)},p(u,c){c&2&&n!==(n=Ne(u[1].h.c,2)+"")&&Z(l,n),c&4&&Z(o,u[2])},d(u){u&&y(e)}}}function xr(t){let e,n=Ne(t[1].d.c,1)+"",l,i,o;return{c(){e=m("div"),l=P(n),i=b(),o=P(t[2]),a(e,"class","text-right")},m(u,c){M(u,e,c),s(e,l),s(e,i),s(e,o)},p(u,c){c&2&&n!==(n=Ne(u[1].d.c,1)+"")&&Z(l,n),c&4&&Z(o,u[2])},d(u){u&&y(e)}}}function eu(t){let e,n=Ne(t[1].m.c)+"",l,i,o;return{c(){e=m("div"),l=P(n),i=b(),o=P(t[2]),a(e,"class","text-right")},m(u,c){M(u,e,c),s(e,l),s(e,i),s(e,o)},p(u,c){c&2&&n!==(n=Ne(u[1].m.c)+"")&&Z(l,n),c&4&&Z(o,u[2])},d(u){u&&y(e)}}}function tu(t){let e,n=Ne(t[0].last_month.c)+"",l,i,o;return{c(){e=m("div"),l=P(n),i=b(),o=P(t[2]),a(e,"class","text-right")},m(u,c){M(u,e,c),s(e,l),s(e,i),s(e,o)},p(u,c){c&1&&n!==(n=Ne(u[0].last_month.c)+"")&&Z(l,n),c&4&&Z(o,u[2])},d(u){u&&y(e)}}}function lu(t){let e,n=Ne(t[1].h.i,2)+"",l,i,o;return{c(){e=m("div"),l=P(n),i=b(),o=P(t[2]),a(e,"class","text-right")},m(u,c){M(u,e,c),s(e,l),s(e,i),s(e,o)},p(u,c){c&2&&n!==(n=Ne(u[1].h.i,2)+"")&&Z(l,n),c&4&&Z(o,u[2])},d(u){u&&y(e)}}}function nu(t){let e,n=Ne(t[1].d.i,1)+"",l,i,o;return{c(){e=m("div"),l=P(n),i=b(),o=P(t[2]),a(e,"class","text-right")},m(u,c){M(u,e,c),s(e,l),s(e,i),s(e,o)},p(u,c){c&2&&n!==(n=Ne(u[1].d.i,1)+"")&&Z(l,n),c&4&&Z(o,u[2])},d(u){u&&y(e)}}}function iu(t){let e,n=Ne(t[1].m.i)+"",l,i,o;return{c(){e=m("div"),l=P(n),i=b(),o=P(t[2]),a(e,"class","text-right")},m(u,c){M(u,e,c),s(e,l),s(e,i),s(e,o)},p(u,c){c&2&&n!==(n=Ne(u[1].m.i)+"")&&Z(l,n),c&4&&Z(o,u[2])},d(u){u&&y(e)}}}function su(t){let e,n=Ne(t[0].last_month.i)+"",l,i,o;return{c(){e=m("div"),l=P(n),i=b(),o=P(t[2]),a(e,"class","text-right")},m(u,c){M(u,e,c),s(e,l),s(e,i),s(e,o)},p(u,c){c&1&&n!==(n=Ne(u[0].last_month.i)+"")&&Z(l,n),c&4&&Z(o,u[2])},d(u){u&&y(e)}}}function hm(t){let e,n,l,i,o,u,c=t[1]&&Xr(t);return{c(){e=m("div"),n=m("strong"),n.textContent="Real time calculation",l=b(),i=m("br"),o=m("br"),u=b(),c&&c.c(),a(e,"class","mx-2 text-sm")},m(r,f){M(r,e,f),s(e,n),s(e,l),s(e,i),s(e,o),s(e,u),c&&c.m(e,null)},p(r,[f]){r[1]?c?c.p(r,f):(c=Xr(r),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i:ve,o:ve,d(r){r&&y(e),c&&c.d()}}}function vm(t,e,n){let{sysinfo:l}=e,{data:i}=e,{currency:o}=e,{hasExport:u}=e,c=!1,r=3;return t.$$set=f=>{"sysinfo"in f&&n(0,l=f.sysinfo),"data"in f&&n(1,i=f.data),"currency"in f&&n(2,o=f.currency),"hasExport"in f&&n(3,u=f.hasExport)},t.$$.update=()=>{t.$$.dirty&18&&(n(4,c=i&&i.h&&(Math.abs(i.h.c)>.01||Math.abs(i.d.c)>.01||Math.abs(i.m.c)>.01||Math.abs(i.h.i)>.01||Math.abs(i.d.i)>.01||Math.abs(i.m.i)>.01)),n(5,r=c?3:2))},[l,i,o,u,c,r]}class bm extends We{constructor(e){super(),He(this,e,vm,hm,Be,{sysinfo:0,data:1,currency:2,hasExport:3})}}function gm(t){let e,n,l=br(t[0].source)+"",i,o,u,c,r;return c=new an({props:{config:t[1]}}),{c(){e=m("a"),n=P("Provided by: "),i=P(l),u=b(),ae(c.$$.fragment),a(e,"href",o=gr(t[0].source)),a(e,"target","_blank"),a(e,"class","text-xs float-right z-40")},m(f,p){M(f,e,p),s(e,n),s(e,i),M(f,u,p),se(c,f,p),r=!0},p(f,[p]){(!r||p&1)&&l!==(l=br(f[0].source)+"")&&Z(i,l),(!r||p&1&&o!==(o=gr(f[0].source)))&&a(e,"href",o);const _={};p&2&&(_.config=f[1]),c.$set(_)},i(f){r||(I(c.$$.fragment,f),r=!0)},o(f){B(c.$$.fragment,f),r=!1},d(f){f&&y(e),f&&y(u),oe(c,f)}}}function km(t,e,n){let{json:l}=e,{sysinfo:i}=e,o={},u,c,r=document.documentElement.classList.contains("dark");return t.$$set=f=>{"json"in f&&n(0,l=f.json),"sysinfo"in f&&n(2,i=f.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&29){let f=l.currency,p=new Date().getUTCHours(),_=0,h=0,v=0,d=[],g=[],k=[];n(4,c=n(3,u=0));let $=new Date;for(hl($,i.clock_offset-(24+$.getHours()-$.getUTCHours())%24),_=p;_<24&&(h=l[Ye(v++)],h!=null);_++)g.push({label:Ye($.getHours())}),k.push(h*100),n(4,c=Math.min(c,h*100)),n(3,u=Math.max(u,h*100)),hl($,1);for(_=0;_<24&&(h=l[Ye(v++)],h!=null);_++)g.push({label:Ye($.getHours())}),k.push(h*100),n(4,c=Math.min(c,h*100)),n(3,u=Math.max(u,h*100)),hl($,1);if(c>-100&&u<100){switch(f){case"NOK":case"DKK":f="\xF8re";break;case"SEK":f="\xF6re";break;case"EUR":f="cent";break;case"CHF":f="rp.";break;default:f=f+"/100"}for(n(4,c*=100),n(3,u*=100),_=0;_<k.length;_++)k[_]*=100}let T=[];for(_=0;_<k.length;_++){h=k[_];let R=h*.01,C=Math.abs(h)<1e3?2:0;T.push({label:R>=0?R.toFixed(C):"",title:R>=0?R.toFixed(2)+" "+f:"",value:h>=0?Math.abs(h):0,label2:R<0?R.toFixed(C):"",title2:R<0?R.toFixed(2)+" "+f:"",value2:h<0?Math.abs(h):0,color:r?"#5c2da5":"#7c3aed"})}let A=Math.max(u,Math.abs(c));if(c<0){n(4,c=Math.min(A/4*-1,c));let R=Math.ceil(Math.abs(c)/A*4),C=c/R;for(_=1;_<R+1;_++){let N=C*_;d.push({value:N,label:(N/100).toFixed(2)})}}n(3,u=Math.max(A/4,u));let F=Math.ceil(u/A*4),L=u/F;for(_=0;_<F+1;_++){let R=L*_;d.push({value:R,label:(R/100).toFixed(2)})}n(1,o={title:"Future energy price ("+f+")",padding:{top:20,right:15,bottom:20,left:35},y:{min:c,max:u,ticks:d},x:{ticks:g},points:T})}},[l,o,i,u,c]}class wm extends We{constructor(e){super(),He(this,e,km,gm,Be,{json:0,sysinfo:2})}}function Cm(t){let e,n;return e=new an({props:{config:t[0]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,[i]){const o={};i&1&&(o.config=l[0]),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function ym(t,e,n){let{json:l}=e,{sysinfo:i}=e,o={},u,c,r=document.documentElement.classList.contains("dark");return t.$$set=f=>{"json"in f&&n(1,l=f.json),"sysinfo"in f&&n(2,i=f.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&30){let f=0,p=[],_=[],h=[];n(4,c=n(3,u=0));let v=hl(new Date,-24),d=new Date().getUTCHours();for(hl(v,i.clock_offset-(24+v.getHours()-v.getUTCHours())%24),f=d;f<24;f++){let T=l["i"+Ye(f)],A=l["e"+Ye(f)];T===void 0&&(T=0),A===void 0&&(A=0),_.push({label:Ye(v.getHours())}),h.push({label:T.toFixed(1),title:T.toFixed(2)+" kWh",value:T*10,label2:A.toFixed(1),title2:A.toFixed(2)+" kWh",value2:A*10,color:r?"#5c2da5":"#7c3aed",color2:r?"#27728e":"#37829e"}),n(4,c=Math.max(c,A*10)),n(3,u=Math.max(u,T*10)),hl(v,1)}for(f=0;f<d;f++){let T=l["i"+Ye(f)],A=l["e"+Ye(f)];T===void 0&&(T=0),A===void 0&&(A=0),_.push({label:Ye(v.getHours())}),h.push({label:T.toFixed(1),title:T.toFixed(2)+" kWh",value:T*10,label2:A.toFixed(1),title2:A.toFixed(2)+" kWh",value2:A*10,color:r?"#5c2da5":"#7c3aed",color2:r?"#27728e":"#37829e"}),n(4,c=Math.max(c,A*10)),n(3,u=Math.max(u,T*10)),hl(v,1)}n(4,c*=-1);let g=Math.max(u,Math.abs(c));if(c<0){n(4,c=Math.min(g/4*-1,c));let T=Math.ceil(Math.abs(c)/g*4),A=c/T;for(f=1;f<T+1;f++){let F=A*f;p.push({value:F,label:(F/10).toFixed(1)})}}n(3,u=Math.max(g/4,u));let k=Math.ceil(u/g*4),$=u/k;for(f=0;f<k+1;f++){let T=$*f;p.push({value:T,label:(T/10).toFixed(1)})}n(0,o={title:"Energy use last 24 hours (kWh)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:c,max:u,ticks:p},x:{ticks:_},points:h})}},[o,l,i,u,c]}class Mm extends We{constructor(e){super(),He(this,e,ym,Cm,Be,{json:1,sysinfo:2})}}function Sm(t){let e,n;return e=new an({props:{config:t[0]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,[i]){const o={};i&1&&(o.config=l[0]),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Tm(t,e,n){let{json:l}=e,{sysinfo:i}=e,o={},u,c,r=document.documentElement.classList.contains("dark");return t.$$set=f=>{"json"in f&&n(1,l=f.json),"sysinfo"in f&&n(2,i=f.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&30){let f=0,p=[],_=[],h=[];n(4,c=n(3,u=0));let v=new Date,d=new Date;for(hl(v,i.clock_offset-(24+v.getHours()-v.getUTCHours())%24),hl(d,i.clock_offset-(24+d.getHours()-d.getUTCHours())%24),d.setDate(0),f=v.getDate();f<=d.getDate();f++){let T=l["i"+Ye(f)],A=l["e"+Ye(f)];T===void 0&&(T=0),A===void 0&&(A=0),_.push({label:Ye(f)}),h.push({label:T.toFixed(T<10?1:0),title:T.toFixed(2)+" kWh",value:T,label2:A.toFixed(A<10?1:0),title2:A.toFixed(2)+" kWh",value2:A,color:r?"#5c2da5":"#7c3aed",color2:r?"#27728e":"#37829e"}),n(4,c=Math.max(c,A)),n(3,u=Math.max(u,T))}for(f=1;f<v.getDate();f++){let T=l["i"+Ye(f)],A=l["e"+Ye(f)];T===void 0&&(T=0),A===void 0&&(A=0),_.push({label:Ye(f)}),h.push({label:T.toFixed(T<10?1:0),title:T.toFixed(2)+" kWh",value:T,label2:A.toFixed(A<10?1:0),title2:A.toFixed(2)+" kWh",value2:A,color:r?"#5c2da5":"#7c3aed",color2:r?"#27728e":"#37829e"}),n(4,c=Math.max(c,A)),n(3,u=Math.max(u,T))}n(4,c*=-1);let g=Math.max(u,Math.abs(c));if(c<0){n(4,c=Math.min(g/4*-1,c));let T=Math.ceil(Math.abs(c)/g*4),A=c/T;for(f=1;f<T+1;f++){let F=A*f;p.push({value:F,label:F.toFixed(0)})}}n(3,u=Math.max(g/4,u));let k=Math.ceil(u/g*4),$=u/k;for(f=0;f<k+1;f++){let T=$*f;p.push({value:T,label:T.toFixed(0)})}n(0,o={title:"Energy use last "+d.getDate()+" days (kWh)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:c,max:u,ticks:p},x:{ticks:_},points:h})}},[o,l,i,u,c]}class Nm extends We{constructor(e){super(),He(this,e,Tm,Sm,Be,{json:1,sysinfo:2})}}function Em(t){let e,n;return e=new an({props:{config:t[0]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,[i]){const o={};i&1&&(o.config=l[0]),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Pm(t,e,n){let{json:l}=e,i=document.documentElement.classList.contains("dark"),o={},u=0,c=0;return t.$$set=r=>{"json"in r&&n(1,l=r.json)},t.$$.update=()=>{if(t.$$.dirty&14){let r=0,f=0,p=[],_=[],h=[];l.s&&l.s.forEach((g,k)=>{var $=g.n?g.n:g.a;f=g.v,f==-127&&(f=0),_.push({label:$.slice(-4)}),h.push({label:f.toFixed(1),value:f,color:i?"#5c2da5":"#7c3aed"}),n(3,c=Math.min(c,f)),n(2,u=Math.max(u,f))}),n(2,u=Math.ceil(u)),n(3,c=Math.floor(c));let v=u;c<0&&(v+=Math.abs(c));let d=v/4;for(r=0;r<5;r++)f=c+d*r,p.push({value:f,label:f.toFixed(1)});n(0,o={title:"Temperature sensors (\xB0C)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:c,max:u,ticks:p},x:{ticks:_},points:h})}},[o,l,u,c]}class Am extends We{constructor(e){super(),He(this,e,Pm,Em,Be,{json:1})}}function $m(t){let e,n;return e=new an({props:{config:t[0]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,[i]){const o={};i&1&&(o.config=l[0]),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}let Dm=0;function Lm(t,e,n){let l=document.documentElement.classList.contains("dark"),i={},o=0,u;return G1.subscribe(c=>{n(2,u=c)}),z1(),t.$$.update=()=>{if(t.$$.dirty&6){let c=0,r=[],f=[],p=[];if(r.push({value:0,label:0}),u&&u.p)for(c=0;c<u.p.length;c++){let _=u.p[c];p.push({label:_.v.toFixed(2),value:_.v,color:l?"#5c2da5":"#7c3aed"}),f.push({label:_.d>0?Ye(_.d)+"."+pi[new Date().getMonth()]:"-"}),n(1,o=Math.max(o,_.v))}if(u&&u.t){for(c=0;c<u.t.length;c++){let _=u.t[c];if(_>=o)break;r.push({value:_,label:_})}r.push({label:u.m.toFixed(1),align:"right",color:"green",value:u.m})}u&&u.c&&(r.push({label:u.c.toFixed(0),color:"orange",value:u.c}),n(1,o=Math.max(o,u.c))),n(1,o=Math.ceil(o)),n(0,i={title:"Tariff peaks",padding:{top:20,right:35,bottom:20,left:35},y:{min:Dm,max:o,ticks:r},x:{ticks:f},points:p})}},[i,o,u]}class Im extends We{constructor(e){super(),He(this,e,Lm,$m,Be,{})}}function ou(t,e,n){const l=t.slice();return l[20]=e[n],l[22]=n,l}function au(t,e,n){const l=t.slice();return l[23]=e[n],l}function ru(t){let e,n,l,i,o,u=t[7],c=[];for(let p=0;p<u.length;p+=1)c[p]=fu(au(t,u,p));let r=t[8],f=[];for(let p=0;p<r.length;p+=1)f[p]=_u(ou(t,r,p));return{c(){e=je("svg"),n=je("g");for(let p=0;p<c.length;p+=1)c[p].c();l=je("g");for(let p=0;p<f.length;p+=1)f[p].c();i=je("polyline"),a(n,"class","axis y-axis"),a(l,"class","axis x-axis"),a(i,"opacity","0.9"),a(i,"fill",t[11]?"#5c2da5":"#7c3aed"),a(i,"stroke",t[11]?"#5c2da5":"#7c3aed"),a(i,"stroke-width","1"),a(i,"points",t[4]),a(e,"viewBox",o="0 0 "+t[3]+" "+t[2]),a(e,"height","100%")},m(p,_){M(p,e,_),s(e,n);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(n,null);s(e,l);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(l,null);s(e,i)},p(p,_){if(_&160){u=p[7];let h;for(h=0;h<u.length;h+=1){const v=au(p,u,h);c[h]?c[h].p(v,_):(c[h]=fu(v),c[h].c(),c[h].m(n,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=u.length}if(_&836){r=p[8];let h;for(h=0;h<r.length;h+=1){const v=ou(p,r,h);f[h]?f[h].p(v,_):(f[h]=_u(v),f[h].c(),f[h].m(l,null))}for(;h<f.length;h+=1)f[h].d(1);f.length=r.length}_&16&&a(i,"points",p[4]),_&12&&o!==(o="0 0 "+p[3]+" "+p[2])&&a(e,"viewBox",o)},d(p){p&&y(e),ct(c,p),ct(f,p)}}}function uu(t){let e,n,l,i=t[23].label+"",o,u,c;return{c(){e=je("g"),n=je("line"),l=je("text"),o=P(i),a(n,"x2","100%"),a(l,"y","-4"),a(e,"class",u="tick tick-"+t[23].value),a(e,"transform",c="translate(0, "+t[5](t[23].value)+")")},m(r,f){M(r,e,f),s(e,n),s(e,l),s(l,o)},p(r,f){f&128&&i!==(i=r[23].label+"")&&Z(o,i),f&128&&u!==(u="tick tick-"+r[23].value)&&a(e,"class",u),f&160&&c!==(c="translate(0, "+r[5](r[23].value)+")")&&a(e,"transform",c)},d(r){r&&y(e)}}}function fu(t){let e=!isNaN(t[5](t[23].value)),n,l=e&&uu(t);return{c(){l&&l.c(),n=it()},m(i,o){l&&l.m(i,o),M(i,n,o)},p(i,o){o&160&&(e=!isNaN(i[5](i[23].value))),e?l?l.p(i,o):(l=uu(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){l&&l.d(i),i&&y(n)}}}function cu(t){let e=t[22]%Math.round(6/t[9])==0,n,l=e&&mu(t);return{c(){l&&l.c(),n=it()},m(i,o){l&&l.m(i,o),M(i,n,o)},p(i,o){o&512&&(e=i[22]%Math.round(6/i[9])==0),e?l?l.p(i,o):(l=mu(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){l&&l.d(i),i&&y(n)}}}function mu(t){let e,n,l=t[20].label+"",i,o,u;return{c(){e=je("g"),n=je("text"),i=P(l),a(n,"x",o=t[9]/2),a(n,"y","-4"),a(e,"class","tick"),a(e,"transform",u="translate("+(40+t[6](t[20].value))+","+t[2]+")")},m(c,r){M(c,e,r),s(e,n),s(n,i)},p(c,r){r&256&&l!==(l=c[20].label+"")&&Z(i,l),r&512&&o!==(o=c[9]/2)&&a(n,"x",o),r&324&&u!==(u="translate("+(40+c[6](c[20].value))+","+c[2]+")")&&a(e,"transform",u)},d(c){c&&y(e)}}}function _u(t){let e=!isNaN(t[6](t[20].value)),n,l=e&&cu(t);return{c(){l&&l.c(),n=it()},m(i,o){l&&l.m(i,o),M(i,n,o)},p(i,o){o&320&&(e=!isNaN(i[6](i[20].value))),e?l?l.p(i,o):(l=cu(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){l&&l.d(i),i&&y(n)}}}function Rm(t){let e,n,l,i,o,u,c,r=t[7]&&ru(t);return{c(){e=m("div"),n=m("strong"),l=P("Realtime ("),i=P(t[10]),o=P(")"),u=b(),r&&r.c(),a(n,"class","text-sm"),a(e,"class","chart"),Ze(()=>t[15].call(e))},m(f,p){M(f,e,p),s(e,n),s(n,l),s(n,i),s(n,o),s(e,u),r&&r.m(e,null),c=lo(e,t[15].bind(e))},p(f,[p]){p&1024&&Z(i,f[10]),f[7]?r?r.p(f,p):(r=ru(f),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:ve,o:ve,d(f){f&&y(e),r&&r.d(),c()}}}let Fm=12;function Om(t,e,n){let l=document.documentElement.classList.contains("dark"),i;V1.subscribe(C=>{n(12,i=C)});let o,u=0,c=0;function r(){o&&clearTimeout(o),o=setTimeout(r,1e4),i.data.unshift(c),n(12,i.data=i.data.slice(0,i.size),i),u+=10}O1.subscribe(C=>{u==0&&(o&&clearTimeout(o),o=setTimeout(r,1e4)),c=C.i-C.e,u=C.u});let f,p,_,h,v,d,g,k,$,T,A,F,L;function R(){_=this.clientWidth,h=this.clientHeight,n(0,_),n(1,h)}return t.$$.update=()=>{if(t.$$.dirty&29183&&(n(2,v=parseInt(h)-50),n(3,d=_-35),n(9,F=d/i.size),n(14,p=0),n(13,f=0),i.data)){for(let N in i.data){let ee=i.data[N];n(13,f=Math.max(Math.ceil(ee/1e3)*1e3,f)),n(14,p=Math.min(Math.ceil(ee/1e3)*1e3,p))}n(10,L=f>2500?"kW":"W"),n(7,T=[]);for(let N=p;N<f;N+=f/5)T.push({value:N,label:f>2500?(N/1e3).toFixed(1):N});n(8,A=[]);for(let N=p;N<i.size;N+=i.size/Fm)A.push({value:N,label:"-"+Math.round((i.size-N)/6)+" min"});n(5,k=function(N){return Math.ceil(v-N/f*v)-25}),n(6,$=function(N){return 30+Math.ceil(N/i.size*(d-35))});let C=i.size;n(4,g=$(i.size)+","+k(0)+" "+$(1)+","+k(0));for(let N in i.data){if(C<0)break;let ee=i.data[N];n(4,g=$(C--)+","+k(ee)+" "+g)}}},[_,h,v,d,g,k,$,T,A,F,L,l,i,f,p,R]}class qm extends We{constructor(e){super(),He(this,e,Om,Rm,Be,{})}}function Bm(t){let e,n;return e=new an({props:{config:t[0]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,[i]){const o={};i&1&&(o.config=l[0]),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Um(t,e,n){let{title:l}=e,{unit:i=""}=e,{l1:o=!1}=e,{l2:u=!1}=e,{l2x:c=!1}=e,{l3:r=!1}=e,{l1i:f=0}=e,{l2i:p=0}=e,{l3i:_=0}=e,{l1e:h=0}=e,{l2e:v=0}=e,{l3e:d=0}=e,{maxImport:g=0}=e,{maxExport:k=0}=e,{importColorFn:$}=e,{exportColorFn:T}=e,A={};function F(L,R){return{label:Ne(L>900?L/1e3:L)+(L>900?"k":"")+i,title:L.toFixed(2)+" "+i,value:isNaN(L)?0:L,color:$(L?L/g*100:0,document.documentElement.classList.contains("dark")),label2:Ne(R>900?R/1e3:R)+(R>900?"k":"")+i,title2:R.toFixed(2)+" "+i,value2:isNaN(R)?0:R,color2:T(R?R/k*100:0)}}return t.$$set=L=>{"title"in L&&n(1,l=L.title),"unit"in L&&n(2,i=L.unit),"l1"in L&&n(3,o=L.l1),"l2"in L&&n(4,u=L.l2),"l2x"in L&&n(5,c=L.l2x),"l3"in L&&n(6,r=L.l3),"l1i"in L&&n(7,f=L.l1i),"l2i"in L&&n(8,p=L.l2i),"l3i"in L&&n(9,_=L.l3i),"l1e"in L&&n(10,h=L.l1e),"l2e"in L&&n(11,v=L.l2e),"l3e"in L&&n(12,d=L.l3e),"maxImport"in L&&n(13,g=L.maxImport),"maxExport"in L&&n(14,k=L.maxExport),"importColorFn"in L&&n(15,$=L.importColorFn),"exportColorFn"in L&&n(16,T=L.exportColorFn)},t.$$.update=()=>{if(t.$$.dirty&32762){let L=[],R=[];o&&(L.push({label:"L1"}),R.push(F(f,h))),u&&(c?(L.push({label:"L2"}),R.push({label:"Not available",labelAngle:-90,title:"L2 current is not reported by your meter",value:0,color:"#7c3aedcc"})):(L.push({label:"L2"}),R.push(F(p,v)))),r&&(L.push({label:"L3"}),R.push(F(_,d)));let C=[];k&&(C.push({value:-k,label:"-100%"}),C.push({value:-k/4*3,label:"-75%"}),C.push({value:-k/2,label:"-50%"}),C.push({value:-k/4,label:"-25%"})),C.push({value:0,label:"0%"}),g&&(C.push({value:g/4,label:"25%"}),C.push({value:g/2,label:"50%"}),C.push({value:g/4*3,label:"75%"}),C.push({value:g,label:"100%"})),n(0,A={title:l,padding:{top:20,right:15,bottom:20,left:35},y:{min:-k,max:g,ticks:C},x:{ticks:L},points:R})}},[A,l,i,o,u,c,r,f,p,_,h,v,d,g,k,$,T]}class _o extends We{constructor(e){super(),He(this,e,Um,Bm,Be,{title:1,unit:2,l1:3,l2:4,l2x:5,l3:6,l1i:7,l2i:8,l3i:9,l1e:10,l2e:11,l3e:12,maxImport:13,maxExport:14,importColorFn:15,exportColorFn:16})}}function pu(t){let e,n,l,i,o,u,c=(t[0].mt?us(t[0].mt):"-")+"",r,f,p,_=(t[0].ic?t[0].ic.toFixed(1):"-")+"",h,v,d;return i=new Z1({props:{val:t[0].i?t[0].i:0,max:t[0].im?t[0].im:15e3,unit:"W",label:"Import",sub:t[0].p,subunit:t[0].pc,colorFn:ao}}),{c(){e=m("div"),n=m("div"),l=m("div"),ae(i.$$.fragment),o=b(),u=m("div"),r=P(c),f=b(),p=m("div"),h=P(_),v=P(" kWh"),a(l,"class","col-span-2"),a(p,"class","text-right"),a(n,"class","grid grid-cols-2"),a(e,"class","cnt")},m(g,k){M(g,e,k),s(e,n),s(n,l),se(i,l,null),s(n,o),s(n,u),s(u,r),s(n,f),s(n,p),s(p,h),s(p,v),d=!0},p(g,k){const $={};k&1&&($.val=g[0].i?g[0].i:0),k&1&&($.max=g[0].im?g[0].im:15e3),k&1&&($.sub=g[0].p),k&1&&($.subunit=g[0].pc),i.$set($),(!d||k&1)&&c!==(c=(g[0].mt?us(g[0].mt):"-")+"")&&Z(r,c),(!d||k&1)&&_!==(_=(g[0].ic?g[0].ic.toFixed(1):"-")+"")&&Z(h,_)},i(g){d||(I(i.$$.fragment,g),d=!0)},o(g){B(i.$$.fragment,g),d=!1},d(g){g&&y(e),oe(i)}}}function du(t){let e,n,l,i,o,u,c,r,f=(t[0].ec?t[0].ec.toFixed(1):"-")+"",p,_,h;return i=new Z1({props:{val:t[0].e?t[0].e:0,max:t[0].om?t[0].om*1e3:1e4,unit:"W",label:"Export",colorFn:di}}),{c(){e=m("div"),n=m("div"),l=m("div"),ae(i.$$.fragment),o=b(),u=m("div"),c=b(),r=m("div"),p=P(f),_=P(" kWh"),a(l,"class","col-span-2"),a(r,"class","text-right"),a(n,"class","grid grid-cols-2"),a(e,"class","cnt")},m(v,d){M(v,e,d),s(e,n),s(n,l),se(i,l,null),s(n,o),s(n,u),s(n,c),s(n,r),s(r,p),s(r,_),h=!0},p(v,d){const g={};d&1&&(g.val=v[0].e?v[0].e:0),d&1&&(g.max=v[0].om?v[0].om*1e3:1e4),i.$set(g),(!h||d&1)&&f!==(f=(v[0].ec?v[0].ec.toFixed(1):"-")+"")&&Z(p,f)},i(v){h||(I(i.$$.fragment,v),h=!0)},o(v){B(i.$$.fragment,v),h=!1},d(v){v&&y(e),oe(i)}}}function hu(t){let e,n,l=t[0].l1&&vu(t);return{c(){e=m("div"),l&&l.c(),a(e,"class","cnt")},m(i,o){M(i,e,o),l&&l.m(e,null),n=!0},p(i,o){i[0].l1?l?(l.p(i,o),o&1&&I(l,1)):(l=vu(i),l.c(),I(l,1),l.m(e,null)):l&&($e(),B(l,1,1,()=>{l=null}),De())},i(i){n||(I(l),n=!0)},o(i){B(l),n=!1},d(i){i&&y(e),l&&l.d()}}}function vu(t){let e,n;return e=new fm({props:{u1:t[0].l1.u,u2:t[0].l2.u,u3:t[0].l3.u,ds:t[0].ds}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&1&&(o.u1=l[0].l1.u),i&1&&(o.u2=l[0].l2.u),i&1&&(o.u3=l[0].l3.u),i&1&&(o.ds=l[0].ds),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function bu(t){let e,n,l=t[0].l1&&gu(t);return{c(){e=m("div"),l&&l.c(),a(e,"class","cnt")},m(i,o){M(i,e,o),l&&l.m(e,null),n=!0},p(i,o){i[0].l1?l?(l.p(i,o),o&1&&I(l,1)):(l=gu(i),l.c(),I(l,1),l.m(e,null)):l&&($e(),B(l,1,1,()=>{l=null}),De())},i(i){n||(I(l),n=!0)},o(i){B(l),n=!1},d(i){i&&y(e),l&&l.d()}}}function gu(t){let e,n;return e=new _o({props:{title:"Amperage",unit:"A",importColorFn:ao,exportColorFn:di,maxImport:t[0].mf,maxExport:t[0].om?t[0].om/230:0,l1:t[0].l1&&t[0].l1.u>100,l2:t[0].l2&&t[0].l2.u>100,l3:t[0].l3&&t[0].l3.u>100,l2x:t[0].i2e,l1i:Math.max(t[0].l1.i,0),l2i:Math.max(t[0].l2.i,0),l3i:Math.max(t[0].l3.i,0),l1e:Math.min(t[0].l1.i*-1,0),l2e:Math.min(t[0].l2.i*-1,0),l3e:Math.min(t[0].l3.i*-1,0)}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&1&&(o.maxImport=l[0].mf),i&1&&(o.maxExport=l[0].om?l[0].om/230:0),i&1&&(o.l1=l[0].l1&&l[0].l1.u>100),i&1&&(o.l2=l[0].l2&&l[0].l2.u>100),i&1&&(o.l3=l[0].l3&&l[0].l3.u>100),i&1&&(o.l2x=l[0].i2e),i&1&&(o.l1i=Math.max(l[0].l1.i,0)),i&1&&(o.l2i=Math.max(l[0].l2.i,0)),i&1&&(o.l3i=Math.max(l[0].l3.i,0)),i&1&&(o.l1e=Math.min(l[0].l1.i*-1,0)),i&1&&(o.l2e=Math.min(l[0].l2.i*-1,0)),i&1&&(o.l3e=Math.min(l[0].l3.i*-1,0)),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function ku(t){let e,n,l=t[0].l1&&wu(t);return{c(){e=m("div"),l&&l.c(),a(e,"class","cnt")},m(i,o){M(i,e,o),l&&l.m(e,null),n=!0},p(i,o){i[0].l1?l?(l.p(i,o),o&1&&I(l,1)):(l=wu(i),l.c(),I(l,1),l.m(e,null)):l&&($e(),B(l,1,1,()=>{l=null}),De())},i(i){n||(I(l),n=!0)},o(i){B(l),n=!1},d(i){i&&y(e),l&&l.d()}}}function wu(t){let e,n;return e=new _o({props:{title:"Phase power",unit:"W",importColorFn:ao,exportColorFn:di,maxImport:(t[0].mf?t[0].mf:32)*230,maxExport:t[0].om,l1:t[0].l1&&t[0].l1.u>100,l2:t[0].l2&&t[0].l2.u>100,l3:t[0].l3&&t[0].l3.u>100,l1i:t[0].l1.p,l1e:t[0].l1.q,l2i:t[0].l2.p,l2e:t[0].l2.q,l3i:t[0].l3.p,l3e:t[0].l3.q}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&1&&(o.maxImport=(l[0].mf?l[0].mf:32)*230),i&1&&(o.maxExport=l[0].om),i&1&&(o.l1=l[0].l1&&l[0].l1.u>100),i&1&&(o.l2=l[0].l2&&l[0].l2.u>100),i&1&&(o.l3=l[0].l3&&l[0].l3.u>100),i&1&&(o.l1i=l[0].l1.p),i&1&&(o.l1e=l[0].l1.q),i&1&&(o.l2i=l[0].l2.p),i&1&&(o.l2e=l[0].l2.q),i&1&&(o.l3i=l[0].l3.p),i&1&&(o.l3e=l[0].l3.q),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Cu(t){let e,n,l=t[0].l1&&yu(t);return{c(){e=m("div"),l&&l.c(),a(e,"class","cnt")},m(i,o){M(i,e,o),l&&l.m(e,null),n=!0},p(i,o){i[0].l1?l?(l.p(i,o),o&1&&I(l,1)):(l=yu(i),l.c(),I(l,1),l.m(e,null)):l&&($e(),B(l,1,1,()=>{l=null}),De())},i(i){n||(I(l),n=!0)},o(i){B(l),n=!1},d(i){i&&y(e),l&&l.d()}}}function yu(t){let e,n;return e=new _o({props:{title:"Power factor",importColorFn:di,exportColorFn:di,maxImport:1,l1:t[0].l1&&t[0].l1.u>100,l2:t[0].l2&&t[0].l2.u>100,l3:t[0].l3&&t[0].l3.u>100,l1i:t[0].l1.f,l2i:t[0].l2.f,l3i:t[0].l3.f}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&1&&(o.l1=l[0].l1&&l[0].l1.u>100),i&1&&(o.l2=l[0].l2&&l[0].l2.u>100),i&1&&(o.l3=l[0].l3&&l[0].l3.u>100),i&1&&(o.l1i=l[0].l1.f),i&1&&(o.l2i=l[0].l2.f),i&1&&(o.l3i=l[0].l3.f),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Mu(t){let e,n,l;return n=new _m({props:{importInstant:t[0].ri,exportInstant:t[0].re,importTotal:t[0].ric,exportTotal:t[0].rec}}),{c(){e=m("div"),ae(n.$$.fragment),a(e,"class","cnt")},m(i,o){M(i,e,o),se(n,e,null),l=!0},p(i,o){const u={};o&1&&(u.importInstant=i[0].ri),o&1&&(u.exportInstant=i[0].re),o&1&&(u.importTotal=i[0].ric),o&1&&(u.exportTotal=i[0].rec),n.$set(u)},i(i){l||(I(n.$$.fragment,i),l=!0)},o(i){B(n.$$.fragment,i),l=!1},d(i){i&&y(e),oe(n)}}}function Su(t){let e,n,l;return n=new bm({props:{sysinfo:t[1],data:t[0].ea,currency:t[0].pc,hasExport:t[0].om>0||t[0].e>0}}),{c(){e=m("div"),ae(n.$$.fragment),a(e,"class","cnt")},m(i,o){M(i,e,o),se(n,e,null),l=!0},p(i,o){const u={};o&2&&(u.sysinfo=i[1]),o&1&&(u.data=i[0].ea),o&1&&(u.currency=i[0].pc),o&1&&(u.hasExport=i[0].om>0||i[0].e>0),n.$set(u)},i(i){l||(I(n.$$.fragment,i),l=!0)},o(i){B(n.$$.fragment,i),l=!1},d(i){i&&y(e),oe(n)}}}function Tu(t){let e,n,l;return n=new Im({}),{c(){e=m("div"),ae(n.$$.fragment),a(e,"class","cnt h-64")},m(i,o){M(i,e,o),se(n,e,null),l=!0},i(i){l||(I(n.$$.fragment,i),l=!0)},o(i){B(n.$$.fragment,i),l=!1},d(i){i&&y(e),oe(n)}}}function Nu(t){let e,n,l;return n=new qm({}),{c(){e=m("div"),ae(n.$$.fragment),a(e,"class","cnt gwf")},m(i,o){M(i,e,o),se(n,e,null),l=!0},i(i){l||(I(n.$$.fragment,i),l=!0)},o(i){B(n.$$.fragment,i),l=!1},d(i){i&&y(e),oe(n)}}}function Eu(t){let e,n,l;return n=new wm({props:{json:t[2],sysinfo:t[1]}}),{c(){e=m("div"),ae(n.$$.fragment),a(e,"class","cnt gwf")},m(i,o){M(i,e,o),se(n,e,null),l=!0},p(i,o){const u={};o&4&&(u.json=i[2]),o&2&&(u.sysinfo=i[1]),n.$set(u)},i(i){l||(I(n.$$.fragment,i),l=!0)},o(i){B(n.$$.fragment,i),l=!1},d(i){i&&y(e),oe(n)}}}function Pu(t){let e,n,l;return n=new Mm({props:{json:t[3],sysinfo:t[1]}}),{c(){e=m("div"),ae(n.$$.fragment),a(e,"class","cnt gwf")},m(i,o){M(i,e,o),se(n,e,null),l=!0},p(i,o){const u={};o&8&&(u.json=i[3]),o&2&&(u.sysinfo=i[1]),n.$set(u)},i(i){l||(I(n.$$.fragment,i),l=!0)},o(i){B(n.$$.fragment,i),l=!1},d(i){i&&y(e),oe(n)}}}function Au(t){let e,n,l;return n=new Nm({props:{json:t[4],sysinfo:t[1]}}),{c(){e=m("div"),ae(n.$$.fragment),a(e,"class","cnt gwf")},m(i,o){M(i,e,o),se(n,e,null),l=!0},p(i,o){const u={};o&16&&(u.json=i[4]),o&2&&(u.sysinfo=i[1]),n.$set(u)},i(i){l||(I(n.$$.fragment,i),l=!0)},o(i){B(n.$$.fragment,i),l=!1},d(i){i&&y(e),oe(n)}}}function $u(t){let e,n,l;return n=new Am({props:{json:t[5]}}),{c(){e=m("div"),ae(n.$$.fragment),a(e,"class","cnt gwf")},m(i,o){M(i,e,o),se(n,e,null),l=!0},p(i,o){const u={};o&32&&(u.json=i[5]),n.$set(u)},i(i){l||(I(n.$$.fragment,i),l=!0)},o(i){B(n.$$.fragment,i),l=!1},d(i){i&&y(e),oe(n)}}}function jm(t){let e,n=lt(t[1].ui.i,t[0].i),l,i=lt(t[1].ui.e,t[0].om||t[0].e>0),o,u=lt(t[1].ui.v,t[0].l1&&(t[0].l1.u>100||t[0].l2.u>100||t[0].l3.u>100)),c,r=lt(t[1].ui.a,t[0].l1&&(t[0].l1.i>.01||t[0].l2.i>.01||t[0].l3.i>.01)),f,p=lt(t[1].ui.h,t[0].l1&&(t[0].l1.p>.01||t[0].l2.p>.01||t[0].l3.p>.01||t[0].l1.q>.01||t[0].l2.q>.01||t[0].l3.q>.01)),_,h=lt(t[1].ui.f,t[0].l1&&(t[0].l1.f>.01||t[0].l2.f>.01||t[0].l3.f>.01)),v,d=lt(t[1].ui.r,t[0].ri>0||t[0].re>0||t[0].ric>0||t[0].rec>0),g,k=lt(t[1].ui.c,t[0].ea),$,T=lt(t[1].ui.t,t[0].pr&&(t[0].pr.startsWith("10YNO")||t[0].pr.startsWith("10Y1001A1001A4"))),A,F=lt(t[1].ui.l),L,R=lt(t[1].ui.p,t[0].pe&&!Number.isNaN(t[0].p)),C,N=lt(t[1].ui.d,t[3]),ee,q=lt(t[1].ui.m,t[4]),U,H=lt(t[1].ui.s,t[0].t&&t[0].t!=-127&&t[5].c>1),K,V=n&&pu(t),Y=i&&du(t),G=u&&hu(t),W=r&&bu(t),z=p&&ku(t),x=h&&Cu(t),_e=d&&Mu(t),ie=k&&Su(t),me=T&&Tu(),X=F&&Nu(),ke=R&&Eu(t),Ee=N&&Pu(t),we=q&&Au(t),Me=H&&$u(t);return{c(){e=m("div"),V&&V.c(),l=b(),Y&&Y.c(),o=b(),G&&G.c(),c=b(),W&&W.c(),f=b(),z&&z.c(),_=b(),x&&x.c(),v=b(),_e&&_e.c(),g=b(),ie&&ie.c(),$=b(),me&&me.c(),A=b(),X&&X.c(),L=b(),ke&&ke.c(),C=b(),Ee&&Ee.c(),ee=b(),we&&we.c(),U=b(),Me&&Me.c(),a(e,"class","grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2")},m(le,fe){M(le,e,fe),V&&V.m(e,null),s(e,l),Y&&Y.m(e,null),s(e,o),G&&G.m(e,null),s(e,c),W&&W.m(e,null),s(e,f),z&&z.m(e,null),s(e,_),x&&x.m(e,null),s(e,v),_e&&_e.m(e,null),s(e,g),ie&&ie.m(e,null),s(e,$),me&&me.m(e,null),s(e,A),X&&X.m(e,null),s(e,L),ke&&ke.m(e,null),s(e,C),Ee&&Ee.m(e,null),s(e,ee),we&&we.m(e,null),s(e,U),Me&&Me.m(e,null),K=!0},p(le,[fe]){fe&3&&(n=lt(le[1].ui.i,le[0].i)),n?V?(V.p(le,fe),fe&3&&I(V,1)):(V=pu(le),V.c(),I(V,1),V.m(e,l)):V&&($e(),B(V,1,1,()=>{V=null}),De()),fe&3&&(i=lt(le[1].ui.e,le[0].om||le[0].e>0)),i?Y?(Y.p(le,fe),fe&3&&I(Y,1)):(Y=du(le),Y.c(),I(Y,1),Y.m(e,o)):Y&&($e(),B(Y,1,1,()=>{Y=null}),De()),fe&3&&(u=lt(le[1].ui.v,le[0].l1&&(le[0].l1.u>100||le[0].l2.u>100||le[0].l3.u>100))),u?G?(G.p(le,fe),fe&3&&I(G,1)):(G=hu(le),G.c(),I(G,1),G.m(e,c)):G&&($e(),B(G,1,1,()=>{G=null}),De()),fe&3&&(r=lt(le[1].ui.a,le[0].l1&&(le[0].l1.i>.01||le[0].l2.i>.01||le[0].l3.i>.01))),r?W?(W.p(le,fe),fe&3&&I(W,1)):(W=bu(le),W.c(),I(W,1),W.m(e,f)):W&&($e(),B(W,1,1,()=>{W=null}),De()),fe&3&&(p=lt(le[1].ui.h,le[0].l1&&(le[0].l1.p>.01||le[0].l2.p>.01||le[0].l3.p>.01||le[0].l1.q>.01||le[0].l2.q>.01||le[0].l3.q>.01))),p?z?(z.p(le,fe),fe&3&&I(z,1)):(z=ku(le),z.c(),I(z,1),z.m(e,_)):z&&($e(),B(z,1,1,()=>{z=null}),De()),fe&3&&(h=lt(le[1].ui.f,le[0].l1&&(le[0].l1.f>.01||le[0].l2.f>.01||le[0].l3.f>.01))),h?x?(x.p(le,fe),fe&3&&I(x,1)):(x=Cu(le),x.c(),I(x,1),x.m(e,v)):x&&($e(),B(x,1,1,()=>{x=null}),De()),fe&3&&(d=lt(le[1].ui.r,le[0].ri>0||le[0].re>0||le[0].ric>0||le[0].rec>0)),d?_e?(_e.p(le,fe),fe&3&&I(_e,1)):(_e=Mu(le),_e.c(),I(_e,1),_e.m(e,g)):_e&&($e(),B(_e,1,1,()=>{_e=null}),De()),fe&3&&(k=lt(le[1].ui.c,le[0].ea)),k?ie?(ie.p(le,fe),fe&3&&I(ie,1)):(ie=Su(le),ie.c(),I(ie,1),ie.m(e,$)):ie&&($e(),B(ie,1,1,()=>{ie=null}),De()),fe&3&&(T=lt(le[1].ui.t,le[0].pr&&(le[0].pr.startsWith("10YNO")||le[0].pr.startsWith("10Y1001A1001A4")))),T?me?fe&3&&I(me,1):(me=Tu(),me.c(),I(me,1),me.m(e,A)):me&&($e(),B(me,1,1,()=>{me=null}),De()),fe&2&&(F=lt(le[1].ui.l)),F?X?fe&2&&I(X,1):(X=Nu(),X.c(),I(X,1),X.m(e,L)):X&&($e(),B(X,1,1,()=>{X=null}),De()),fe&3&&(R=lt(le[1].ui.p,le[0].pe&&!Number.isNaN(le[0].p))),R?ke?(ke.p(le,fe),fe&3&&I(ke,1)):(ke=Eu(le),ke.c(),I(ke,1),ke.m(e,C)):ke&&($e(),B(ke,1,1,()=>{ke=null}),De()),fe&10&&(N=lt(le[1].ui.d,le[3])),N?Ee?(Ee.p(le,fe),fe&10&&I(Ee,1)):(Ee=Pu(le),Ee.c(),I(Ee,1),Ee.m(e,ee)):Ee&&($e(),B(Ee,1,1,()=>{Ee=null}),De()),fe&18&&(q=lt(le[1].ui.m,le[4])),q?we?(we.p(le,fe),fe&18&&I(we,1)):(we=Au(le),we.c(),I(we,1),we.m(e,U)):we&&($e(),B(we,1,1,()=>{we=null}),De()),fe&35&&(H=lt(le[1].ui.s,le[0].t&&le[0].t!=-127&&le[5].c>1)),H?Me?(Me.p(le,fe),fe&35&&I(Me,1)):(Me=$u(le),Me.c(),I(Me,1),Me.m(e,null)):Me&&($e(),B(Me,1,1,()=>{Me=null}),De())},i(le){K||(I(V),I(Y),I(G),I(W),I(z),I(x),I(_e),I(ie),I(me),I(X),I(ke),I(Ee),I(we),I(Me),K=!0)},o(le){B(V),B(Y),B(G),B(W),B(z),B(x),B(_e),B(ie),B(me),B(X),B(ke),B(Ee),B(we),B(Me),K=!1},d(le){le&&y(e),V&&V.d(),Y&&Y.d(),G&&G.d(),W&&W.d(),z&&z.d(),x&&x.d(),_e&&_e.d(),ie&&ie.d(),me&&me.d(),X&&X.d(),ke&&ke.d(),Ee&&Ee.d(),we&&we.d(),Me&&Me.d()}}}function Hm(t,e,n){let{data:l={}}=e,{sysinfo:i={}}=e,o={},u={},c={},r={};return uo.subscribe(f=>{n(2,o=f)}),U1.subscribe(f=>{n(3,u=f)}),j1.subscribe(f=>{n(4,c=f)}),W1.subscribe(f=>{n(5,r=f)}),t.$$set=f=>{"data"in f&&n(0,l=f.data),"sysinfo"in f&&n(1,i=f.sysinfo)},[l,i,o,u,c,r]}class Wm extends We{constructor(e){super(),He(this,e,Hm,jm,Be,{data:0,sysinfo:1})}}let Ks={};const ui=dt(Ks);async function zm(){Ks=await(await fetch("configuration.json")).json(),ui.set(Ks)}let Ys={};const J1=dt(Ys);async function Gm(){Ys=await(await fetch("priceconfig.json")).json(),J1.set(Ys)}function Du(t,e,n){const l=t.slice();return l[2]=e[n],l[4]=n,l}function Vm(t){let e;return{c(){e=m("option"),e.textContent="UART0",e.__value=3,e.value=e.__value},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function Km(t){let e;return{c(){e=m("option"),e.textContent="UART0",e.__value=20,e.value=e.__value},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function Lu(t){let e;return{c(){e=m("option"),e.textContent="UART2",e.__value=113,e.value=e.__value},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function Iu(t){let e,n,l;return{c(){e=m("option"),e.textContent="UART1",n=b(),l=m("option"),l.textContent="UART2",e.__value=9,e.value=e.__value,l.__value=16,l.value=l.__value},m(i,o){M(i,e,o),M(i,n,o),M(i,l,o)},d(i){i&&y(e),i&&y(n),i&&y(l)}}}function Ru(t){let e;return{c(){e=m("option"),e.textContent="UART1",e.__value=18,e.value=e.__value},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function Fu(t){let e,n,l;return{c(){e=m("option"),n=P("GPIO"),l=P(t[4]),e.__value=t[4],e.value=e.__value},m(i,o){M(i,e,o),s(e,n),s(e,l)},d(i){i&&y(e)}}}function Ou(t){let e,n=t[4]>1&&!(t[0]=="esp32"&&(t[4]==9||t[4]==16))&&!((t[0]=="esp32s2"||t[0]=="esp32s3")&&t[4]==18)&&!(t[0]=="esp8266"&&(t[4]==3||t[4]==113))&&Fu(t);return{c(){n&&n.c(),e=it()},m(l,i){n&&n.m(l,i),M(l,e,i)},p(l,i){l[4]>1&&!(l[0]=="esp32"&&(l[4]==9||l[4]==16))&&!((l[0]=="esp32s2"||l[0]=="esp32s3")&&l[4]==18)&&!(l[0]=="esp8266"&&(l[4]==3||l[4]==113))?n||(n=Fu(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(l){n&&n.d(l),l&&y(e)}}}function Ym(t){let e,n,l,i,o;function u(d,g){return d[0]=="esp32c3"?Km:Vm}let c=u(t),r=c(t),f=t[0]=="esp8266"&&Lu(),p=(t[0]=="esp32"||t[0]=="esp32solo")&&Iu(),_=(t[0]=="esp32s2"||t[0]=="esp32s3")&&Ru(),h={length:t[1]+1},v=[];for(let d=0;d<h.length;d+=1)v[d]=Ou(Du(t,h,d));return{c(){r.c(),e=b(),f&&f.c(),n=b(),p&&p.c(),l=b(),_&&_.c(),i=b();for(let d=0;d<v.length;d+=1)v[d].c();o=it()},m(d,g){r.m(d,g),M(d,e,g),f&&f.m(d,g),M(d,n,g),p&&p.m(d,g),M(d,l,g),_&&_.m(d,g),M(d,i,g);for(let k=0;k<v.length;k+=1)v[k]&&v[k].m(d,g);M(d,o,g)},p(d,[g]){if(c!==(c=u(d))&&(r.d(1),r=c(d),r&&(r.c(),r.m(e.parentNode,e))),d[0]=="esp8266"?f||(f=Lu(),f.c(),f.m(n.parentNode,n)):f&&(f.d(1),f=null),d[0]=="esp32"||d[0]=="esp32solo"?p||(p=Iu(),p.c(),p.m(l.parentNode,l)):p&&(p.d(1),p=null),d[0]=="esp32s2"||d[0]=="esp32s3"?_||(_=Ru(),_.c(),_.m(i.parentNode,i)):_&&(_.d(1),_=null),g&3){h={length:d[1]+1};let k;for(k=0;k<h.length;k+=1){const $=Du(d,h,k);v[k]?v[k].p($,g):(v[k]=Ou($),v[k].c(),v[k].m(o.parentNode,o))}for(;k<v.length;k+=1)v[k].d(1);v.length=h.length}},i:ve,o:ve,d(d){r.d(d),d&&y(e),f&&f.d(d),d&&y(n),p&&p.d(d),d&&y(l),_&&_.d(d),d&&y(i),ct(v,d),d&&y(o)}}}function Qm(t,e,n){let{chip:l}=e,i=39;return t.$$set=o=>{"chip"in o&&n(0,l=o.chip)},t.$$.update=()=>{if(t.$$.dirty&1)switch(l){case"esp8266":n(1,i=16);break;case"esp32s2":n(1,i=44);break;case"esp32s3":n(1,i=46);break;case"esp32c3":n(1,i=19);break}},[l,i]}class Qs extends We{constructor(e){super(),He(this,e,Qm,Ym,Be,{chip:0})}}function qu(t){let e,n,l=t[1]&&Bu(t);return{c(){e=m("div"),n=m("div"),l&&l.c(),a(n,"class","fixed inset-0 bg-gray-500 dark:bg-gray-900 bg-opacity-50 dark:bg-opacity-80 flex items-center justify-center"),a(e,"class","z-50"),a(e,"aria-modal","true")},m(i,o){M(i,e,o),s(e,n),l&&l.m(n,null)},p(i,o){i[1]?l?l.p(i,o):(l=Bu(i),l.c(),l.m(n,null)):l&&(l.d(1),l=null)},d(i){i&&y(e),l&&l.d()}}}function Bu(t){let e,n;return{c(){e=m("div"),n=P(t[1]),a(e,"class","bg-white dark:bg-gray-600 m-2 p-3 rounded-md shadow-lg pb-4 text-gray-700 dark:text-white w-96")},m(l,i){M(l,e,i),s(e,n)},p(l,i){i&2&&Z(n,l[1])},d(l){l&&y(e)}}}function Xm(t){let e,n=t[0]&&qu(t);return{c(){n&&n.c(),e=it()},m(l,i){n&&n.m(l,i),M(l,e,i)},p(l,[i]){l[0]?n?n.p(l,i):(n=qu(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:ve,o:ve,d(l){n&&n.d(l),l&&y(e)}}}function Zm(t,e,n){let{active:l}=e,{message:i}=e;return t.$$set=o=>{"active"in o&&n(0,l=o.active),"message"in o&&n(1,i=o.message)},[l,i]}class Et extends We{constructor(e){super(),He(this,e,Zm,Xm,Be,{active:0,message:1})}}function Uu(t,e,n){const l=t.slice();return l[1]=e[n],l}function ju(t){let e,n,l=t[1]+"",i;return{c(){e=m("option"),n=P("Europe/"),i=P(l),e.__value="Europe/"+t[1],e.value=e.__value},m(o,u){M(o,e,u),s(e,n),s(e,i)},p:ve,d(o){o&&y(e)}}}function Jm(t){let e,n,l,i=t[0],o=[];for(let u=0;u<i.length;u+=1)o[u]=ju(Uu(t,i,u));return{c(){e=m("option"),e.textContent="GMT",n=b();for(let u=0;u<o.length;u+=1)o[u].c();l=it(),e.__value="GMT",e.value=e.__value},m(u,c){M(u,e,c),M(u,n,c);for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(u,c);M(u,l,c)},p(u,[c]){if(c&1){i=u[0];let r;for(r=0;r<i.length;r+=1){const f=Uu(u,i,r);o[r]?o[r].p(f,c):(o[r]=ju(f),o[r].c(),o[r].m(l.parentNode,l))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}},i:ve,o:ve,d(u){u&&y(e),u&&y(n),ct(o,u),u&&y(l)}}}function xm(t){return[["Amsterdam","Athens","Belfast","Berlin","Bratislava","Brussels","Bucharest","Budapest","Copenhagen","Dublin","Helsinki","Lisbon","Ljubljana","London","Luxembourg","Madrid","Malta","Nicosia","Oslo","Paris","Prague","Riga","Rome","Sofia","Stockholm","Tallinn","Vienna","Vilnius","Warsaw","Zagreb","Zurich"]]}class e_ extends We{constructor(e){super(),He(this,e,xm,Jm,Be,{})}}function t_(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d;return{c(){e=m("optgroup"),n=m("option"),n.textContent="/24",l=b(),i=m("optgroup"),o=m("option"),o.textContent="/25",u=m("option"),u.textContent="/26",c=m("option"),c.textContent="/27",r=m("option"),r.textContent="/28",f=m("option"),f.textContent="/29",p=b(),_=m("optgroup"),h=m("option"),h.textContent="/23",v=m("option"),v.textContent="/22",d=m("option"),d.textContent="/16",n.__value="255.255.255.0",n.value=n.__value,a(e,"label","Most common is /24 (255.255.255.0)"),o.__value="255.255.255.128",o.value=o.__value,u.__value="255.255.255.192",u.value=u.__value,c.__value="255.255.255.224",c.value=c.__value,r.__value="255.255.255.240",r.value=r.__value,f.__value="255.255.255.248",f.value=f.__value,a(i,"label","Smaller subnets"),h.__value="255.255.254.0",h.value=h.__value,v.__value="255.255.252.0",v.value=v.__value,d.__value="255.255.0.0",d.value=d.__value,a(_,"label","Larger subnets")},m(g,k){M(g,e,k),s(e,n),M(g,l,k),M(g,i,k),s(i,o),s(i,u),s(i,c),s(i,r),s(i,f),M(g,p,k),M(g,_,k),s(_,h),s(_,v),s(_,d)},p:ve,i:ve,o:ve,d(g){g&&y(e),g&&y(l),g&&y(i),g&&y(p),g&&y(_)}}}class x1 extends We{constructor(e){super(),He(this,e,null,t_,Be,{})}}function l_(t){let e,n;return{c(){e=je("svg"),n=je("path"),a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(n,"d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"fill","none"),a(e,"viewBox","0 0 24 24"),a(e,"stroke-width","1.5"),a(e,"stroke","currentColor"),a(e,"class","w-4 h-4")},m(l,i){M(l,e,i),s(e,n)},p:ve,i:ve,o:ve,d(l){l&&y(e)}}}class ms extends We{constructor(e){super(),He(this,e,null,l_,Be,{})}}var n_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e0={exports:{}};(function(t,e){(function(n,l){t.exports=l()})(n_,function(){var n=function(){},l=Object.prototype.hasOwnProperty,i=Array.prototype.slice;function o(E,w){var S;return typeof Object.create=="function"?S=Object.create(E):(n.prototype=E,S=new n,n.prototype=null),w&&c(!0,S,w),S}function u(E,w,S,D){var O=this;return typeof E!="string"&&(D=S,S=w,w=E,E=null),typeof w!="function"&&(D=S,S=w,w=function(){return O.apply(this,arguments)}),c(!1,w,O,D),w.prototype=o(O.prototype,S),w.prototype.constructor=w,w.class_=E||O.class_,w.super_=O,w}function c(E,w,S){S=i.call(arguments,2);for(var D,O,J=0,ne=S.length;J<ne;J++){O=S[J];for(D in O)(!E||l.call(O,D))&&(w[D]=O[D])}}var r=u;function f(){}f.class_="Nevis",f.super_=Object,f.extend=r;var p=f,_=p,h=_.extend(function(E,w,S){this.qrious=E,this.element=w,this.element.qrious=E,this.enabled=Boolean(S)},{draw:function(E){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(E){var w=this.qrious,S=w.padding||0,D=Math.floor((w.size-S*2)/E.width);return Math.max(1,D)},render:function(E){this.enabled&&(this.resize(),this.reset(),this.draw(E))},reset:function(){},resize:function(){}}),v=h,d=v.extend({draw:function(E){var w,S,D=this.qrious,O=this.getModuleSize(E),J=parseInt((this.element.width-E.width*O)/2),ne=this.element.getContext("2d");for(ne.fillStyle=D.foreground,ne.globalAlpha=D.foregroundAlpha,w=0;w<E.width;w++)for(S=0;S<E.width;S++)E.buffer[S*E.width+w]&&ne.fillRect(O*w+J,O*S+J,O,O)},reset:function(){var E=this.qrious,w=this.element.getContext("2d"),S=E.size;w.lineWidth=1,w.clearRect(0,0,S,S),w.fillStyle=E.background,w.globalAlpha=E.backgroundAlpha,w.fillRect(0,0,S,S)},resize:function(){var E=this.element;E.width=E.height=this.qrious.size}}),g=d,k=_.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),$=k,T=_.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),A=T,F=_.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),L=F,R=_.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),C=R,N=_.extend(function(E){var w,S,D,O,J,ne=E.value.length;for(this._badness=[],this._level=A.LEVELS[E.level],this._polynomial=[],this._value=E.value,this._version=0,this._stringBuffer=[];this._version<40&&(this._version++,D=(this._level-1)*4+(this._version-1)*16,O=A.BLOCKS[D++],J=A.BLOCKS[D++],w=A.BLOCKS[D++],S=A.BLOCKS[D],D=w*(O+J)+J-3+(this._version<=9),!(ne<=D)););this._dataBlock=w,this._eccBlock=S,this._neccBlock1=O,this._neccBlock2=J;var pe=this.width=17+4*this._version;this.buffer=N._createArray(pe*pe),this._ecc=N._createArray(w+(w+S)*(O+J)+J),this._mask=N._createArray((pe*(pe+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+pe*(pe-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(ne),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()},{_addAlignment:function(E,w){var S,D=this.buffer,O=this.width;for(D[E+O*w]=1,S=-2;S<2;S++)D[E+S+O*(w-2)]=1,D[E-2+O*(w+S+1)]=1,D[E+2+O*(w+S)]=1,D[E+S+1+O*(w+2)]=1;for(S=0;S<2;S++)this._setMask(E-1,w+S),this._setMask(E+1,w-S),this._setMask(E-S,w-1),this._setMask(E+S,w+1)},_appendData:function(E,w,S,D){var O,J,ne,pe=this._polynomial,be=this._stringBuffer;for(J=0;J<D;J++)be[S+J]=0;for(J=0;J<w;J++){if(O=L.LOG[be[E+J]^be[S]],O!==255)for(ne=1;ne<D;ne++)be[S+ne-1]=be[S+ne]^L.EXPONENT[N._modN(O+pe[D-ne])];else for(ne=S;ne<S+D;ne++)be[ne]=be[ne+1];be[S+D-1]=O===255?0:L.EXPONENT[N._modN(O+pe[0])]}},_appendEccToData:function(){var E,w=0,S=this._dataBlock,D=this._calculateMaxLength(),O=this._eccBlock;for(E=0;E<this._neccBlock1;E++)this._appendData(w,S,D,O),w+=S,D+=O;for(E=0;E<this._neccBlock2;E++)this._appendData(w,S+1,D,O),w+=S+1,D+=O},_applyMask:function(E){var w,S,D,O,J=this.buffer,ne=this.width;switch(E){case 0:for(O=0;O<ne;O++)for(D=0;D<ne;D++)!(D+O&1)&&!this._isMasked(D,O)&&(J[D+O*ne]^=1);break;case 1:for(O=0;O<ne;O++)for(D=0;D<ne;D++)!(O&1)&&!this._isMasked(D,O)&&(J[D+O*ne]^=1);break;case 2:for(O=0;O<ne;O++)for(w=0,D=0;D<ne;D++,w++)w===3&&(w=0),!w&&!this._isMasked(D,O)&&(J[D+O*ne]^=1);break;case 3:for(S=0,O=0;O<ne;O++,S++)for(S===3&&(S=0),w=S,D=0;D<ne;D++,w++)w===3&&(w=0),!w&&!this._isMasked(D,O)&&(J[D+O*ne]^=1);break;case 4:for(O=0;O<ne;O++)for(w=0,S=O>>1&1,D=0;D<ne;D++,w++)w===3&&(w=0,S=!S),!S&&!this._isMasked(D,O)&&(J[D+O*ne]^=1);break;case 5:for(S=0,O=0;O<ne;O++,S++)for(S===3&&(S=0),w=0,D=0;D<ne;D++,w++)w===3&&(w=0),!((D&O&1)+!(!w|!S))&&!this._isMasked(D,O)&&(J[D+O*ne]^=1);break;case 6:for(S=0,O=0;O<ne;O++,S++)for(S===3&&(S=0),w=0,D=0;D<ne;D++,w++)w===3&&(w=0),!((D&O&1)+(w&&w===S)&1)&&!this._isMasked(D,O)&&(J[D+O*ne]^=1);break;case 7:for(S=0,O=0;O<ne;O++,S++)for(S===3&&(S=0),w=0,D=0;D<ne;D++,w++)w===3&&(w=0),!((w&&w===S)+(D+O&1)&1)&&!this._isMasked(D,O)&&(J[D+O*ne]^=1);break}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var E,w,S=this._eccBlock,D=this._polynomial;for(D[0]=1,E=0;E<S;E++){for(D[E+1]=1,w=E;w>0;w--)D[w]=D[w]?D[w-1]^L.EXPONENT[N._modN(L.LOG[D[w]]+E)]:D[w-1];D[0]=L.EXPONENT[N._modN(L.LOG[D[0]]+E)]}for(E=0;E<=S;E++)D[E]=L.LOG[D[E]]},_checkBadness:function(){var E,w,S,D,O,J=0,ne=this._badness,pe=this.buffer,be=this.width;for(O=0;O<be-1;O++)for(D=0;D<be-1;D++)(pe[D+be*O]&&pe[D+1+be*O]&&pe[D+be*(O+1)]&&pe[D+1+be*(O+1)]||!(pe[D+be*O]||pe[D+1+be*O]||pe[D+be*(O+1)]||pe[D+1+be*(O+1)]))&&(J+=N.N2);var Ae=0;for(O=0;O<be;O++){for(S=0,ne[0]=0,E=0,D=0;D<be;D++)w=pe[D+be*O],E===w?ne[S]++:ne[++S]=1,E=w,Ae+=E?1:-1;J+=this._getBadness(S)}Ae<0&&(Ae=-Ae);var Fe=0,ce=Ae;for(ce+=ce<<2,ce<<=1;ce>be*be;)ce-=be*be,Fe++;for(J+=Fe*N.N4,D=0;D<be;D++){for(S=0,ne[0]=0,E=0,O=0;O<be;O++)w=pe[D+be*O],E===w?ne[S]++:ne[++S]=1,E=w;J+=this._getBadness(S)}return J},_convertBitStream:function(E){var w,S,D=this._ecc,O=this._version;for(S=0;S<E;S++)D[S]=this._value.charCodeAt(S);var J=this._stringBuffer=D.slice(),ne=this._calculateMaxLength();E>=ne-2&&(E=ne-2,O>9&&E--);var pe=E;if(O>9){for(J[pe+2]=0,J[pe+3]=0;pe--;)w=J[pe],J[pe+3]|=255&w<<4,J[pe+2]=w>>4;J[2]|=255&E<<4,J[1]=E>>4,J[0]=64|E>>12}else{for(J[pe+1]=0,J[pe+2]=0;pe--;)w=J[pe],J[pe+2]|=255&w<<4,J[pe+1]=w>>4;J[1]|=255&E<<4,J[0]=64|E>>4}for(pe=E+3-(O<10);pe<ne;)J[pe++]=236,J[pe++]=17},_getBadness:function(E){var w,S=0,D=this._badness;for(w=0;w<=E;w++)D[w]>=5&&(S+=N.N1+D[w]-5);for(w=3;w<E-1;w+=2)D[w-2]===D[w+2]&&D[w+2]===D[w-1]&&D[w-1]===D[w+1]&&D[w-1]*3===D[w]&&(D[w-3]===0||w+3>E||D[w-3]*3>=D[w]*4||D[w+3]*3>=D[w]*4)&&(S+=N.N3);return S},_finish:function(){this._stringBuffer=this.buffer.slice();var E,w,S=0,D=3e4;for(w=0;w<8&&(this._applyMask(w),E=this._checkBadness(),E<D&&(D=E,S=w),S!==7);w++)this.buffer=this._stringBuffer.slice();S!==w&&this._applyMask(S),D=A.FINAL_FORMAT[S+(this._level-1<<3)];var O=this.buffer,J=this.width;for(w=0;w<8;w++,D>>=1)D&1&&(O[J-1-w+J*8]=1,w<6?O[8+J*w]=1:O[8+J*(w+1)]=1);for(w=0;w<7;w++,D>>=1)D&1&&(O[8+J*(J-7+w)]=1,w?O[6-w+J*8]=1:O[7+J*8]=1)},_interleaveBlocks:function(){var E,w,S=this._dataBlock,D=this._ecc,O=this._eccBlock,J=0,ne=this._calculateMaxLength(),pe=this._neccBlock1,be=this._neccBlock2,Ae=this._stringBuffer;for(E=0;E<S;E++){for(w=0;w<pe;w++)D[J++]=Ae[E+w*S];for(w=0;w<be;w++)D[J++]=Ae[pe*S+E+w*(S+1)]}for(w=0;w<be;w++)D[J++]=Ae[pe*S+E+w*(S+1)];for(E=0;E<O;E++)for(w=0;w<pe+be;w++)D[J++]=Ae[ne+E+w*O];this._stringBuffer=D},_insertAlignments:function(){var E,w,S,D=this._version,O=this.width;if(D>1)for(E=$.BLOCK[D],S=O-7;;){for(w=O-7;w>E-3&&(this._addAlignment(w,S),!(w<E));)w-=E;if(S<=E+9)break;S-=E,this._addAlignment(6,S),this._addAlignment(S,6)}},_insertFinders:function(){var E,w,S,D,O=this.buffer,J=this.width;for(E=0;E<3;E++){for(w=0,D=0,E===1&&(w=J-7),E===2&&(D=J-7),O[D+3+J*(w+3)]=1,S=0;S<6;S++)O[D+S+J*w]=1,O[D+J*(w+S+1)]=1,O[D+6+J*(w+S)]=1,O[D+S+1+J*(w+6)]=1;for(S=1;S<5;S++)this._setMask(D+S,w+1),this._setMask(D+1,w+S+1),this._setMask(D+5,w+S),this._setMask(D+S+1,w+5);for(S=2;S<4;S++)O[D+S+J*(w+2)]=1,O[D+2+J*(w+S+1)]=1,O[D+4+J*(w+S)]=1,O[D+S+1+J*(w+4)]=1}},_insertTimingGap:function(){var E,w,S=this.width;for(w=0;w<7;w++)this._setMask(7,w),this._setMask(S-8,w),this._setMask(7,w+S-7);for(E=0;E<8;E++)this._setMask(E,7),this._setMask(E+S-8,7),this._setMask(E,S-8)},_insertTimingRowAndColumn:function(){var E,w=this.buffer,S=this.width;for(E=0;E<S-14;E++)E&1?(this._setMask(8+E,6),this._setMask(6,8+E)):(w[8+E+S*6]=1,w[6+S*(8+E)]=1)},_insertVersion:function(){var E,w,S,D,O=this.buffer,J=this._version,ne=this.width;if(J>6)for(E=C.BLOCK[J-7],w=17,S=0;S<6;S++)for(D=0;D<3;D++,w--)1&(w>11?J>>w-12:E>>w)?(O[5-S+ne*(2-D+ne-11)]=1,O[2-D+ne-11+ne*(5-S)]=1):(this._setMask(5-S,2-D+ne-11),this._setMask(2-D+ne-11,5-S))},_isMasked:function(E,w){var S=N._getMaskBit(E,w);return this._mask[S]===1},_pack:function(){var E,w,S,D=1,O=1,J=this.width,ne=J-1,pe=J-1,be=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(w=0;w<be;w++)for(E=this._stringBuffer[w],S=0;S<8;S++,E<<=1){128&E&&(this.buffer[ne+J*pe]=1);do O?ne--:(ne++,D?pe!==0?pe--:(ne-=2,D=!D,ne===6&&(ne--,pe=9)):pe!==J-1?pe++:(ne-=2,D=!D,ne===6&&(ne--,pe-=8))),O=!O;while(this._isMasked(ne,pe))}},_reverseMask:function(){var E,w,S=this.width;for(E=0;E<9;E++)this._setMask(E,8);for(E=0;E<8;E++)this._setMask(E+S-8,8),this._setMask(8,E);for(w=0;w<7;w++)this._setMask(8,w+S-7)},_setMask:function(E,w){var S=N._getMaskBit(E,w);this._mask[S]=1},_syncMask:function(){var E,w,S=this.width;for(w=0;w<S;w++)for(E=0;E<=w;E++)this.buffer[E+S*w]&&this._setMask(E,w)}},{_createArray:function(E){var w,S=[];for(w=0;w<E;w++)S[w]=0;return S},_getMaskBit:function(E,w){var S;return E>w&&(S=E,E=w,w=S),S=w,S+=w*w,S>>=1,S+=E,S},_modN:function(E){for(;E>=255;)E-=255,E=(E>>8)+(E&255);return E},N1:3,N2:3,N3:40,N4:10}),ee=N,q=v.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var E=this.element;E.width=E.height=this.qrious.size}}),U=q,H=_.extend(function(E,w,S,D){this.name=E,this.modifiable=Boolean(w),this.defaultValue=S,this._valueTransformer=D},{transform:function(E){var w=this._valueTransformer;return typeof w=="function"?w(E,this):E}}),K=H,V=_.extend(null,{abs:function(E){return E!=null?Math.abs(E):null},hasOwn:function(E,w){return Object.prototype.hasOwnProperty.call(E,w)},noop:function(){},toUpperCase:function(E){return E!=null?E.toUpperCase():null}}),Y=V,G=_.extend(function(E){this.options={},E.forEach(function(w){this.options[w.name]=w},this)},{exists:function(E){return this.options[E]!=null},get:function(E,w){return G._get(this.options[E],w)},getAll:function(E){var w,S=this.options,D={};for(w in S)Y.hasOwn(S,w)&&(D[w]=G._get(S[w],E));return D},init:function(E,w,S){typeof S!="function"&&(S=Y.noop);var D,O;for(D in this.options)Y.hasOwn(this.options,D)&&(O=this.options[D],G._set(O,O.defaultValue,w),G._createAccessor(O,w,S));this._setAll(E,w,!0)},set:function(E,w,S){return this._set(E,w,S)},setAll:function(E,w){return this._setAll(E,w)},_set:function(E,w,S,D){var O=this.options[E];if(!O)throw new Error("Invalid option: "+E);if(!O.modifiable&&!D)throw new Error("Option cannot be modified: "+E);return G._set(O,w,S)},_setAll:function(E,w,S){if(!E)return!1;var D,O=!1;for(D in E)Y.hasOwn(E,D)&&this._set(D,E[D],w,S)&&(O=!0);return O}},{_createAccessor:function(E,w,S){var D={get:function(){return G._get(E,w)}};E.modifiable&&(D.set=function(O){G._set(E,O,w)&&S(O,E)}),Object.defineProperty(w,E.name,D)},_get:function(E,w){return w["_"+E.name]},_set:function(E,w,S){var D="_"+E.name,O=S[D],J=E.transform(w!=null?w:E.defaultValue);return S[D]=J,J!==O}}),W=G,z=_.extend(function(){this._services={}},{getService:function(E){var w=this._services[E];if(!w)throw new Error("Service is not being managed with name: "+E);return w},setService:function(E,w){if(this._services[E])throw new Error("Service is already managed with name: "+E);w&&(this._services[E]=w)}}),x=z,_e=new W([new K("background",!0,"white"),new K("backgroundAlpha",!0,1,Y.abs),new K("element"),new K("foreground",!0,"black"),new K("foregroundAlpha",!0,1,Y.abs),new K("level",!0,"L",Y.toUpperCase),new K("mime",!0,"image/png"),new K("padding",!0,null,Y.abs),new K("size",!0,100,Y.abs),new K("value",!0,"")]),ie=new x,me=_.extend(function(E){_e.init(E,this,this.update.bind(this));var w=_e.get("element",this),S=ie.getService("element"),D=w&&S.isCanvas(w)?w:S.createCanvas(),O=w&&S.isImage(w)?w:S.createImage();this._canvasRenderer=new g(this,D,!0),this._imageRenderer=new U(this,O,O===w),this.update()},{get:function(){return _e.getAll(this)},set:function(E){_e.setAll(E,this)&&this.update()},toDataURL:function(E){return this.canvas.toDataURL(E||this.mime)},update:function(){var E=new ee({level:this.level,value:this.value});this._canvasRenderer.render(E),this._imageRenderer.render(E)}},{use:function(E){ie.setService(E.getName(),E)}});Object.defineProperties(me.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var X=me,ke=X,Ee=_.extend({getName:function(){}}),we=Ee,Me=we.extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(E){},isImage:function(E){}}),le=Me,fe=le.extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(E){return E instanceof HTMLCanvasElement},isImage:function(E){return E instanceof HTMLImageElement}}),Oe=fe;ke.use(new Oe);var Ie=ke;return Ie})})(e0);const i_=e0.exports;function s_(t){let e,n;return{c(){e=m("img"),is(e.src,n=t[2])||a(e,"src",n),a(e,"alt",t[0]),a(e,"class",t[1])},m(l,i){M(l,e,i)},p(l,[i]){i&4&&!is(e.src,n=l[2])&&a(e,"src",n),i&1&&a(e,"alt",l[0]),i&2&&a(e,"class",l[1])},i:ve,o:ve,d(l){l&&y(e)}}}function o_(t,e,n){const l=new i_;let{errorCorrection:i="L"}=e,{background:o="#fff"}=e,{color:u="#000"}=e,{size:c="200"}=e,{value:r=""}=e,{padding:f=0}=e,{className:p="qrcode"}=e,_="";function h(){l.set({background:o,foreground:u,level:i,padding:f,size:c,value:r}),n(2,_=l.toDataURL("image/jpeg"))}return a1(()=>{h()}),t.$$set=v=>{"errorCorrection"in v&&n(3,i=v.errorCorrection),"background"in v&&n(4,o=v.background),"color"in v&&n(5,u=v.color),"size"in v&&n(6,c=v.size),"value"in v&&n(0,r=v.value),"padding"in v&&n(7,f=v.padding),"className"in v&&n(1,p=v.className)},t.$$.update=()=>{t.$$.dirty&1&&r&&h()},[r,p,_,i,o,u,c,f]}class a_ extends We{constructor(e){super(),He(this,e,o_,s_,Be,{errorCorrection:3,background:4,color:5,size:6,value:0,padding:7,className:1})}}function Hu(t,e,n){const l=t.slice();return l[103]=e[n],l[104]=e,l[105]=n,l}function Wu(t,e,n){const l=t.slice();return l[106]=e[n],l[107]=e,l[108]=n,l}function r_(t,e,n){const l=t.slice();return l[109]=e[n],l}function u_(t,e,n){const l=t.slice();return l[112]=e[n],l}function f_(t){let e,n;return{c(){e=m("option"),n=P(t[112]),e.__value=t[112],e.value=e.__value},m(l,i){M(l,e,i),s(e,n)},p:ve,d(l){l&&y(e)}}}function c_(t){let e;return{c(){e=P("Configure price")},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function zu(t){let e,n,l,i;return{c(){e=m("br"),n=m("input"),a(n,"name","pt"),a(n,"type","text"),a(n,"class","in-s"),a(n,"placeholder","ENTSO-E API key, optional, read docs")},m(o,u){M(o,e,u),M(o,n,u),re(n,t[3].p.t),l||(i=Q(n,"input",t[21]),l=!0)},p(o,u){u[0]&8&&n.value!==o[3].p.t&&re(n,o[3].p.t)},d(o){o&&y(e),o&&y(n),l=!1,i()}}}function Gu(t){let e,n,l,i,o,u,c,r,f,p,_,h,v;return{c(){e=m("div"),n=P("Username"),l=m("br"),i=b(),o=m("input"),u=b(),c=m("div"),r=P("Password"),f=m("br"),p=b(),_=m("input"),a(o,"name","gu"),a(o,"type","text"),a(o,"class","in-s"),a(o,"maxlength","36"),a(e,"class","my-1"),a(_,"name","gp"),a(_,"type","password"),a(_,"class","in-s"),a(_,"maxlength","36"),a(c,"class","my-1")},m(d,g){M(d,e,g),s(e,n),s(e,l),s(e,i),s(e,o),re(o,t[3].g.u),M(d,u,g),M(d,c,g),s(c,r),s(c,f),s(c,p),s(c,_),re(_,t[3].g.p),h||(v=[Q(o,"input",t[23]),Q(_,"input",t[24])],h=!0)},p(d,g){g[0]&8&&o.value!==d[3].g.u&&re(o,d[3].g.u),g[0]&8&&_.value!==d[3].g.p&&re(_,d[3].g.p)},d(d){d&&y(e),d&&y(u),d&&y(c),h=!1,et(v)}}}function m_(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g,k,$,T,A,F,L,R,C,N,ee,q,U,H,K,V=[24,48,96,192,384,576,1152],Y=[];for(let G=0;G<7;G+=1)Y[G]=p_(r_(t,V,G));return{c(){e=m("div"),n=m("span"),n.textContent="Buffer size",l=b(),i=m("span"),i.textContent="Serial conf.",o=b(),u=m("label"),c=m("input"),r=P(" inverted"),f=b(),p=m("div"),_=m("select"),h=m("option"),v=P("Autodetect");for(let G=0;G<7;G+=1)Y[G].c();g=b(),k=m("select"),$=m("option"),T=P("-"),F=m("option"),F.textContent="7N1",L=m("option"),L.textContent="8N1",R=m("option"),R.textContent="7E1",C=m("option"),C.textContent="8E1",ee=b(),q=m("input"),a(n,"class","float-right"),a(c,"name","mi"),c.__value="true",c.value=c.__value,a(c,"type","checkbox"),a(c,"class","rounded mb-1"),a(u,"class","mt-2 ml-3 whitespace-nowrap"),h.__value=0,h.value=h.__value,h.disabled=d=t[3].m.b!=0,a(_,"name","mb"),a(_,"class","in-f tr w-1/2"),t[3].m.b===void 0&&Ze(()=>t[29].call(_)),$.__value=0,$.value=$.__value,$.disabled=A=t[3].m.b!=0,F.__value=2,F.value=F.__value,L.__value=3,L.value=L.__value,R.__value=10,R.value=R.__value,C.__value=11,C.value=C.__value,a(k,"name","mp"),a(k,"class","in-m"),k.disabled=N=t[3].m.b==0,t[3].m.p===void 0&&Ze(()=>t[30].call(k)),a(q,"name","ms"),a(q,"type","number"),a(q,"min",64),a(q,"max",U=t[0].chip=="esp8266"?t[3].i.h.p==3||t[3].i.h.p==113?512:128:4096),a(q,"step",64),a(q,"class","in-l tr w-1/2"),a(p,"class","flex w-full"),a(e,"class","my-1")},m(G,W){M(G,e,W),s(e,n),s(e,l),s(e,i),s(e,o),s(e,u),s(u,c),c.checked=t[3].m.i,s(u,r),s(e,f),s(e,p),s(p,_),s(_,h),s(h,v);for(let z=0;z<7;z+=1)Y[z]&&Y[z].m(_,null);Te(_,t[3].m.b,!0),s(p,g),s(p,k),s(k,$),s($,T),s(k,F),s(k,L),s(k,R),s(k,C),Te(k,t[3].m.p,!0),s(p,ee),s(p,q),re(q,t[3].m.s),H||(K=[Q(c,"change",t[28]),Q(_,"change",t[29]),Q(k,"change",t[30]),Q(q,"input",t[31])],H=!0)},p(G,W){W[0]&8&&(c.checked=G[3].m.i),W[0]&8&&d!==(d=G[3].m.b!=0)&&(h.disabled=d),W[0]&8&&Te(_,G[3].m.b),W[0]&8&&A!==(A=G[3].m.b!=0)&&($.disabled=A),W[0]&8&&N!==(N=G[3].m.b==0)&&(k.disabled=N),W[0]&8&&Te(k,G[3].m.p),W[0]&9&&U!==(U=G[0].chip=="esp8266"?G[3].i.h.p==3||G[3].i.h.p==113?512:128:4096)&&a(q,"max",U),W[0]&8&&Se(q.value)!==G[3].m.s&&re(q,G[3].m.s)},d(G){G&&y(e),ct(Y,G),H=!1,et(K)}}}function __(t){let e,n,l,i,o,u;return{c(){e=m("div"),n=m("span"),n.textContent="Pulses per kWh",l=b(),i=m("input"),a(i,"name","mb"),a(i,"class","in-s tr"),a(i,"type","number"),a(i,"min",1),a(i,"max",3600),a(e,"class","my-1")},m(c,r){M(c,e,r),s(e,n),s(e,l),s(e,i),re(i,t[3].m.b),o||(u=Q(i,"input",t[27]),o=!0)},p(c,r){r[0]&8&&Se(i.value)!==c[3].m.b&&re(i,c[3].m.b)},d(c){c&&y(e),o=!1,u()}}}function p_(t){let e,n=t[109]*100+"",l;return{c(){e=m("option"),l=P(n),e.__value=t[109]*100,e.value=e.__value},m(i,o){M(i,e,o),s(e,l)},p:ve,d(i){i&&y(e)}}}function Vu(t){let e,n,l,i;return{c(){e=m("br"),n=m("input"),a(n,"name","mek"),a(n,"type","text"),a(n,"class","in-s")},m(o,u){M(o,e,u),M(o,n,u),re(n,t[3].m.e.k),l||(i=Q(n,"input",t[36]),l=!0)},p(o,u){u[0]&8&&n.value!==o[3].m.e.k&&re(n,o[3].m.e.k)},d(o){o&&y(e),o&&y(n),l=!1,i()}}}function Ku(t){let e,n,l,i,o,u,c;return{c(){e=m("div"),n=P("Authentication key"),l=m("br"),i=b(),o=m("input"),a(o,"name","mea"),a(o,"type","text"),a(o,"class","in-s"),a(e,"class","my-1")},m(r,f){M(r,e,f),s(e,n),s(e,l),s(e,i),s(e,o),re(o,t[3].m.e.a),u||(c=Q(o,"input",t[37]),u=!0)},p(r,f){f[0]&8&&o.value!==r[3].m.e.a&&re(o,r[3].m.e.a)},d(r){r&&y(e),u=!1,c()}}}function Yu(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g,k,$,T,A,F,L,R,C,N,ee,q;return{c(){e=m("div"),n=m("div"),l=P("Watt"),i=m("br"),o=b(),u=m("input"),c=b(),r=m("div"),f=P("Volt"),p=m("br"),_=b(),h=m("input"),v=b(),d=m("div"),g=P("Amp"),k=m("br"),$=b(),T=m("input"),A=b(),F=m("div"),L=P("kWh"),R=m("br"),C=b(),N=m("input"),a(u,"name","mmw"),a(u,"type","number"),a(u,"min","0.00"),a(u,"max","1000"),a(u,"step","0.001"),a(u,"class","in-f tr w-full"),a(n,"class","w-1/4"),a(h,"name","mmv"),a(h,"type","number"),a(h,"min","0.00"),a(h,"max","1000"),a(h,"step","0.001"),a(h,"class","in-m tr w-full"),a(r,"class","w-1/4"),a(T,"name","mma"),a(T,"type","number"),a(T,"min","0.00"),a(T,"max","1000"),a(T,"step","0.001"),a(T,"class","in-m tr w-full"),a(d,"class","w-1/4"),a(N,"name","mmc"),a(N,"type","number"),a(N,"min","0.00"),a(N,"max","1000"),a(N,"step","0.001"),a(N,"class","in-l tr w-full"),a(F,"class","w-1/4"),a(e,"class","flex my-1")},m(U,H){M(U,e,H),s(e,n),s(n,l),s(n,i),s(n,o),s(n,u),re(u,t[3].m.m.w),s(e,c),s(e,r),s(r,f),s(r,p),s(r,_),s(r,h),re(h,t[3].m.m.v),s(e,v),s(e,d),s(d,g),s(d,k),s(d,$),s(d,T),re(T,t[3].m.m.a),s(e,A),s(e,F),s(F,L),s(F,R),s(F,C),s(F,N),re(N,t[3].m.m.c),ee||(q=[Q(u,"input",t[39]),Q(h,"input",t[40]),Q(T,"input",t[41]),Q(N,"input",t[42])],ee=!0)},p(U,H){H[0]&8&&Se(u.value)!==U[3].m.m.w&&re(u,U[3].m.m.w),H[0]&8&&Se(h.value)!==U[3].m.m.v&&re(h,U[3].m.m.v),H[0]&8&&Se(T.value)!==U[3].m.m.a&&re(T,U[3].m.m.a),H[0]&8&&Se(N.value)!==U[3].m.m.c&&re(N,U[3].m.m.c)},d(U){U&&y(e),ee=!1,et(q)}}}function Qu(t){let e;return{c(){e=m("option"),e.textContent="Ethernet",e.__value=3,e.value=e.__value},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function Xu(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g,k,$,T,A,F,L,R,C,N,ee,q,U,H,K,V,Y,G,W,z,x,_e,ie,me;return{c(){e=m("div"),n=P("SSID"),l=m("br"),i=b(),o=m("input"),u=b(),c=m("div"),r=P("Password"),f=m("br"),p=b(),_=m("input"),h=b(),v=m("div"),d=m("div"),g=P("Power saving"),k=m("br"),$=b(),T=m("select"),A=m("option"),A.textContent="Default",F=m("option"),F.textContent="Off",L=m("option"),L.textContent="Minimum",R=m("option"),R.textContent="Maximum",C=b(),N=m("div"),ee=P("Power"),q=m("br"),U=b(),H=m("div"),K=m("input"),V=b(),Y=m("span"),Y.textContent="dBm",G=b(),W=m("div"),z=m("label"),x=m("input"),_e=P(" Allow 802.11b legacy rates"),a(o,"name","ws"),a(o,"type","text"),a(o,"class","in-s"),a(e,"class","my-1"),a(_,"name","wp"),a(_,"type","password"),a(_,"class","in-s"),a(c,"class","my-1"),A.__value=255,A.value=A.__value,F.__value=0,F.value=F.__value,L.__value=1,L.value=L.__value,R.__value=2,R.value=R.__value,a(T,"name","wz"),a(T,"class","in-s"),t[3].w.z===void 0&&Ze(()=>t[46].call(T)),a(d,"class","w-1/2"),a(K,"name","ww"),a(K,"type","number"),a(K,"min","0"),a(K,"max","20.5"),a(K,"step","0.5"),a(K,"class","in-f tr w-full"),a(Y,"class","in-post"),a(H,"class","flex"),a(N,"class","ml-2 w-1/2"),a(v,"class","my-1 flex"),a(x,"type","checkbox"),a(x,"name","wb"),x.__value="true",x.value=x.__value,a(x,"class","rounded mb-1"),a(W,"class","my-3")},m(X,ke){M(X,e,ke),s(e,n),s(e,l),s(e,i),s(e,o),re(o,t[3].w.s),M(X,u,ke),M(X,c,ke),s(c,r),s(c,f),s(c,p),s(c,_),re(_,t[3].w.p),M(X,h,ke),M(X,v,ke),s(v,d),s(d,g),s(d,k),s(d,$),s(d,T),s(T,A),s(T,F),s(T,L),s(T,R),Te(T,t[3].w.z,!0),s(v,C),s(v,N),s(N,ee),s(N,q),s(N,U),s(N,H),s(H,K),re(K,t[3].w.w),s(H,V),s(H,Y),M(X,G,ke),M(X,W,ke),s(W,z),s(z,x),x.checked=t[3].w.b,s(z,_e),ie||(me=[Q(o,"input",t[44]),Q(_,"input",t[45]),Q(T,"change",t[46]),Q(K,"input",t[47]),Q(x,"change",t[48])],ie=!0)},p(X,ke){ke[0]&8&&o.value!==X[3].w.s&&re(o,X[3].w.s),ke[0]&8&&_.value!==X[3].w.p&&re(_,X[3].w.p),ke[0]&8&&Te(T,X[3].w.z),ke[0]&8&&Se(K.value)!==X[3].w.w&&re(K,X[3].w.w),ke[0]&8&&(x.checked=X[3].w.b)},d(X){X&&y(e),X&&y(u),X&&y(c),X&&y(h),X&&y(v),X&&y(G),X&&y(W),ie=!1,et(me)}}}function Zu(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g,k;return{c(){e=m("div"),n=P("Gateway"),l=m("br"),i=b(),o=m("input"),u=b(),c=m("div"),r=P("DNS"),f=m("br"),p=b(),_=m("div"),h=m("input"),v=b(),d=m("input"),a(o,"name","ng"),a(o,"type","text"),a(o,"class","in-s"),a(e,"class","my-1"),a(h,"name","nd1"),a(h,"type","text"),a(h,"class","in-f w-full"),a(d,"name","nd2"),a(d,"type","text"),a(d,"class","in-l w-full"),a(_,"class","flex"),a(c,"class","my-1")},m($,T){M($,e,T),s(e,n),s(e,l),s(e,i),s(e,o),re(o,t[3].n.g),M($,u,T),M($,c,T),s(c,r),s(c,f),s(c,p),s(c,_),s(_,h),re(h,t[3].n.d1),s(_,v),s(_,d),re(d,t[3].n.d2),g||(k=[Q(o,"input",t[52]),Q(h,"input",t[53]),Q(d,"input",t[54])],g=!0)},p($,T){T[0]&8&&o.value!==$[3].n.g&&re(o,$[3].n.g),T[0]&8&&h.value!==$[3].n.d1&&re(h,$[3].n.d1),T[0]&8&&d.value!==$[3].n.d2&&re(d,$[3].n.d2)},d($){$&&y(e),$&&y(u),$&&y(c),g=!1,et(k)}}}function Ju(t){let e,n,l,i,o;return{c(){e=m("label"),n=m("input"),l=P(" SSL"),a(n,"type","checkbox"),a(n,"name","qs"),n.__value="true",n.value=n.__value,a(n,"class","rounded mb-1"),a(e,"class","float-right mr-3")},m(u,c){M(u,e,c),s(e,n),n.checked=t[3].q.s.e,s(e,l),i||(o=[Q(n,"change",t[58]),Q(n,"change",t[14])],i=!0)},p(u,c){c[0]&8&&(n.checked=u[3].q.s.e)},d(u){u&&y(e),i=!1,et(o)}}}function xu(t){let e,n,l,i,o,u,c,r,f,p,_,h,v;const d=[h_,d_],g=[];function k(C,N){return C[3].q.s.c?0:1}l=k(t),i=g[l]=d[l](t);const $=[k_,g_],T=[];function A(C,N){return C[3].q.s.r?0:1}c=A(t),r=T[c]=$[c](t);const F=[M_,y_],L=[];function R(C,N){return C[3].q.s.k?0:1}return _=R(t),h=L[_]=F[_](t),{c(){e=m("div"),n=m("span"),i.c(),o=b(),u=m("span"),r.c(),f=b(),p=m("span"),h.c(),a(n,"class","flex pr-2"),a(u,"class","flex pr-2"),a(p,"class","flex pr-2"),a(e,"class","my-1 flex")},m(C,N){M(C,e,N),s(e,n),g[l].m(n,null),s(e,o),s(e,u),T[c].m(u,null),s(e,f),s(e,p),L[_].m(p,null),v=!0},p(C,N){let ee=l;l=k(C),l===ee?g[l].p(C,N):($e(),B(g[ee],1,1,()=>{g[ee]=null}),De(),i=g[l],i?i.p(C,N):(i=g[l]=d[l](C),i.c()),I(i,1),i.m(n,null));let q=c;c=A(C),c===q?T[c].p(C,N):($e(),B(T[q],1,1,()=>{T[q]=null}),De(),r=T[c],r?r.p(C,N):(r=T[c]=$[c](C),r.c()),I(r,1),r.m(u,null));let U=_;_=R(C),_===U?L[_].p(C,N):($e(),B(L[U],1,1,()=>{L[U]=null}),De(),h=L[_],h?h.p(C,N):(h=L[_]=F[_](C),h.c()),I(h,1),h.m(p,null))},i(C){v||(I(i),I(r),I(h),v=!0)},o(C){B(i),B(r),B(h),v=!1},d(C){C&&y(e),g[l].d(),T[c].d(),L[_].d()}}}function d_(t){let e,n;return e=new Zt({props:{to:"/mqtt-ca",$$slots:{default:[v_]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i[3]&4194304&&(o.$$scope={dirty:i,ctx:l}),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function h_(t){let e,n,l,i,o,u,c,r;return n=new Zt({props:{to:"/mqtt-ca",$$slots:{default:[b_]},$$scope:{ctx:t}}}),o=new ms({}),{c(){e=m("span"),ae(n.$$.fragment),l=b(),i=m("span"),ae(o.$$.fragment),a(e,"class","rounded-l-md bg-green-500 text-green-100 text-xs font-semibold px-2.5 py-1"),a(i,"class","rounded-r-md bg-red-500 text-red-100 text-xs px-2.5 py-1")},m(f,p){M(f,e,p),se(n,e,null),M(f,l,p),M(f,i,p),se(o,i,null),u=!0,c||(r=[Q(i,"click",t[11]),Q(i,"keypress",t[11])],c=!0)},p(f,p){const _={};p[3]&4194304&&(_.$$scope={dirty:p,ctx:f}),n.$set(_)},i(f){u||(I(n.$$.fragment,f),I(o.$$.fragment,f),u=!0)},o(f){B(n.$$.fragment,f),B(o.$$.fragment,f),u=!1},d(f){f&&y(e),oe(n),f&&y(l),f&&y(i),oe(o),c=!1,et(r)}}}function v_(t){let e,n;return e=new ln({props:{color:"blue",text:"Upload CA",title:"Click here to upload CA"}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p:ve,i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function b_(t){let e;return{c(){e=P("CA OK")},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function g_(t){let e,n;return e=new Zt({props:{to:"/mqtt-cert",$$slots:{default:[w_]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i[3]&4194304&&(o.$$scope={dirty:i,ctx:l}),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function k_(t){let e,n,l,i,o,u,c,r;return n=new Zt({props:{to:"/mqtt-cert",$$slots:{default:[C_]},$$scope:{ctx:t}}}),o=new ms({}),{c(){e=m("span"),ae(n.$$.fragment),l=b(),i=m("span"),ae(o.$$.fragment),a(e,"class","rounded-l-md bg-green-500 text-green-100 text-xs font-semibold px-2.5 py-1"),a(i,"class","rounded-r-md bg-red-500 text-red-100 text-xs px-2.5 py-1")},m(f,p){M(f,e,p),se(n,e,null),M(f,l,p),M(f,i,p),se(o,i,null),u=!0,c||(r=[Q(i,"click",t[12]),Q(i,"keypress",t[12])],c=!0)},p(f,p){const _={};p[3]&4194304&&(_.$$scope={dirty:p,ctx:f}),n.$set(_)},i(f){u||(I(n.$$.fragment,f),I(o.$$.fragment,f),u=!0)},o(f){B(n.$$.fragment,f),B(o.$$.fragment,f),u=!1},d(f){f&&y(e),oe(n),f&&y(l),f&&y(i),oe(o),c=!1,et(r)}}}function w_(t){let e,n;return e=new ln({props:{color:"blue",text:"Upload cert",title:"Click here to upload certificate"}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p:ve,i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function C_(t){let e;return{c(){e=P("Cert OK")},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function y_(t){let e,n;return e=new Zt({props:{to:"/mqtt-key",$$slots:{default:[S_]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i[3]&4194304&&(o.$$scope={dirty:i,ctx:l}),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function M_(t){let e,n,l,i,o,u,c,r;return n=new Zt({props:{to:"/mqtt-key",$$slots:{default:[T_]},$$scope:{ctx:t}}}),o=new ms({}),{c(){e=m("span"),ae(n.$$.fragment),l=b(),i=m("span"),ae(o.$$.fragment),a(e,"class","rounded-l-md bg-green-500 text-green-100 text-xs font-semibold px-2.5 py-1"),a(i,"class","rounded-r-md bg-red-500 text-red-100 text-xs px-2.5 py-1")},m(f,p){M(f,e,p),se(n,e,null),M(f,l,p),M(f,i,p),se(o,i,null),u=!0,c||(r=[Q(i,"click",t[13]),Q(i,"keypress",t[13])],c=!0)},p(f,p){const _={};p[3]&4194304&&(_.$$scope={dirty:p,ctx:f}),n.$set(_)},i(f){u||(I(n.$$.fragment,f),I(o.$$.fragment,f),u=!0)},o(f){B(n.$$.fragment,f),B(o.$$.fragment,f),u=!1},d(f){f&&y(e),oe(n),f&&y(l),f&&y(i),oe(o),c=!1,et(r)}}}function S_(t){let e,n;return e=new ln({props:{color:"blue",text:"Upload key",title:"Click here to upload key"}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p:ve,i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function T_(t){let e;return{c(){e=P("Key OK")},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function ef(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g,k,$,T,A,F,L,R,C,N,ee,q,U,H,K,V,Y,G;return o=new jt({}),{c(){e=m("div"),n=m("strong"),n.textContent="Domoticz",l=b(),i=m("a"),ae(o.$$.fragment),u=b(),c=m("input"),r=b(),f=m("div"),p=m("div"),_=P("Electricity IDX"),h=m("br"),v=b(),d=m("input"),g=b(),k=m("div"),$=P("Current IDX"),T=m("br"),A=b(),F=m("input"),L=b(),R=m("div"),C=P(`Voltage IDX: L1, L2 & L3
                `),N=m("div"),ee=m("input"),q=b(),U=m("input"),H=b(),K=m("input"),a(n,"class","text-sm"),a(i,"href",Ht("MQTT-configuration#domoticz")),a(i,"target","_blank"),a(i,"class","float-right"),a(c,"type","hidden"),a(c,"name","o"),c.value="true",a(d,"name","oe"),a(d,"type","text"),a(d,"class","in-f tr w-full"),a(p,"class","w-1/2"),a(F,"name","oc"),a(F,"type","text"),a(F,"class","in-l tr w-full"),a(k,"class","w-1/2"),a(f,"class","my-1 flex"),a(ee,"name","ou1"),a(ee,"type","text"),a(ee,"class","in-f tr w-1/3"),a(U,"name","ou2"),a(U,"type","text"),a(U,"class","in-m tr w-1/3"),a(K,"name","ou3"),a(K,"type","text"),a(K,"class","in-l tr w-1/3"),a(N,"class","flex"),a(R,"class","my-1"),a(e,"class","cnt")},m(W,z){M(W,e,z),s(e,n),s(e,l),s(e,i),se(o,i,null),s(e,u),s(e,c),s(e,r),s(e,f),s(f,p),s(p,_),s(p,h),s(p,v),s(p,d),re(d,t[3].o.e),s(f,g),s(f,k),s(k,$),s(k,T),s(k,A),s(k,F),re(F,t[3].o.c),s(e,L),s(e,R),s(R,C),s(R,N),s(N,ee),re(ee,t[3].o.u1),s(N,q),s(N,U),re(U,t[3].o.u2),s(N,H),s(N,K),re(K,t[3].o.u3),V=!0,Y||(G=[Q(d,"input",t[66]),Q(F,"input",t[67]),Q(ee,"input",t[68]),Q(U,"input",t[69]),Q(K,"input",t[70])],Y=!0)},p(W,z){z[0]&8&&d.value!==W[3].o.e&&re(d,W[3].o.e),z[0]&8&&F.value!==W[3].o.c&&re(F,W[3].o.c),z[0]&8&&ee.value!==W[3].o.u1&&re(ee,W[3].o.u1),z[0]&8&&U.value!==W[3].o.u2&&re(U,W[3].o.u2),z[0]&8&&K.value!==W[3].o.u3&&re(K,W[3].o.u3)},i(W){V||(I(o.$$.fragment,W),V=!0)},o(W){B(o.$$.fragment,W),V=!1},d(W){W&&y(e),oe(o),Y=!1,et(G)}}}function tf(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g,k,$,T,A,F,L,R,C,N,ee,q,U,H,K;return o=new jt({}),{c(){e=m("div"),n=m("strong"),n.textContent="Home-Assistant",l=b(),i=m("a"),ae(o.$$.fragment),u=b(),c=m("input"),r=b(),f=m("div"),p=P("Discovery topic prefix"),_=m("br"),h=b(),v=m("input"),d=b(),g=m("div"),k=P("Hostname for URL"),$=m("br"),T=b(),A=m("input"),L=b(),R=m("div"),C=P("Name tag"),N=m("br"),ee=b(),q=m("input"),a(n,"class","text-sm"),a(i,"href",Ht("MQTT-configuration#home-assistant")),a(i,"target","_blank"),a(i,"class","float-right"),a(c,"type","hidden"),a(c,"name","h"),c.value="true",a(v,"name","ht"),a(v,"type","text"),a(v,"class","in-s"),a(v,"placeholder","homeassistant"),a(f,"class","my-1"),a(A,"name","hh"),a(A,"type","text"),a(A,"class","in-s"),a(A,"placeholder",F=t[3].g.h+".local"),a(g,"class","my-1"),a(q,"name","hn"),a(q,"type","text"),a(q,"class","in-s"),a(R,"class","my-1"),a(e,"class","cnt")},m(V,Y){M(V,e,Y),s(e,n),s(e,l),s(e,i),se(o,i,null),s(e,u),s(e,c),s(e,r),s(e,f),s(f,p),s(f,_),s(f,h),s(f,v),re(v,t[3].h.t),s(e,d),s(e,g),s(g,k),s(g,$),s(g,T),s(g,A),re(A,t[3].h.h),s(e,L),s(e,R),s(R,C),s(R,N),s(R,ee),s(R,q),re(q,t[3].h.n),U=!0,H||(K=[Q(v,"input",t[71]),Q(A,"input",t[72]),Q(q,"input",t[73])],H=!0)},p(V,Y){Y[0]&8&&v.value!==V[3].h.t&&re(v,V[3].h.t),(!U||Y[0]&8&&F!==(F=V[3].g.h+".local"))&&a(A,"placeholder",F),Y[0]&8&&A.value!==V[3].h.h&&re(A,V[3].h.h),Y[0]&8&&q.value!==V[3].h.n&&re(q,V[3].h.n)},i(V){U||(I(o.$$.fragment,V),U=!0)},o(V){B(o.$$.fragment,V),U=!1},d(V){V&&y(e),oe(o),H=!1,et(K)}}}function lf(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g,k,$,T,A,F,L;o=new jt({});let R=t[3].c.es&&nf(t);return{c(){e=m("div"),n=m("strong"),n.textContent="Cloud connections",l=b(),i=m("a"),ae(o.$$.fragment),u=b(),c=m("input"),r=b(),f=m("div"),p=m("label"),_=m("input"),h=P(" AMSreader cloud"),v=b(),d=m("div"),g=m("label"),k=m("input"),$=P(" Energy Speedometer"),T=b(),R&&R.c(),a(n,"class","text-sm"),a(i,"href",Ht("Cloud")),a(i,"target","_blank"),a(i,"class","float-right"),a(c,"type","hidden"),a(c,"name","c"),c.value="true",a(_,"type","checkbox"),a(_,"name","ce"),_.__value="true",_.value=_.__value,a(_,"class","rounded mb-1"),a(f,"class","my-1"),a(k,"type","checkbox"),a(k,"class","rounded mb-1"),a(k,"name","ces"),k.__value="true",k.value=k.__value,a(d,"class","my-1"),a(e,"class","cnt")},m(C,N){M(C,e,N),s(e,n),s(e,l),s(e,i),se(o,i,null),s(e,u),s(e,c),s(e,r),s(e,f),s(f,p),s(p,_),_.checked=t[3].c.e,s(p,h),s(e,v),s(e,d),s(d,g),s(g,k),k.checked=t[3].c.es,s(g,$),s(d,T),R&&R.m(d,null),A=!0,F||(L=[Q(_,"change",t[74]),Q(k,"change",t[75])],F=!0)},p(C,N){N[0]&8&&(_.checked=C[3].c.e),N[0]&8&&(k.checked=C[3].c.es),C[3].c.es?R?(R.p(C,N),N[0]&8&&I(R,1)):(R=nf(C),R.c(),I(R,1),R.m(d,null)):R&&($e(),B(R,1,1,()=>{R=null}),De())},i(C){A||(I(o.$$.fragment,C),I(R),A=!0)},o(C){B(o.$$.fragment,C),B(R),A=!1},d(C){C&&y(e),oe(o),R&&R.d(),F=!1,et(L)}}}function nf(t){let e,n,l=t[0].mac+"",i,o,u,c,r=(t[0].meter.id?t[0].meter.id:"missing, required")+"",f,p,_,h,v=t[0].mac&&t[0].meter.id&&sf(t);return{c(){e=m("div"),n=P("MAC: "),i=P(l),o=b(),u=m("div"),c=P("Meter ID: "),f=P(r),p=b(),v&&v.c(),_=it(),a(e,"class","pl-5"),a(u,"class","pl-5")},m(d,g){M(d,e,g),s(e,n),s(e,i),M(d,o,g),M(d,u,g),s(u,c),s(u,f),M(d,p,g),v&&v.m(d,g),M(d,_,g),h=!0},p(d,g){(!h||g[0]&1)&&l!==(l=d[0].mac+"")&&Z(i,l),(!h||g[0]&1)&&r!==(r=(d[0].meter.id?d[0].meter.id:"missing, required")+"")&&Z(f,r),d[0].mac&&d[0].meter.id?v?(v.p(d,g),g[0]&1&&I(v,1)):(v=sf(d),v.c(),I(v,1),v.m(_.parentNode,_)):v&&($e(),B(v,1,1,()=>{v=null}),De())},i(d){h||(I(v),h=!0)},o(d){B(v),h=!1},d(d){d&&y(e),d&&y(o),d&&y(u),d&&y(p),v&&v.d(d),d&&y(_)}}}function sf(t){let e,n,l;return n=new a_({props:{value:'{"mac":"'+t[0].mac+'","meter":"'+t[0].meter.id+'"}'}}),{c(){e=m("div"),ae(n.$$.fragment),a(e,"class","pl-2")},m(i,o){M(i,e,o),se(n,e,null),l=!0},p(i,o){const u={};o[0]&1&&(u.value='{"mac":"'+i[0].mac+'","meter":"'+i[0].meter.id+'"}'),n.$set(u)},i(i){l||(I(n.$$.fragment,i),l=!0)},o(i){B(n.$$.fragment,i),l=!1},d(i){i&&y(e),oe(n)}}}function of(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g,k,$,T,A;o=new jt({});let F={length:9},L=[];for(let R=0;R<F.length;R+=1)L[R]=af(Wu(t,F,R));return{c(){e=m("div"),n=m("strong"),n.textContent="Tariff thresholds",l=b(),i=m("a"),ae(o.$$.fragment),u=b(),c=m("input"),r=b(),f=m("div");for(let R=0;R<L.length;R+=1)L[R].c();p=b(),_=m("label"),h=m("span"),h.textContent="Average of",v=b(),d=m("input"),g=b(),k=m("span"),k.textContent="hours",a(n,"class","text-sm"),a(i,"href",Ht("Threshold-configuration")),a(i,"target","_blank"),a(i,"class","float-right"),a(c,"type","hidden"),a(c,"name","t"),c.value="true",a(f,"class","flex flex-wrap my-1"),a(h,"class","in-pre"),a(d,"name","th"),a(d,"type","number"),a(d,"min","0"),a(d,"max","255"),a(d,"class","in-txt tr w-full"),a(k,"class","in-post"),a(_,"class","flex m-1"),a(e,"class","cnt")},m(R,C){M(R,e,C),s(e,n),s(e,l),s(e,i),se(o,i,null),s(e,u),s(e,c),s(e,r),s(e,f);for(let N=0;N<L.length;N+=1)L[N]&&L[N].m(f,null);s(e,p),s(e,_),s(_,h),s(_,v),s(_,d),re(d,t[3].t.h),s(_,g),s(_,k),$=!0,T||(A=Q(d,"input",t[77]),T=!0)},p(R,C){if(C[0]&8){F={length:9};let N;for(N=0;N<F.length;N+=1){const ee=Wu(R,F,N);L[N]?L[N].p(ee,C):(L[N]=af(ee),L[N].c(),L[N].m(f,null))}for(;N<L.length;N+=1)L[N].d(1);L.length=F.length}C[0]&8&&Se(d.value)!==R[3].t.h&&re(d,R[3].t.h)},i(R){$||(I(o.$$.fragment,R),$=!0)},o(R){B(o.$$.fragment,R),$=!1},d(R){R&&y(e),oe(o),ct(L,R),T=!1,A()}}}function af(t){let e,n,l=t[108]+1+"",i,o,u,c,r,f,p,_;function h(){t[76].call(u,t[108])}return{c(){e=m("label"),n=m("span"),i=P(l),o=b(),u=m("input"),c=b(),r=m("span"),r.textContent="kWh",f=b(),a(n,"class","in-pre"),a(u,"name","t"+t[108]),a(u,"type","number"),a(u,"min","0"),a(u,"max","65535"),a(u,"class","in-txt w-full"),a(r,"class","in-post"),a(e,"class","flex w-40 m-1")},m(v,d){M(v,e,d),s(e,n),s(n,i),s(e,o),s(e,u),re(u,t[3].t.t[t[108]]),s(e,c),s(e,r),s(e,f),p||(_=Q(u,"input",h),p=!0)},p(v,d){t=v,d[0]&8&&Se(u.value)!==t[3].t.t[t[108]]&&re(u,t[3].t.t[t[108]])},d(v){v&&y(e),p=!1,_()}}}function rf(t){let e,n=t[103].name+"",l,i,o,u,c,r,f,p,_,h;function v(){t[78].call(u,t[103])}return{c(){e=m("div"),l=P(n),i=m("br"),o=b(),u=m("select"),c=m("option"),c.textContent="Disable",r=m("option"),r.textContent="Enable",f=m("option"),f.textContent="Auto",p=b(),c.__value=0,c.value=c.__value,r.__value=1,r.value=r.__value,f.__value=2,f.value=f.__value,a(u,"name","u"+t[103].key),a(u,"class","in-s"),t[3].u[t[103].key]===void 0&&Ze(v),a(e,"class","w-1/2")},m(d,g){M(d,e,g),s(e,l),s(e,i),s(e,o),s(e,u),s(u,c),s(u,r),s(u,f),Te(u,t[3].u[t[103].key],!0),s(e,p),_||(h=Q(u,"change",v),_=!0)},p(d,g){t=d,g[0]&136&&Te(u,t[3].u[t[103].key])},d(d){d&&y(e),_=!1,h()}}}function uf(t){let e,n,l,i,o,u,c,r,f;o=new jt({});let p=t[0].board>20&&ff(t),_=t[3].i.d.d>0&&_f(t),h=t[0].chip=="esp8266"&&pf(t);return{c(){e=m("div"),n=m("strong"),n.textContent="Hardware",l=b(),i=m("a"),ae(o.$$.fragment),u=b(),p&&p.c(),c=b(),_&&_.c(),r=b(),h&&h.c(),a(n,"class","text-sm"),a(i,"href",Ht("GPIO-configuration")),a(i,"target","_blank"),a(i,"class","float-right"),a(e,"class","cnt")},m(v,d){M(v,e,d),s(e,n),s(e,l),s(e,i),se(o,i,null),s(e,u),p&&p.m(e,null),s(e,c),_&&_.m(e,null),s(e,r),h&&h.m(e,null),f=!0},p(v,d){v[0].board>20?p?(p.p(v,d),d[0]&1&&I(p,1)):(p=ff(v),p.c(),I(p,1),p.m(e,c)):p&&($e(),B(p,1,1,()=>{p=null}),De()),v[3].i.d.d>0?_?_.p(v,d):(_=_f(v),_.c(),_.m(e,r)):_&&(_.d(1),_=null),v[0].chip=="esp8266"?h?h.p(v,d):(h=pf(v),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i(v){f||(I(o.$$.fragment,v),I(p),f=!0)},o(v){B(o.$$.fragment,v),B(p),f=!1},d(v){v&&y(e),oe(o),p&&p.d(),_&&_.d(),h&&h.d()}}}function ff(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g,k,$,T,A,F,L,R,C,N,ee,q,U,H,K,V,Y,G,W,z,x,_e,ie,me,X,ke,Ee,we,Me,le,fe,Oe,Ie,E,w,S,D,O,J,ne,pe,be,Ae,Fe,ce,Pe,ze,mt,Ke,ut,Ge,_t,Ue,Pt,pt,ht,xe,Re,tt,Le,Je,at;f=new Qs({props:{chip:t[0].chip}}),k=new Qs({props:{chip:t[0].chip}});let qe=t[0].chip!="esp8266"&&cf(t),ye=t[3].i.v.p>0&&mf(t);return{c(){e=m("input"),n=b(),l=m("div"),i=m("div"),o=P("HAN RX"),u=m("br"),c=b(),r=m("select"),ae(f.$$.fragment),p=b(),_=m("div"),h=P("HAN TX"),v=m("br"),d=b(),g=m("select"),ae(k.$$.fragment),$=b(),T=m("div"),A=m("label"),F=m("input"),L=P(" pullup"),R=b(),C=m("div"),N=m("div"),ee=P("AP button"),q=m("br"),U=b(),H=m("input"),K=b(),V=m("div"),Y=P("LED"),G=m("br"),W=b(),z=m("div"),x=m("input"),_e=b(),ie=m("div"),me=m("label"),X=m("input"),ke=P(" inverted"),Ee=b(),we=m("div"),Me=P("RGB"),le=m("label"),fe=m("input"),Oe=P(" inverted"),Ie=m("br"),E=b(),w=m("div"),S=m("input"),D=b(),O=m("input"),J=b(),ne=m("input"),pe=b(),be=m("div"),Ae=m("div"),Fe=P(`LED dis. GPIO
                        `),ce=m("input"),Pe=b(),ze=m("div"),mt=P("Temperature"),Ke=m("br"),ut=b(),Ge=m("input"),_t=b(),Ue=m("div"),Pt=P("Analog temp"),pt=m("br"),ht=b(),xe=m("input"),Re=b(),qe&&qe.c(),tt=b(),ye&&ye.c(),a(e,"type","hidden"),a(e,"name","i"),e.value="true",a(r,"name","ihp"),a(r,"class","in-f w-full"),t[3].i.h.p===void 0&&Ze(()=>t[79].call(r)),a(i,"class","w-1/3"),a(g,"name","iht"),a(g,"class","in-l w-full"),t[3].i.h.t===void 0&&Ze(()=>t[80].call(g)),a(_,"class","w-1/3"),a(F,"name","ihu"),F.__value="true",F.value=F.__value,a(F,"type","checkbox"),a(F,"class","rounded mb-1"),a(A,"class","ml-2"),a(T,"class","w-1/3"),a(l,"class","flex flex-wrap"),a(H,"name","ia"),a(H,"type","number"),a(H,"min","0"),a(H,"max",t[6]),a(H,"class","in-f tr w-full"),a(N,"class","w-1/3"),a(x,"name","ilp"),a(x,"type","number"),a(x,"min","0"),a(x,"max",t[6]),a(x,"class","in-l tr w-full"),a(z,"class","flex"),a(V,"class","w-1/3"),a(X,"name","ili"),X.__value="true",X.value=X.__value,a(X,"type","checkbox"),a(X,"class","rounded mb-1"),a(me,"class","ml-4"),a(ie,"class","w-1/3"),a(fe,"name","iri"),fe.__value="true",fe.value=fe.__value,a(fe,"type","checkbox"),a(fe,"class","rounded mb-1"),a(le,"class","ml-4"),a(S,"name","irr"),a(S,"type","number"),a(S,"min","0"),a(S,"max",t[6]),a(S,"class","in-f tr w-1/3"),a(O,"name","irg"),a(O,"type","number"),a(O,"min","0"),a(O,"max",t[6]),a(O,"class","in-m tr w-1/3"),a(ne,"name","irb"),a(ne,"type","number"),a(ne,"min","0"),a(ne,"max",t[6]),a(ne,"class","in-l tr w-1/3"),a(w,"class","flex"),a(we,"class","w-full"),a(ce,"name","idd"),a(ce,"type","number"),a(ce,"min","0"),a(ce,"max",t[6]),a(ce,"class","in-s tr"),a(Ae,"class","my-1 pr-1 w-1/3"),a(be,"class","w-full"),a(Ge,"name","itd"),a(Ge,"type","number"),a(Ge,"min","0"),a(Ge,"max",t[6]),a(Ge,"class","in-f tr w-full"),a(ze,"class","my-1 w-1/3"),a(xe,"name","ita"),a(xe,"type","number"),a(xe,"min","0"),a(xe,"max",t[6]),a(xe,"class","in-l tr w-full"),a(Ue,"class","my-1 pr-1 w-1/3"),a(C,"class","flex flex-wrap")},m(he,de){M(he,e,de),M(he,n,de),M(he,l,de),s(l,i),s(i,o),s(i,u),s(i,c),s(i,r),se(f,r,null),Te(r,t[3].i.h.p,!0),s(l,p),s(l,_),s(_,h),s(_,v),s(_,d),s(_,g),se(k,g,null),Te(g,t[3].i.h.t,!0),s(l,$),s(l,T),s(T,A),s(A,F),F.checked=t[3].i.h.u,s(A,L),M(he,R,de),M(he,C,de),s(C,N),s(N,ee),s(N,q),s(N,U),s(N,H),re(H,t[3].i.a),s(C,K),s(C,V),s(V,Y),s(V,G),s(V,W),s(V,z),s(z,x),re(x,t[3].i.l.p),s(C,_e),s(C,ie),s(ie,me),s(me,X),X.checked=t[3].i.l.i,s(me,ke),s(C,Ee),s(C,we),s(we,Me),s(we,le),s(le,fe),fe.checked=t[3].i.r.i,s(le,Oe),s(we,Ie),s(we,E),s(we,w),s(w,S),re(S,t[3].i.r.r),s(w,D),s(w,O),re(O,t[3].i.r.g),s(w,J),s(w,ne),re(ne,t[3].i.r.b),s(C,pe),s(C,be),s(be,Ae),s(Ae,Fe),s(Ae,ce),re(ce,t[3].i.d.d),s(C,Pe),s(C,ze),s(ze,mt),s(ze,Ke),s(ze,ut),s(ze,Ge),re(Ge,t[3].i.t.d),s(C,_t),s(C,Ue),s(Ue,Pt),s(Ue,pt),s(Ue,ht),s(Ue,xe),re(xe,t[3].i.t.a),s(C,Re),qe&&qe.m(C,null),s(C,tt),ye&&ye.m(C,null),Le=!0,Je||(at=[Q(r,"change",t[79]),Q(g,"change",t[80]),Q(F,"change",t[81]),Q(H,"input",t[82]),Q(x,"input",t[83]),Q(X,"change",t[84]),Q(fe,"change",t[85]),Q(S,"input",t[86]),Q(O,"input",t[87]),Q(ne,"input",t[88]),Q(ce,"input",t[89]),Q(Ge,"input",t[90]),Q(xe,"input",t[91])],Je=!0)},p(he,de){const Ve={};de[0]&1&&(Ve.chip=he[0].chip),f.$set(Ve),de[0]&8&&Te(r,he[3].i.h.p);const ue={};de[0]&1&&(ue.chip=he[0].chip),k.$set(ue),de[0]&8&&Te(g,he[3].i.h.t),de[0]&8&&(F.checked=he[3].i.h.u),(!Le||de[0]&64)&&a(H,"max",he[6]),de[0]&8&&Se(H.value)!==he[3].i.a&&re(H,he[3].i.a),(!Le||de[0]&64)&&a(x,"max",he[6]),de[0]&8&&Se(x.value)!==he[3].i.l.p&&re(x,he[3].i.l.p),de[0]&8&&(X.checked=he[3].i.l.i),de[0]&8&&(fe.checked=he[3].i.r.i),(!Le||de[0]&64)&&a(S,"max",he[6]),de[0]&8&&Se(S.value)!==he[3].i.r.r&&re(S,he[3].i.r.r),(!Le||de[0]&64)&&a(O,"max",he[6]),de[0]&8&&Se(O.value)!==he[3].i.r.g&&re(O,he[3].i.r.g),(!Le||de[0]&64)&&a(ne,"max",he[6]),de[0]&8&&Se(ne.value)!==he[3].i.r.b&&re(ne,he[3].i.r.b),(!Le||de[0]&64)&&a(ce,"max",he[6]),de[0]&8&&Se(ce.value)!==he[3].i.d.d&&re(ce,he[3].i.d.d),(!Le||de[0]&64)&&a(Ge,"max",he[6]),de[0]&8&&Se(Ge.value)!==he[3].i.t.d&&re(Ge,he[3].i.t.d),(!Le||de[0]&64)&&a(xe,"max",he[6]),de[0]&8&&Se(xe.value)!==he[3].i.t.a&&re(xe,he[3].i.t.a),he[0].chip!="esp8266"?qe?qe.p(he,de):(qe=cf(he),qe.c(),qe.m(C,tt)):qe&&(qe.d(1),qe=null),he[3].i.v.p>0?ye?ye.p(he,de):(ye=mf(he),ye.c(),ye.m(C,null)):ye&&(ye.d(1),ye=null)},i(he){Le||(I(f.$$.fragment,he),I(k.$$.fragment,he),Le=!0)},o(he){B(f.$$.fragment,he),B(k.$$.fragment,he),Le=!1},d(he){he&&y(e),he&&y(n),he&&y(l),oe(f),oe(k),he&&y(R),he&&y(C),qe&&qe.d(),ye&&ye.d(),Je=!1,et(at)}}}function cf(t){let e,n,l,i,o,u,c;return{c(){e=m("div"),n=P("Vcc"),l=m("br"),i=b(),o=m("input"),a(o,"name","ivp"),a(o,"type","number"),a(o,"min","0"),a(o,"max",t[6]),a(o,"class","in-s tr w-full"),a(e,"class","my-1 pl-1 w-1/3")},m(r,f){M(r,e,f),s(e,n),s(e,l),s(e,i),s(e,o),re(o,t[3].i.v.p),u||(c=Q(o,"input",t[92]),u=!0)},p(r,f){f[0]&64&&a(o,"max",r[6]),f[0]&8&&Se(o.value)!==r[3].i.v.p&&re(o,r[3].i.v.p)},d(r){r&&y(e),u=!1,c()}}}function mf(t){let e,n,l,i,o,u,c,r,f,p;return{c(){e=m("div"),n=P("Voltage divider"),l=m("br"),i=b(),o=m("div"),u=m("input"),c=b(),r=m("input"),a(u,"name","ivdv"),a(u,"type","number"),a(u,"min","0"),a(u,"max","65535"),a(u,"class","in-f tr w-full"),a(u,"placeholder","VCC"),a(r,"name","ivdg"),a(r,"type","number"),a(r,"min","0"),a(r,"max","65535"),a(r,"class","in-l tr w-full"),a(r,"placeholder","GND"),a(o,"class","flex"),a(e,"class","my-1")},m(_,h){M(_,e,h),s(e,n),s(e,l),s(e,i),s(e,o),s(o,u),re(u,t[3].i.v.d.v),s(o,c),s(o,r),re(r,t[3].i.v.d.g),f||(p=[Q(u,"input",t[93]),Q(r,"input",t[94])],f=!0)},p(_,h){h[0]&8&&Se(u.value)!==_[3].i.v.d.v&&re(u,_[3].i.v.d.v),h[0]&8&&Se(r.value)!==_[3].i.v.d.g&&re(r,_[3].i.v.d.g)},d(_){_&&y(e),f=!1,et(p)}}}function _f(t){let e,n,l,i,o,u,c;return{c(){e=m("div"),n=P(`LED behaviour
                `),l=m("select"),i=m("option"),i.textContent="Enabled",o=m("option"),o.textContent="Disabled",i.__value=0,i.value=i.__value,o.__value=1,o.value=o.__value,a(l,"name","idb"),a(l,"class","in-s"),t[3].i.d.b===void 0&&Ze(()=>t[95].call(l)),a(e,"class","my-1 w-full")},m(r,f){M(r,e,f),s(e,n),s(e,l),s(l,i),s(l,o),Te(l,t[3].i.d.b,!0),u||(c=Q(l,"change",t[95]),u=!0)},p(r,f){f[0]&8&&Te(l,r[3].i.d.b)},d(r){r&&y(e),u=!1,c()}}}function pf(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g,k,$,T=(t[0].board==2||t[0].board==100)&&df(t);return{c(){e=m("input"),n=b(),l=m("div"),i=m("div"),o=P("Vcc offset"),u=m("br"),c=b(),r=m("input"),f=b(),p=m("div"),_=P("Multiplier"),h=m("br"),v=b(),d=m("input"),g=b(),T&&T.c(),a(e,"type","hidden"),a(e,"name","iv"),e.value="true",a(r,"name","ivo"),a(r,"type","number"),a(r,"min","0.0"),a(r,"max","3.5"),a(r,"step","0.01"),a(r,"class","in-f tr w-full"),a(i,"class","w-1/3"),a(d,"name","ivm"),a(d,"type","number"),a(d,"min","0.1"),a(d,"max","10"),a(d,"step","0.01"),a(d,"class","in-l tr w-full"),a(p,"class","w-1/3 pr-1"),a(l,"class","my-1 flex flex-wrap")},m(A,F){M(A,e,F),M(A,n,F),M(A,l,F),s(l,i),s(i,o),s(i,u),s(i,c),s(i,r),re(r,t[3].i.v.o),s(l,f),s(l,p),s(p,_),s(p,h),s(p,v),s(p,d),re(d,t[3].i.v.m),s(l,g),T&&T.m(l,null),k||($=[Q(r,"input",t[96]),Q(d,"input",t[97])],k=!0)},p(A,F){F[0]&8&&Se(r.value)!==A[3].i.v.o&&re(r,A[3].i.v.o),F[0]&8&&Se(d.value)!==A[3].i.v.m&&re(d,A[3].i.v.m),A[0].board==2||A[0].board==100?T?T.p(A,F):(T=df(A),T.c(),T.m(l,null)):T&&(T.d(1),T=null)},d(A){A&&y(e),A&&y(n),A&&y(l),T&&T.d(),k=!1,et($)}}}function df(t){let e,n,l,i,o,u,c;return{c(){e=m("div"),n=P("Boot limit"),l=m("br"),i=b(),o=m("input"),a(o,"name","ivb"),a(o,"type","number"),a(o,"min","2.5"),a(o,"max","3.5"),a(o,"step","0.1"),a(o,"class","in-s tr w-full"),a(e,"class","w-1/3 pl-1")},m(r,f){M(r,e,f),s(e,n),s(e,l),s(e,i),s(e,o),re(o,t[3].i.v.b),u||(c=Q(o,"input",t[98]),u=!0)},p(r,f){f[0]&8&&Se(o.value)!==r[3].i.v.b&&re(o,r[3].i.v.b)},d(r){r&&y(e),u=!1,c()}}}function hf(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g,k,$=t[3].d.t&&vf();return{c(){e=m("div"),e.textContent="Debug can cause sudden reboots. Do not leave on!",n=b(),l=m("div"),i=m("label"),o=m("input"),u=P(" Enable telnet"),c=b(),$&&$.c(),r=b(),f=m("div"),p=m("select"),_=m("option"),_.textContent="Verbose",h=m("option"),h.textContent="Debug",v=m("option"),v.textContent="Info",d=m("option"),d.textContent="Warning",a(e,"class","bd-red"),a(o,"type","checkbox"),a(o,"name","dt"),o.__value="true",o.value=o.__value,a(o,"class","rounded mb-1"),a(l,"class","my-1"),_.__value=1,_.value=_.__value,h.__value=2,h.value=h.__value,v.__value=3,v.value=v.__value,d.__value=4,d.value=d.__value,a(p,"name","dl"),a(p,"class","in-s"),t[3].d.l===void 0&&Ze(()=>t[101].call(p)),a(f,"class","my-1")},m(T,A){M(T,e,A),M(T,n,A),M(T,l,A),s(l,i),s(i,o),o.checked=t[3].d.t,s(i,u),M(T,c,A),$&&$.m(T,A),M(T,r,A),M(T,f,A),s(f,p),s(p,_),s(p,h),s(p,v),s(p,d),Te(p,t[3].d.l,!0),g||(k=[Q(o,"change",t[100]),Q(p,"change",t[101])],g=!0)},p(T,A){A[0]&8&&(o.checked=T[3].d.t),T[3].d.t?$||($=vf(),$.c(),$.m(r.parentNode,r)):$&&($.d(1),$=null),A[0]&8&&Te(p,T[3].d.l)},d(T){T&&y(e),T&&y(n),T&&y(l),T&&y(c),$&&$.d(T),T&&y(r),T&&y(f),g=!1,et(k)}}}function vf(t){let e;return{c(){e=m("div"),e.textContent="Telnet is unsafe and should be off when not in use",a(e,"class","bd-red")},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function N_(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g,k,$,T,A,F,L,R,C,N,ee,q,U,H,K,V,Y,G,W,z,x,_e,ie,me,X,ke,Ee,we,Me,le,fe,Oe,Ie,E,w,S,D,O,J,ne,pe,be,Ae,Fe,ce,Pe,ze,mt,Ke,ut,Ge,_t,Ue,Pt,pt,ht,xe,Re,tt,Le,Je,at,qe,ye,he,de,Ve,ue,Qe,te,st,wi,Zn,bl,Ci,yi,Mi,At,Si,Xe,rn,Ti,Pl,Al,Ni,ql,Ei,Bl,Pi,gl,Ai,nt,rt,Tt,Ul,al,yt,Jn,kl,ho,vo,bo,rl,un,fn,go,cn,jl,ko,wo,Co,mn,Jt,yo,$i,Mo,Hl,So,To,No,_n,xt,Eo,Di,Po,_s,Ao,Wl,Li,el,$o,Do,Lo,ps,Ii,tl,Io,Ro,Fo,Wt,Ri,Oo,pn,dn,qo,xn,Bo,zl,Uo,jo,Ho,Yt,hn,vn,Wo,zo,Mt,Fi,Go,bn,gn,Vo,Gl,Ko,Yo,Qo,$l,ul,kn,wn,Xo,zt,Oi,qi,Zo,Gt,Cn,Bi,Ui,Jo,ds,ji,Hi,ll,xo,ea,ei,ta,Dl,la,ti,nl,na,ia,sa,Wi,wl,oa,ft,zi,aa,yn,Mn,ra,li,ua,fl,fa,hs,ca,ma,Sn,Cl,_a,il,pa,vs,Vl,da,ha,va,yl,ba,Kl,ga,ka,wa,Ml,Ca,Tn,Nn,ya,Ma,Sa,Sl,Ta,En,Na,Ea,Pa,$t,Pn,An,$n,Dn,Ln,In,Aa,Yl,$a,Da,La,Tl,Ia,bs,gs,ks,ws=t[3].p.r.startsWith("10YNO")||t[3].p.r.startsWith("10Y1001A1001A4"),Cs,cl,Gi,Ra,Rn,Fn,Fa,ni,Oa,ii,qa,ys,Vt,Vi,Ba,On,qn,Ua,si,ja,Ki,Yi,sl,Ha,Wa,za,Ll,Ms,Bn,Ga,Qi,Un,Va,Xi,Ss,Ql,Ts,Xl,Ns,Zl,Es,Jl,Il,Ps,Ka;c=new jt({}),N=new e_({});let t0=["NOK","SEK","DKK","EUR","CHF"],oi=[];for(let j=0;j<5;j+=1)oi[j]=f_(u_(t,t0,j));ht=new Zt({props:{to:"/priceconfig",class:"text-blue-600 hover:text-blue-800",$$slots:{default:[c_]},$$scope:{ctx:t}}});let Dt=t[3].p.e&&t[0].chip!="esp8266"&&zu(t),Lt=t[3].g.s>0&&Gu(t);Al=new jt({});function Ya(j,ge){return j[3].m.a===2?__:m_}let Zi=Ya(t),ml=Zi(t),It=t[3].m.e.e&&Vu(t),Rt=t[3].m.e.e&&Ku(t),Ft=t[3].m.m.e&&Yu(t);dn=new jt({});let Kt=t[0].if&&t[0].if.eth&&Qu(),Ot=(t[3].n.c==1||t[3].n.c==2)&&Xu(t);gn=new jt({}),Cn=new x1({});let qt=t[3].n.m=="static"&&Zu(t);Mn=new jt({});let Bt=t[0].chip!="esp8266"&&Ju(t),vt=t[3].q.s.e&&xu(t),bt=t[3].q.m==3&&ef(t),gt=t[3].q.m==4&&tf(t),kt=t[3].c.es!=null&&lf(t),wt=ws&&of(t);Fn=new jt({});let jn=t[7],Nt=[];for(let j=0;j<jn.length;j+=1)Nt[j]=rf(Hu(t,jn,j));let Ct=(t[0].board>20||t[0].chip=="esp8266"||t[3].i.d.d>0)&&uf(t);qn=new jt({});let Ut=t[3].d.s&&hf(t);return Ql=new Et({props:{active:t[1],message:"Loading configuration"}}),Xl=new Et({props:{active:t[2],message:"Saving configuration"}}),Zl=new Et({props:{active:t[4],message:"Performing factory reset"}}),Jl=new Et({props:{active:t[5],message:"Device have been factory reset and switched to AP mode"}}),{c(){e=m("form"),n=m("div"),l=m("div"),i=m("strong"),i.textContent="General",o=b(),u=m("a"),ae(c.$$.fragment),r=b(),f=m("input"),p=b(),_=m("div"),h=m("div"),v=m("div"),d=P("Hostname"),g=m("br"),k=b(),$=m("input"),T=b(),A=m("div"),F=P("Time zone"),L=m("br"),R=b(),C=m("select"),ae(N.$$.fragment),ee=b(),q=m("input"),U=b(),H=m("div"),K=m("div"),V=m("div"),Y=P("Price region"),G=m("br"),W=b(),z=m("select"),x=m("optgroup"),_e=m("option"),_e.textContent="NO1",ie=m("option"),ie.textContent="NO2",me=m("option"),me.textContent="NO3",X=m("option"),X.textContent="NO4",ke=m("option"),ke.textContent="NO5",Ee=m("optgroup"),we=m("option"),we.textContent="SE1",Me=m("option"),Me.textContent="SE2",le=m("option"),le.textContent="SE3",fe=m("option"),fe.textContent="SE4",Oe=m("optgroup"),Ie=m("option"),Ie.textContent="DK1",E=m("option"),E.textContent="DK2",w=m("option"),w.textContent="Austria",S=m("option"),S.textContent="Belgium",D=m("option"),D.textContent="Czech Republic",O=m("option"),O.textContent="Estonia",J=m("option"),J.textContent="Finland",ne=m("option"),ne.textContent="France",pe=m("option"),pe.textContent="Germany",be=m("option"),be.textContent="Great Britain",Ae=m("option"),Ae.textContent="Latvia",Fe=m("option"),Fe.textContent="Lithuania",ce=m("option"),ce.textContent="Netherland",Pe=m("option"),Pe.textContent="Poland",ze=m("option"),ze.textContent="Switzerland",mt=b(),Ke=m("div"),ut=P("Currency"),Ge=m("br"),_t=b(),Ue=m("select");for(let j=0;j<5;j+=1)oi[j].c();Pt=b(),pt=m("div"),ae(ht.$$.fragment),xe=b(),Re=m("div"),tt=m("label"),Le=m("input"),Je=P(" Enable price fetch from remote server"),at=b(),Dt&&Dt.c(),qe=b(),ye=m("div"),he=P("Security"),de=m("br"),Ve=b(),ue=m("select"),Qe=m("option"),Qe.textContent="None",te=m("option"),te.textContent="Only configuration",st=m("option"),st.textContent="Everything",wi=b(),Lt&&Lt.c(),Zn=b(),bl=m("div"),Ci=P("Context"),yi=m("br"),Mi=b(),At=m("input"),Si=b(),Xe=m("div"),rn=m("strong"),rn.textContent="Meter",Ti=b(),Pl=m("a"),ae(Al.$$.fragment),Ni=b(),ql=m("input"),Ei=b(),Bl=m("input"),Pi=b(),gl=m("div"),Ai=P("Communication"),nt=m("br"),rt=b(),Tt=m("select"),Ul=m("option"),Ul.textContent="Passive (Push)",al=m("option"),al.textContent="Pulse",yt=b(),ml.c(),Jn=b(),kl=m("div"),ho=P("Voltage"),vo=m("br"),bo=b(),rl=m("select"),un=m("option"),un.textContent="400V (TN)",fn=m("option"),fn.textContent="230V (IT/TT)",go=b(),cn=m("div"),jl=m("div"),ko=P("Main fuse"),wo=m("br"),Co=b(),mn=m("label"),Jt=m("input"),yo=b(),$i=m("span"),$i.textContent="A",Mo=b(),Hl=m("div"),So=P("Production"),To=m("br"),No=b(),_n=m("label"),xt=m("input"),Eo=b(),Di=m("span"),Di.textContent="kWp",Po=b(),_s=m("div"),Ao=b(),Wl=m("div"),Li=m("label"),el=m("input"),$o=P(" Meter is encrypted"),Do=b(),It&&It.c(),Lo=b(),Rt&&Rt.c(),ps=b(),Ii=m("label"),tl=m("input"),Io=P(" Multipliers"),Ro=b(),Ft&&Ft.c(),Fo=b(),Wt=m("div"),Ri=m("strong"),Ri.textContent="Connection",Oo=b(),pn=m("a"),ae(dn.$$.fragment),qo=b(),xn=m("input"),Bo=b(),zl=m("div"),Uo=P("Connection"),jo=m("br"),Ho=b(),Yt=m("select"),hn=m("option"),hn.textContent="WiFi",vn=m("option"),vn.textContent="Access point",Kt&&Kt.c(),Wo=b(),Ot&&Ot.c(),zo=b(),Mt=m("div"),Fi=m("strong"),Fi.textContent="Network",Go=b(),bn=m("a"),ae(gn.$$.fragment),Vo=b(),Gl=m("div"),Ko=P("IP"),Yo=m("br"),Qo=b(),$l=m("div"),ul=m("select"),kn=m("option"),kn.textContent="DHCP",wn=m("option"),wn.textContent="Static",Xo=b(),zt=m("input"),Zo=b(),Gt=m("select"),ae(Cn.$$.fragment),Jo=b(),qt&&qt.c(),ds=b(),ji=m("div"),Hi=m("label"),ll=m("input"),xo=P(" enable mDNS"),ea=b(),ei=m("input"),ta=b(),Dl=m("div"),la=P("NTP "),ti=m("label"),nl=m("input"),na=P(" obtain from DHCP"),ia=m("br"),sa=b(),Wi=m("div"),wl=m("input"),oa=b(),ft=m("div"),zi=m("strong"),zi.textContent="MQTT",aa=b(),yn=m("a"),ae(Mn.$$.fragment),ra=b(),li=m("input"),ua=b(),fl=m("div"),fa=P(`Server
                `),Bt&&Bt.c(),hs=b(),ca=m("br"),ma=b(),Sn=m("div"),Cl=m("input"),_a=b(),il=m("input"),pa=b(),vt&&vt.c(),vs=b(),Vl=m("div"),da=P("Username"),ha=m("br"),va=b(),yl=m("input"),ba=b(),Kl=m("div"),ga=P("Password"),ka=m("br"),wa=b(),Ml=m("input"),Ca=b(),Tn=m("div"),Nn=m("div"),ya=P("Client ID"),Ma=m("br"),Sa=b(),Sl=m("input"),Ta=b(),En=m("div"),Na=P("Payload"),Ea=m("br"),Pa=b(),$t=m("select"),Pn=m("option"),Pn.textContent="JSON",An=m("option"),An.textContent="Raw (minimal)",$n=m("option"),$n.textContent="Raw (full)",Dn=m("option"),Dn.textContent="Domoticz",Ln=m("option"),Ln.textContent="HomeAssistant",In=m("option"),In.textContent="HEX dump",Aa=b(),Yl=m("div"),$a=P("Publish topic"),Da=m("br"),La=b(),Tl=m("input"),Ia=b(),bt&&bt.c(),bs=b(),gt&&gt.c(),gs=b(),kt&&kt.c(),ks=b(),wt&&wt.c(),Cs=b(),cl=m("div"),Gi=m("strong"),Gi.textContent="User interface",Ra=b(),Rn=m("a"),ae(Fn.$$.fragment),Fa=b(),ni=m("input"),Oa=b(),ii=m("div");for(let j=0;j<Nt.length;j+=1)Nt[j].c();qa=b(),Ct&&Ct.c(),ys=b(),Vt=m("div"),Vi=m("strong"),Vi.textContent="Debugging",Ba=b(),On=m("a"),ae(qn.$$.fragment),Ua=b(),si=m("input"),ja=b(),Ki=m("div"),Yi=m("label"),sl=m("input"),Ha=P(" Enable debugging"),Wa=b(),Ut&&Ut.c(),za=b(),Ll=m("div"),Ms=m("div"),Bn=m("button"),Bn.textContent="Factory reset",Ga=b(),Qi=m("div"),Un=m("button"),Un.textContent="Reboot",Va=b(),Xi=m("div"),Xi.innerHTML='<button type="submit" class="btn-pri">Save</button>',Ss=b(),ae(Ql.$$.fragment),Ts=b(),ae(Xl.$$.fragment),Ns=b(),ae(Zl.$$.fragment),Es=b(),ae(Jl.$$.fragment),a(i,"class","text-sm"),a(u,"href",Ht("General-configuration")),a(u,"target","_blank"),a(u,"class","float-right"),a(f,"type","hidden"),a(f,"name","g"),f.value="true",a($,"name","gh"),a($,"type","text"),a($,"class","in-f w-full"),a($,"pattern","[A-Za-z0-9-]+"),a(C,"name","gt"),a(C,"class","in-l w-full"),t[3].g.t===void 0&&Ze(()=>t[17].call(C)),a(h,"class","flex"),a(_,"class","my-1"),a(q,"type","hidden"),a(q,"name","p"),q.value="true",_e.__value="10YNO-1--------2",_e.value=_e.__value,ie.__value="10YNO-2--------T",ie.value=ie.__value,me.__value="10YNO-3--------J",me.value=me.__value,X.__value="10YNO-4--------9",X.value=X.__value,ke.__value="10Y1001A1001A48H",ke.value=ke.__value,a(x,"label","Norway"),we.__value="10Y1001A1001A44P",we.value=we.__value,Me.__value="10Y1001A1001A45N",Me.value=Me.__value,le.__value="10Y1001A1001A46L",le.value=le.__value,fe.__value="10Y1001A1001A47J",fe.value=fe.__value,a(Ee,"label","Sweden"),Ie.__value="10YDK-1--------W",Ie.value=Ie.__value,E.__value="10YDK-2--------M",E.value=E.__value,a(Oe,"label","Denmark"),w.__value="10YAT-APG------L",w.value=w.__value,S.__value="10YBE----------2",S.value=S.__value,D.__value="10YCZ-CEPS-----N",D.value=D.__value,O.__value="10Y1001A1001A39I",O.value=O.__value,J.__value="10YFI-1--------U",J.value=J.__value,ne.__value="10YFR-RTE------C",ne.value=ne.__value,pe.__value="10Y1001A1001A83F",pe.value=pe.__value,be.__value="10YGB----------A",be.value=be.__value,Ae.__value="10YLV-1001A00074",Ae.value=Ae.__value,Fe.__value="10YLT-1001A0008Q",Fe.value=Fe.__value,ce.__value="10YNL----------L",ce.value=ce.__value,Pe.__value="10YPL-AREA-----S",Pe.value=Pe.__value,ze.__value="10YCH-SWISSGRIDZ",ze.value=ze.__value,a(z,"name","pr"),a(z,"class","in-f w-full"),t[3].p.r===void 0&&Ze(()=>t[18].call(z)),a(V,"class","w-full"),a(Ue,"name","pc"),a(Ue,"class","in-l"),t[3].p.c===void 0&&Ze(()=>t[19].call(Ue)),a(K,"class","flex"),a(H,"class","my-1"),a(pt,"class","my-1"),a(Le,"type","checkbox"),a(Le,"name","pe"),Le.__value="true",Le.value=Le.__value,a(Le,"class","rounded mb-1"),a(Re,"class","my-1"),Qe.__value=0,Qe.value=Qe.__value,te.__value=1,te.value=te.__value,st.__value=2,st.value=st.__value,a(ue,"name","gs"),a(ue,"class","in-s"),t[3].g.s===void 0&&Ze(()=>t[22].call(ue)),a(ye,"class","my-1"),a(At,"name","gc"),a(At,"type","text"),a(At,"pattern","[A-Za-z0-9]+"),a(At,"placeholder","[root]"),a(At,"class","in-s"),a(At,"maxlength","36"),a(bl,"class","my-1"),a(l,"class","cnt"),a(rn,"class","text-sm"),a(Pl,"href",Ht("Meter-configuration")),a(Pl,"target","_blank"),a(Pl,"class","float-right"),a(ql,"type","hidden"),a(ql,"name","m"),ql.value="true",a(Bl,"type","hidden"),a(Bl,"name","mo"),Bl.value="1",Ul.__value=0,Ul.value=Ul.__value,al.__value=2,al.value=al.__value,a(Tt,"name","ma"),a(Tt,"class","in-s"),t[3].m.a===void 0&&Ze(()=>t[26].call(Tt)),a(gl,"class","my-1"),un.__value=2,un.value=un.__value,fn.__value=1,fn.value=fn.__value,a(rl,"name","md"),a(rl,"class","in-s"),t[3].m.d===void 0&&Ze(()=>t[32].call(rl)),a(kl,"class","my-1"),a(Jt,"name","mf"),a(Jt,"type","number"),a(Jt,"min","5"),a(Jt,"max","65535"),a(Jt,"class","in-f tr w-full"),a($i,"class","in-post"),a(mn,"class","flex"),a(jl,"class","mx-1"),a(xt,"name","mr"),a(xt,"type","number"),a(xt,"min","0"),a(xt,"max","65535"),a(xt,"class","in-f tr w-full"),a(Di,"class","in-post"),a(_n,"class","flex"),a(Hl,"class","mx-1"),a(cn,"class","my-1 flex"),a(_s,"class","my-1"),a(el,"type","checkbox"),a(el,"name","me"),el.__value="true",el.value=el.__value,a(el,"class","rounded mb-1"),a(Wl,"class","my-1"),a(tl,"type","checkbox"),a(tl,"name","mm"),tl.__value="true",tl.value=tl.__value,a(tl,"class","rounded mb-1"),a(Xe,"class","cnt"),a(Ri,"class","text-sm"),a(pn,"href",Ht("WiFi-configuration")),a(pn,"target","_blank"),a(pn,"class","float-right"),a(xn,"type","hidden"),a(xn,"name","w"),xn.value="true",hn.__value=1,hn.value=hn.__value,vn.__value=2,vn.value=vn.__value,a(Yt,"name","nc"),a(Yt,"class","in-s"),t[3].n.c===void 0&&Ze(()=>t[43].call(Yt)),a(zl,"class","my-1"),a(Wt,"class","cnt"),a(Fi,"class","text-sm"),a(bn,"href",Ht("Network-configuration")),a(bn,"target","_blank"),a(bn,"class","float-right"),kn.__value="dhcp",kn.value=kn.__value,wn.__value="static",wn.value=wn.__value,a(ul,"name","nm"),a(ul,"class","in-f"),t[3].n.m===void 0&&Ze(()=>t[49].call(ul)),a(zt,"name","ni"),a(zt,"type","text"),a(zt,"class","in-m w-full"),zt.disabled=Oi=t[3].n.m=="dhcp",zt.required=qi=t[3].n.m=="static",a(Gt,"name","ns"),a(Gt,"class","in-l"),Gt.disabled=Bi=t[3].n.m=="dhcp",Gt.required=Ui=t[3].n.m=="static",t[3].n.s===void 0&&Ze(()=>t[51].call(Gt)),a($l,"class","flex"),a(Gl,"class","my-1"),a(ll,"name","nd"),ll.__value="true",ll.value=ll.__value,a(ll,"type","checkbox"),a(ll,"class","rounded mb-1"),a(ji,"class","my-1"),a(ei,"type","hidden"),a(ei,"name","ntp"),ei.value="true",a(nl,"name","ntpd"),nl.__value="true",nl.value=nl.__value,a(nl,"type","checkbox"),a(nl,"class","rounded mb-1"),a(ti,"class","ml-4"),a(wl,"name","ntph"),a(wl,"type","text"),a(wl,"class","in-s"),a(Wi,"class","flex"),a(Dl,"class","my-1"),a(Mt,"class","cnt"),a(zi,"class","text-sm"),a(yn,"href",Ht("MQTT-configuration")),a(yn,"target","_blank"),a(yn,"class","float-right"),a(li,"type","hidden"),a(li,"name","q"),li.value="true",a(Cl,"name","qh"),a(Cl,"type","text"),a(Cl,"class","in-f w-3/4"),a(il,"name","qp"),a(il,"type","number"),a(il,"min","1024"),a(il,"max","65535"),a(il,"class","in-l tr w-1/4"),a(Sn,"class","flex"),a(fl,"class","my-1"),a(yl,"name","qu"),a(yl,"type","text"),a(yl,"class","in-s"),a(Vl,"class","my-1"),a(Ml,"name","qa"),a(Ml,"type","password"),a(Ml,"class","in-s"),a(Kl,"class","my-1"),a(Sl,"name","qc"),a(Sl,"type","text"),a(Sl,"class","in-f w-full"),Pn.__value=0,Pn.value=Pn.__value,An.__value=1,An.value=An.__value,$n.__value=2,$n.value=$n.__value,Dn.__value=3,Dn.value=Dn.__value,Ln.__value=4,Ln.value=Ln.__value,In.__value=255,In.value=In.__value,a($t,"name","qm"),a($t,"class","in-l"),t[3].q.m===void 0&&Ze(()=>t[64].call($t)),a(Tn,"class","my-1 flex"),a(Tl,"name","qb"),a(Tl,"type","text"),a(Tl,"class","in-s"),a(Yl,"class","my-1"),a(ft,"class","cnt"),a(Gi,"class","text-sm"),a(Rn,"href",Ht("User-interface")),a(Rn,"target","_blank"),a(Rn,"class","float-right"),a(ni,"type","hidden"),a(ni,"name","u"),ni.value="true",a(ii,"class","flex flex-wrap"),a(cl,"class","cnt"),a(Vi,"class","text-sm"),a(On,"href","https://amsleser.no/blog/post/24-telnet-debug"),a(On,"target","_blank"),a(On,"class","float-right"),a(si,"type","hidden"),a(si,"name","d"),si.value="true",a(sl,"type","checkbox"),a(sl,"name","ds"),sl.__value="true",sl.value=sl.__value,a(sl,"class","rounded mb-1"),a(Ki,"class","mt-3"),a(Vt,"class","cnt"),a(n,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2"),a(Bn,"type","button"),a(Bn,"class","btn-red"),a(Un,"type","button"),a(Un,"class","btn-yellow"),a(Qi,"class","text-center"),a(Xi,"class","text-right"),a(Ll,"class","grid grid-cols-3 mt-3"),a(e,"autocomplete","off")},m(j,ge){M(j,e,ge),s(e,n),s(n,l),s(l,i),s(l,o),s(l,u),se(c,u,null),s(l,r),s(l,f),s(l,p),s(l,_),s(_,h),s(h,v),s(v,d),s(v,g),s(v,k),s(v,$),re($,t[3].g.h),s(h,T),s(h,A),s(A,F),s(A,L),s(A,R),s(A,C),se(N,C,null),Te(C,t[3].g.t,!0),s(l,ee),s(l,q),s(l,U),s(l,H),s(H,K),s(K,V),s(V,Y),s(V,G),s(V,W),s(V,z),s(z,x),s(x,_e),s(x,ie),s(x,me),s(x,X),s(x,ke),s(z,Ee),s(Ee,we),s(Ee,Me),s(Ee,le),s(Ee,fe),s(z,Oe),s(Oe,Ie),s(Oe,E),s(z,w),s(z,S),s(z,D),s(z,O),s(z,J),s(z,ne),s(z,pe),s(z,be),s(z,Ae),s(z,Fe),s(z,ce),s(z,Pe),s(z,ze),Te(z,t[3].p.r,!0),s(K,mt),s(K,Ke),s(Ke,ut),s(Ke,Ge),s(Ke,_t),s(Ke,Ue);for(let Qt=0;Qt<5;Qt+=1)oi[Qt]&&oi[Qt].m(Ue,null);Te(Ue,t[3].p.c,!0),s(l,Pt),s(l,pt),se(ht,pt,null),s(l,xe),s(l,Re),s(Re,tt),s(tt,Le),Le.checked=t[3].p.e,s(tt,Je),s(Re,at),Dt&&Dt.m(Re,null),s(l,qe),s(l,ye),s(ye,he),s(ye,de),s(ye,Ve),s(ye,ue),s(ue,Qe),s(ue,te),s(ue,st),Te(ue,t[3].g.s,!0),s(l,wi),Lt&&Lt.m(l,null),s(l,Zn),s(l,bl),s(bl,Ci),s(bl,yi),s(bl,Mi),s(bl,At),re(At,t[3].g.c),s(n,Si),s(n,Xe),s(Xe,rn),s(Xe,Ti),s(Xe,Pl),se(Al,Pl,null),s(Xe,Ni),s(Xe,ql),s(Xe,Ei),s(Xe,Bl),s(Xe,Pi),s(Xe,gl),s(gl,Ai),s(gl,nt),s(gl,rt),s(gl,Tt),s(Tt,Ul),s(Tt,al),Te(Tt,t[3].m.a,!0),s(Xe,yt),ml.m(Xe,null),s(Xe,Jn),s(Xe,kl),s(kl,ho),s(kl,vo),s(kl,bo),s(kl,rl),s(rl,un),s(rl,fn),Te(rl,t[3].m.d,!0),s(Xe,go),s(Xe,cn),s(cn,jl),s(jl,ko),s(jl,wo),s(jl,Co),s(jl,mn),s(mn,Jt),re(Jt,t[3].m.f),s(mn,yo),s(mn,$i),s(cn,Mo),s(cn,Hl),s(Hl,So),s(Hl,To),s(Hl,No),s(Hl,_n),s(_n,xt),re(xt,t[3].m.r),s(_n,Eo),s(_n,Di),s(Xe,Po),s(Xe,_s),s(Xe,Ao),s(Xe,Wl),s(Wl,Li),s(Li,el),el.checked=t[3].m.e.e,s(Li,$o),s(Wl,Do),It&&It.m(Wl,null),s(Xe,Lo),Rt&&Rt.m(Xe,null),s(Xe,ps),s(Xe,Ii),s(Ii,tl),tl.checked=t[3].m.m.e,s(Ii,Io),s(Xe,Ro),Ft&&Ft.m(Xe,null),s(n,Fo),s(n,Wt),s(Wt,Ri),s(Wt,Oo),s(Wt,pn),se(dn,pn,null),s(Wt,qo),s(Wt,xn),s(Wt,Bo),s(Wt,zl),s(zl,Uo),s(zl,jo),s(zl,Ho),s(zl,Yt),s(Yt,hn),s(Yt,vn),Kt&&Kt.m(Yt,null),Te(Yt,t[3].n.c,!0),s(Wt,Wo),Ot&&Ot.m(Wt,null),s(n,zo),s(n,Mt),s(Mt,Fi),s(Mt,Go),s(Mt,bn),se(gn,bn,null),s(Mt,Vo),s(Mt,Gl),s(Gl,Ko),s(Gl,Yo),s(Gl,Qo),s(Gl,$l),s($l,ul),s(ul,kn),s(ul,wn),Te(ul,t[3].n.m,!0),s($l,Xo),s($l,zt),re(zt,t[3].n.i),s($l,Zo),s($l,Gt),se(Cn,Gt,null),Te(Gt,t[3].n.s,!0),s(Mt,Jo),qt&&qt.m(Mt,null),s(Mt,ds),s(Mt,ji),s(ji,Hi),s(Hi,ll),ll.checked=t[3].n.d,s(Hi,xo),s(Mt,ea),s(Mt,ei),s(Mt,ta),s(Mt,Dl),s(Dl,la),s(Dl,ti),s(ti,nl),nl.checked=t[3].n.h,s(ti,na),s(Dl,ia),s(Dl,sa),s(Dl,Wi),s(Wi,wl),re(wl,t[3].n.n1),s(n,oa),s(n,ft),s(ft,zi),s(ft,aa),s(ft,yn),se(Mn,yn,null),s(ft,ra),s(ft,li),s(ft,ua),s(ft,fl),s(fl,fa),Bt&&Bt.m(fl,null),s(fl,hs),s(fl,ca),s(fl,ma),s(fl,Sn),s(Sn,Cl),re(Cl,t[3].q.h),s(Sn,_a),s(Sn,il),re(il,t[3].q.p),s(ft,pa),vt&&vt.m(ft,null),s(ft,vs),s(ft,Vl),s(Vl,da),s(Vl,ha),s(Vl,va),s(Vl,yl),re(yl,t[3].q.u),s(ft,ba),s(ft,Kl),s(Kl,ga),s(Kl,ka),s(Kl,wa),s(Kl,Ml),re(Ml,t[3].q.a),s(ft,Ca),s(ft,Tn),s(Tn,Nn),s(Nn,ya),s(Nn,Ma),s(Nn,Sa),s(Nn,Sl),re(Sl,t[3].q.c),s(Tn,Ta),s(Tn,En),s(En,Na),s(En,Ea),s(En,Pa),s(En,$t),s($t,Pn),s($t,An),s($t,$n),s($t,Dn),s($t,Ln),s($t,In),Te($t,t[3].q.m,!0),s(ft,Aa),s(ft,Yl),s(Yl,$a),s(Yl,Da),s(Yl,La),s(Yl,Tl),re(Tl,t[3].q.b),s(n,Ia),bt&&bt.m(n,null),s(n,bs),gt&&gt.m(n,null),s(n,gs),kt&&kt.m(n,null),s(n,ks),wt&&wt.m(n,null),s(n,Cs),s(n,cl),s(cl,Gi),s(cl,Ra),s(cl,Rn),se(Fn,Rn,null),s(cl,Fa),s(cl,ni),s(cl,Oa),s(cl,ii);for(let Qt=0;Qt<Nt.length;Qt+=1)Nt[Qt]&&Nt[Qt].m(ii,null);s(n,qa),Ct&&Ct.m(n,null),s(n,ys),s(n,Vt),s(Vt,Vi),s(Vt,Ba),s(Vt,On),se(qn,On,null),s(Vt,Ua),s(Vt,si),s(Vt,ja),s(Vt,Ki),s(Ki,Yi),s(Yi,sl),sl.checked=t[3].d.s,s(Yi,Ha),s(Vt,Wa),Ut&&Ut.m(Vt,null),s(e,za),s(e,Ll),s(Ll,Ms),s(Ms,Bn),s(Ll,Ga),s(Ll,Qi),s(Qi,Un),s(Ll,Va),s(Ll,Xi),M(j,Ss,ge),se(Ql,j,ge),M(j,Ts,ge),se(Xl,j,ge),M(j,Ns,ge),se(Zl,j,ge),M(j,Es,ge),se(Jl,j,ge),Il=!0,Ps||(Ka=[Q($,"input",t[16]),Q(C,"change",t[17]),Q(z,"change",t[18]),Q(Ue,"change",t[19]),Q(Le,"change",t[20]),Q(ue,"change",t[22]),Q(At,"input",t[25]),Q(Tt,"change",t[26]),Q(rl,"change",t[32]),Q(Jt,"input",t[33]),Q(xt,"input",t[34]),Q(el,"change",t[35]),Q(tl,"change",t[38]),Q(Yt,"change",t[43]),Q(ul,"change",t[49]),Q(zt,"input",t[50]),Q(Gt,"change",t[51]),Q(ll,"change",t[55]),Q(nl,"change",t[56]),Q(wl,"input",t[57]),Q(Cl,"input",t[59]),Q(il,"input",t[60]),Q(yl,"input",t[61]),Q(Ml,"input",t[62]),Q(Sl,"input",t[63]),Q($t,"change",t[64]),Q(Tl,"input",t[65]),Q(sl,"change",t[99]),Q(Bn,"click",t[8]),Q(Un,"click",t[10]),Q(e,"submit",Xn(t[9]))],Ps=!0)},p(j,ge){ge[0]&8&&$.value!==j[3].g.h&&re($,j[3].g.h),ge[0]&8&&Te(C,j[3].g.t),ge[0]&8&&Te(z,j[3].p.r),ge[0]&8&&Te(Ue,j[3].p.c);const Qt={};if(ge[3]&4194304&&(Qt.$$scope={dirty:ge,ctx:j}),ht.$set(Qt),ge[0]&8&&(Le.checked=j[3].p.e),j[3].p.e&&j[0].chip!="esp8266"?Dt?Dt.p(j,ge):(Dt=zu(j),Dt.c(),Dt.m(Re,null)):Dt&&(Dt.d(1),Dt=null),ge[0]&8&&Te(ue,j[3].g.s),j[3].g.s>0?Lt?Lt.p(j,ge):(Lt=Gu(j),Lt.c(),Lt.m(l,Zn)):Lt&&(Lt.d(1),Lt=null),ge[0]&8&&At.value!==j[3].g.c&&re(At,j[3].g.c),ge[0]&8&&Te(Tt,j[3].m.a),Zi===(Zi=Ya(j))&&ml?ml.p(j,ge):(ml.d(1),ml=Zi(j),ml&&(ml.c(),ml.m(Xe,Jn))),ge[0]&8&&Te(rl,j[3].m.d),ge[0]&8&&Se(Jt.value)!==j[3].m.f&&re(Jt,j[3].m.f),ge[0]&8&&Se(xt.value)!==j[3].m.r&&re(xt,j[3].m.r),ge[0]&8&&(el.checked=j[3].m.e.e),j[3].m.e.e?It?It.p(j,ge):(It=Vu(j),It.c(),It.m(Wl,null)):It&&(It.d(1),It=null),j[3].m.e.e?Rt?Rt.p(j,ge):(Rt=Ku(j),Rt.c(),Rt.m(Xe,ps)):Rt&&(Rt.d(1),Rt=null),ge[0]&8&&(tl.checked=j[3].m.m.e),j[3].m.m.e?Ft?Ft.p(j,ge):(Ft=Yu(j),Ft.c(),Ft.m(Xe,null)):Ft&&(Ft.d(1),Ft=null),j[0].if&&j[0].if.eth?Kt||(Kt=Qu(),Kt.c(),Kt.m(Yt,null)):Kt&&(Kt.d(1),Kt=null),ge[0]&8&&Te(Yt,j[3].n.c),j[3].n.c==1||j[3].n.c==2?Ot?Ot.p(j,ge):(Ot=Xu(j),Ot.c(),Ot.m(Wt,null)):Ot&&(Ot.d(1),Ot=null),ge[0]&8&&Te(ul,j[3].n.m),(!Il||ge[0]&8&&Oi!==(Oi=j[3].n.m=="dhcp"))&&(zt.disabled=Oi),(!Il||ge[0]&8&&qi!==(qi=j[3].n.m=="static"))&&(zt.required=qi),ge[0]&8&&zt.value!==j[3].n.i&&re(zt,j[3].n.i),(!Il||ge[0]&8&&Bi!==(Bi=j[3].n.m=="dhcp"))&&(Gt.disabled=Bi),(!Il||ge[0]&8&&Ui!==(Ui=j[3].n.m=="static"))&&(Gt.required=Ui),ge[0]&8&&Te(Gt,j[3].n.s),j[3].n.m=="static"?qt?qt.p(j,ge):(qt=Zu(j),qt.c(),qt.m(Mt,ds)):qt&&(qt.d(1),qt=null),ge[0]&8&&(ll.checked=j[3].n.d),ge[0]&8&&(nl.checked=j[3].n.h),ge[0]&8&&wl.value!==j[3].n.n1&&re(wl,j[3].n.n1),j[0].chip!="esp8266"?Bt?Bt.p(j,ge):(Bt=Ju(j),Bt.c(),Bt.m(fl,hs)):Bt&&(Bt.d(1),Bt=null),ge[0]&8&&Cl.value!==j[3].q.h&&re(Cl,j[3].q.h),ge[0]&8&&Se(il.value)!==j[3].q.p&&re(il,j[3].q.p),j[3].q.s.e?vt?(vt.p(j,ge),ge[0]&8&&I(vt,1)):(vt=xu(j),vt.c(),I(vt,1),vt.m(ft,vs)):vt&&($e(),B(vt,1,1,()=>{vt=null}),De()),ge[0]&8&&yl.value!==j[3].q.u&&re(yl,j[3].q.u),ge[0]&8&&Ml.value!==j[3].q.a&&re(Ml,j[3].q.a),ge[0]&8&&Sl.value!==j[3].q.c&&re(Sl,j[3].q.c),ge[0]&8&&Te($t,j[3].q.m),ge[0]&8&&Tl.value!==j[3].q.b&&re(Tl,j[3].q.b),j[3].q.m==3?bt?(bt.p(j,ge),ge[0]&8&&I(bt,1)):(bt=ef(j),bt.c(),I(bt,1),bt.m(n,bs)):bt&&($e(),B(bt,1,1,()=>{bt=null}),De()),j[3].q.m==4?gt?(gt.p(j,ge),ge[0]&8&&I(gt,1)):(gt=tf(j),gt.c(),I(gt,1),gt.m(n,gs)):gt&&($e(),B(gt,1,1,()=>{gt=null}),De()),j[3].c.es!=null?kt?(kt.p(j,ge),ge[0]&8&&I(kt,1)):(kt=lf(j),kt.c(),I(kt,1),kt.m(n,ks)):kt&&($e(),B(kt,1,1,()=>{kt=null}),De()),ge[0]&8&&(ws=j[3].p.r.startsWith("10YNO")||j[3].p.r.startsWith("10Y1001A1001A4")),ws?wt?(wt.p(j,ge),ge[0]&8&&I(wt,1)):(wt=of(j),wt.c(),I(wt,1),wt.m(n,Cs)):wt&&($e(),B(wt,1,1,()=>{wt=null}),De()),ge[0]&136){jn=j[7];let Xt;for(Xt=0;Xt<jn.length;Xt+=1){const xa=Hu(j,jn,Xt);Nt[Xt]?Nt[Xt].p(xa,ge):(Nt[Xt]=rf(xa),Nt[Xt].c(),Nt[Xt].m(ii,null))}for(;Xt<Nt.length;Xt+=1)Nt[Xt].d(1);Nt.length=jn.length}j[0].board>20||j[0].chip=="esp8266"||j[3].i.d.d>0?Ct?(Ct.p(j,ge),ge[0]&9&&I(Ct,1)):(Ct=uf(j),Ct.c(),I(Ct,1),Ct.m(n,ys)):Ct&&($e(),B(Ct,1,1,()=>{Ct=null}),De()),ge[0]&8&&(sl.checked=j[3].d.s),j[3].d.s?Ut?Ut.p(j,ge):(Ut=hf(j),Ut.c(),Ut.m(Vt,null)):Ut&&(Ut.d(1),Ut=null);const Qa={};ge[0]&2&&(Qa.active=j[1]),Ql.$set(Qa);const Xa={};ge[0]&4&&(Xa.active=j[2]),Xl.$set(Xa);const Za={};ge[0]&16&&(Za.active=j[4]),Zl.$set(Za);const Ja={};ge[0]&32&&(Ja.active=j[5]),Jl.$set(Ja)},i(j){Il||(I(c.$$.fragment,j),I(N.$$.fragment,j),I(ht.$$.fragment,j),I(Al.$$.fragment,j),I(dn.$$.fragment,j),I(gn.$$.fragment,j),I(Cn.$$.fragment,j),I(Mn.$$.fragment,j),I(vt),I(bt),I(gt),I(kt),I(wt),I(Fn.$$.fragment,j),I(Ct),I(qn.$$.fragment,j),I(Ql.$$.fragment,j),I(Xl.$$.fragment,j),I(Zl.$$.fragment,j),I(Jl.$$.fragment,j),Il=!0)},o(j){B(c.$$.fragment,j),B(N.$$.fragment,j),B(ht.$$.fragment,j),B(Al.$$.fragment,j),B(dn.$$.fragment,j),B(gn.$$.fragment,j),B(Cn.$$.fragment,j),B(Mn.$$.fragment,j),B(vt),B(bt),B(gt),B(kt),B(wt),B(Fn.$$.fragment,j),B(Ct),B(qn.$$.fragment,j),B(Ql.$$.fragment,j),B(Xl.$$.fragment,j),B(Zl.$$.fragment,j),B(Jl.$$.fragment,j),Il=!1},d(j){j&&y(e),oe(c),oe(N),ct(oi,j),oe(ht),Dt&&Dt.d(),Lt&&Lt.d(),oe(Al),ml.d(),It&&It.d(),Rt&&Rt.d(),Ft&&Ft.d(),oe(dn),Kt&&Kt.d(),Ot&&Ot.d(),oe(gn),oe(Cn),qt&&qt.d(),oe(Mn),Bt&&Bt.d(),vt&&vt.d(),bt&&bt.d(),gt&&gt.d(),kt&&kt.d(),wt&&wt.d(),oe(Fn),ct(Nt,j),Ct&&Ct.d(),oe(qn),Ut&&Ut.d(),j&&y(Ss),oe(Ql,j),j&&y(Ts),oe(Xl,j),j&&y(Ns),oe(Zl,j),j&&y(Es),oe(Jl,j),Ps=!1,et(Ka)}}}async function E_(){await(await fetch("reboot",{method:"POST"})).json()}function P_(t,e,n){let{basepath:l="/"}=e,{sysinfo:i={}}=e,o=[{name:"Import gauge",key:"i"},{name:"Export gauge",key:"e"},{name:"Voltage",key:"v"},{name:"Amperage",key:"a"},{name:"Per phase",key:"h"},{name:"Power factor",key:"f"},{name:"Reactive",key:"r"},{name:"Realtime",key:"c"},{name:"Peaks",key:"t"},{name:"Realtime plot",key:"l"},{name:"Price",key:"p"},{name:"Day plot",key:"d"},{name:"Month plot",key:"m"},{name:"Temperature plot",key:"s"},{name:"Dark mode",key:"k"}],u=!0,c=!1,r={g:{t:"",h:"",s:0,u:"",p:""},m:{b:2400,p:11,i:!1,d:0,f:0,r:0,e:{e:!1,k:"",a:""},m:{e:!1,w:!1,v:!1,a:!1,c:!1}},w:{s:"",p:"",w:0,z:255,a:!0,b:!0},n:{m:"",i:"",s:"",g:"",d1:"",d2:"",d:!1,n1:"",n2:"",h:!1},q:{h:"",p:1883,u:"",a:"",b:"",s:{e:!1,c:!1,r:!0,k:!1}},o:{e:"",c:"",u1:"",u2:"",u3:""},t:{t:[0,0,0,0,0,0,0,0,0,0],h:1},p:{e:!1,t:"",r:"",c:"",m:1,f:null},d:{s:!1,t:!1,l:5},u:{i:0,e:0,v:0,a:0,r:0,c:0,t:0,p:0,d:0,m:0,s:0},i:{h:{p:null,u:!0},a:null,l:{p:null,i:!1},r:{r:null,g:null,b:null,i:!1},d:{d:null,b:0},t:{d:null,a:null},v:{p:null,d:{v:null,g:null},o:null,m:null,b:null}},h:{t:"",h:"",n:""},c:{e:!1,i:null,es:null}};ui.subscribe(nt=>{nt.version&&(n(3,r=nt),n(1,u=!1))}),zm();let f=!1,p=!1;async function _(){if(confirm("Are you sure you want to factory reset the device?")){n(4,f=!0);const nt=new URLSearchParams;nt.append("perform","true");let Tt=await(await fetch("reset",{method:"POST",body:nt})).json();n(4,f=!1),n(5,p=Tt.success)}}function h(nt){St.update(rt=>(rt.trying=nt,rt))}async function v(nt){n(2,c=!0);const rt=new FormData(nt.target),Tt=new URLSearchParams;for(let yt of rt){const[Jn,kl]=yt;Tt.append(Jn,kl)}let al=await(await fetch("save",{method:"POST",body:Tt})).json();St.update(yt=>(yt.hostname=rt.get("gh"),yt.usrcfg=al.success,yt.booting=al.reboot,rt.get("nm")=="static"&&(yt.net.ip=rt.get("ni"),yt.net.mask=rt.get("nu"),yt.net.gw=rt.get("ng"),yt.net.dns1=rt.get("nd")),setTimeout(hi,5e3,i,h),yt)),St.update(yt=>(yt.booting=al.reboot,yt.ui=r.u,yt)),n(2,c=!1),sn(l)}const d=function(){confirm("Are you sure you want to reboot the device?")&&(St.update(nt=>(nt.booting=!0,nt)),E_())};async function g(){confirm("Are you sure you want to delete CA?")&&(await(await fetch("mqtt-ca",{method:"POST"})).text(),ui.update(rt=>(rt.q.s.c=!1,rt)))}async function k(){confirm("Are you sure you want to delete cert?")&&(await(await fetch("mqtt-cert",{method:"POST"})).text(),ui.update(rt=>(rt.q.s.r=!1,rt)))}async function $(){confirm("Are you sure you want to delete key?")&&(await(await fetch("mqtt-key",{method:"POST"})).text(),ui.update(rt=>(rt.q.s.k=!1,rt)))}const T=function(){r.q.s.e?r.q.p==1883&&n(3,r.q.p=8883,r):r.q.p==8883&&n(3,r.q.p=1883,r)};let A=44;function F(){r.g.h=this.value,n(3,r)}function L(){r.g.t=ot(this),n(3,r)}function R(){r.p.r=ot(this),n(3,r)}function C(){r.p.c=ot(this),n(3,r)}function N(){r.p.e=this.checked,n(3,r)}function ee(){r.p.t=this.value,n(3,r)}function q(){r.g.s=ot(this),n(3,r)}function U(){r.g.u=this.value,n(3,r)}function H(){r.g.p=this.value,n(3,r)}function K(){r.g.c=this.value,n(3,r)}function V(){r.m.a=ot(this),n(3,r)}function Y(){r.m.b=Se(this.value),n(3,r)}function G(){r.m.i=this.checked,n(3,r)}function W(){r.m.b=ot(this),n(3,r)}function z(){r.m.p=ot(this),n(3,r)}function x(){r.m.s=Se(this.value),n(3,r)}function _e(){r.m.d=ot(this),n(3,r)}function ie(){r.m.f=Se(this.value),n(3,r)}function me(){r.m.r=Se(this.value),n(3,r)}function X(){r.m.e.e=this.checked,n(3,r)}function ke(){r.m.e.k=this.value,n(3,r)}function Ee(){r.m.e.a=this.value,n(3,r)}function we(){r.m.m.e=this.checked,n(3,r)}function Me(){r.m.m.w=Se(this.value),n(3,r)}function le(){r.m.m.v=Se(this.value),n(3,r)}function fe(){r.m.m.a=Se(this.value),n(3,r)}function Oe(){r.m.m.c=Se(this.value),n(3,r)}function Ie(){r.n.c=ot(this),n(3,r)}function E(){r.w.s=this.value,n(3,r)}function w(){r.w.p=this.value,n(3,r)}function S(){r.w.z=ot(this),n(3,r)}function D(){r.w.w=Se(this.value),n(3,r)}function O(){r.w.b=this.checked,n(3,r)}function J(){r.n.m=ot(this),n(3,r)}function ne(){r.n.i=this.value,n(3,r)}function pe(){r.n.s=ot(this),n(3,r)}function be(){r.n.g=this.value,n(3,r)}function Ae(){r.n.d1=this.value,n(3,r)}function Fe(){r.n.d2=this.value,n(3,r)}function ce(){r.n.d=this.checked,n(3,r)}function Pe(){r.n.h=this.checked,n(3,r)}function ze(){r.n.n1=this.value,n(3,r)}function mt(){r.q.s.e=this.checked,n(3,r)}function Ke(){r.q.h=this.value,n(3,r)}function ut(){r.q.p=Se(this.value),n(3,r)}function Ge(){r.q.u=this.value,n(3,r)}function _t(){r.q.a=this.value,n(3,r)}function Ue(){r.q.c=this.value,n(3,r)}function Pt(){r.q.m=ot(this),n(3,r)}function pt(){r.q.b=this.value,n(3,r)}function ht(){r.o.e=this.value,n(3,r)}function xe(){r.o.c=this.value,n(3,r)}function Re(){r.o.u1=this.value,n(3,r)}function tt(){r.o.u2=this.value,n(3,r)}function Le(){r.o.u3=this.value,n(3,r)}function Je(){r.h.t=this.value,n(3,r)}function at(){r.h.h=this.value,n(3,r)}function qe(){r.h.n=this.value,n(3,r)}function ye(){r.c.e=this.checked,n(3,r)}function he(){r.c.es=this.checked,n(3,r)}function de(nt){r.t.t[nt]=Se(this.value),n(3,r)}function Ve(){r.t.h=Se(this.value),n(3,r)}function ue(nt){r.u[nt.key]=ot(this),n(3,r)}function Qe(){r.i.h.p=ot(this),n(3,r)}function te(){r.i.h.t=ot(this),n(3,r)}function st(){r.i.h.u=this.checked,n(3,r)}function wi(){r.i.a=Se(this.value),n(3,r)}function Zn(){r.i.l.p=Se(this.value),n(3,r)}function bl(){r.i.l.i=this.checked,n(3,r)}function Ci(){r.i.r.i=this.checked,n(3,r)}function yi(){r.i.r.r=Se(this.value),n(3,r)}function Mi(){r.i.r.g=Se(this.value),n(3,r)}function At(){r.i.r.b=Se(this.value),n(3,r)}function Si(){r.i.d.d=Se(this.value),n(3,r)}function Xe(){r.i.t.d=Se(this.value),n(3,r)}function rn(){r.i.t.a=Se(this.value),n(3,r)}function Ti(){r.i.v.p=Se(this.value),n(3,r)}function Pl(){r.i.v.d.v=Se(this.value),n(3,r)}function Al(){r.i.v.d.g=Se(this.value),n(3,r)}function Ni(){r.i.d.b=ot(this),n(3,r)}function ql(){r.i.v.o=Se(this.value),n(3,r)}function Ei(){r.i.v.m=Se(this.value),n(3,r)}function Bl(){r.i.v.b=Se(this.value),n(3,r)}function Pi(){r.d.s=this.checked,n(3,r)}function gl(){r.d.t=this.checked,n(3,r)}function Ai(){r.d.l=ot(this),n(3,r)}return t.$$set=nt=>{"basepath"in nt&&n(15,l=nt.basepath),"sysinfo"in nt&&n(0,i=nt.sysinfo)},t.$$.update=()=>{t.$$.dirty[0]&1&&n(6,A=i.chip=="esp8266"?16:i.chip=="esp32s2"?44:39)},[i,u,c,r,f,p,A,o,_,v,d,g,k,$,T,l,F,L,R,C,N,ee,q,U,H,K,V,Y,G,W,z,x,_e,ie,me,X,ke,Ee,we,Me,le,fe,Oe,Ie,E,w,S,D,O,J,ne,pe,be,Ae,Fe,ce,Pe,ze,mt,Ke,ut,Ge,_t,Ue,Pt,pt,ht,xe,Re,tt,Le,Je,at,qe,ye,he,de,Ve,ue,Qe,te,st,wi,Zn,bl,Ci,yi,Mi,At,Si,Xe,rn,Ti,Pl,Al,Ni,ql,Ei,Bl,Pi,gl,Ai]}class A_ extends We{constructor(e){super(),He(this,e,P_,N_,Be,{basepath:15,sysinfo:0},null,[-1,-1,-1,-1])}}function bf(t,e,n){const l=t.slice();return l[21]=e[n],l}function $_(t){let e=Ce(t[1].chip,t[1].board)+"",n;return{c(){n=P(e)},m(l,i){M(l,n,i)},p(l,i){i&2&&e!==(e=Ce(l[1].chip,l[1].board)+"")&&Z(n,e)},d(l){l&&y(n)}}}function gf(t){let e,n,l=t[1].apmac+"",i,o,u,c,r,f,p,_,h,v=vr(t[1])+"",d,g,k=t[1].boot_reason+"",$,T,A=t[1].ex_cause+"",F,L,R;const C=[L_,D_],N=[];function ee(q,U){return q[0].u>0?0:1}return r=ee(t),f=N[r]=C[r](t),{c(){e=m("div"),n=P("AP MAC: "),i=P(l),o=b(),u=m("div"),c=P(`Last boot:
            `),f.c(),p=b(),_=m("div"),h=P("Reason: "),d=P(v),g=P(" ("),$=P(k),T=P("/"),F=P(A),L=P(")"),a(e,"class","my-2"),a(u,"class","my-2"),a(_,"class","my-2")},m(q,U){M(q,e,U),s(e,n),s(e,i),M(q,o,U),M(q,u,U),s(u,c),N[r].m(u,null),M(q,p,U),M(q,_,U),s(_,h),s(_,d),s(_,g),s(_,$),s(_,T),s(_,F),s(_,L),R=!0},p(q,U){(!R||U&2)&&l!==(l=q[1].apmac+"")&&Z(i,l);let H=r;r=ee(q),r===H?N[r].p(q,U):($e(),B(N[H],1,1,()=>{N[H]=null}),De(),f=N[r],f?f.p(q,U):(f=N[r]=C[r](q),f.c()),I(f,1),f.m(u,null)),(!R||U&2)&&v!==(v=vr(q[1])+"")&&Z(d,v),(!R||U&2)&&k!==(k=q[1].boot_reason+"")&&Z($,k),(!R||U&2)&&A!==(A=q[1].ex_cause+"")&&Z(F,A)},i(q){R||(I(f),R=!0)},o(q){B(f),R=!1},d(q){q&&y(e),q&&y(o),q&&y(u),N[r].d(),q&&y(p),q&&y(_)}}}function D_(t){let e;return{c(){e=P("-")},m(n,l){M(n,e,l)},p:ve,i:ve,o:ve,d(n){n&&y(e)}}}function L_(t){let e,n;return e=new Q1({props:{timestamp:new Date(new Date().getTime()-t[0].u*1e3),fullTimeColor:""}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&1&&(o.timestamp=new Date(new Date().getTime()-l[0].u*1e3)),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function I_(t){let e;return{c(){e=m("span"),e.textContent="Update consents",a(e,"class","btn-pri-sm")},m(n,l){M(n,e,l)},p:ve,d(n){n&&y(e)}}}function kf(t){let e,n,l,i,o,u=us(t[1].meter.mfg)+"",c,r,f,p,_=(t[1].meter.model?t[1].meter.model:"unknown")+"",h,v,d,g,k=(t[1].meter.id?t[1].meter.id:"unknown")+"",$;return{c(){e=m("div"),n=m("strong"),n.textContent="Meter",l=b(),i=m("div"),o=P("Manufacturer: "),c=P(u),r=b(),f=m("div"),p=P("Model: "),h=P(_),v=b(),d=m("div"),g=P("ID: "),$=P(k),a(n,"class","text-sm"),a(i,"class","my-2"),a(f,"class","my-2"),a(d,"class","my-2"),a(e,"class","cnt")},m(T,A){M(T,e,A),s(e,n),s(e,l),s(e,i),s(i,o),s(i,c),s(e,r),s(e,f),s(f,p),s(f,h),s(e,v),s(e,d),s(d,g),s(d,$)},p(T,A){A&2&&u!==(u=us(T[1].meter.mfg)+"")&&Z(c,u),A&2&&_!==(_=(T[1].meter.model?T[1].meter.model:"unknown")+"")&&Z(h,_),A&2&&k!==(k=(T[1].meter.id?T[1].meter.id:"unknown")+"")&&Z($,k)},d(T){T&&y(e)}}}function wf(t){let e,n,l,i,o,u=t[1].net.ip+"",c,r,f,p,_=t[1].net.mask+"",h,v,d,g,k=t[1].net.gw+"",$,T,A,F,L=t[1].net.dns1+"",R,C,N=t[1].net.dns2&&Cf(t);return{c(){e=m("div"),n=m("strong"),n.textContent="Network",l=b(),i=m("div"),o=P("IP: "),c=P(u),r=b(),f=m("div"),p=P("Mask: "),h=P(_),v=b(),d=m("div"),g=P("Gateway: "),$=P(k),T=b(),A=m("div"),F=P("DNS: "),R=P(L),C=b(),N&&N.c(),a(n,"class","text-sm"),a(i,"class","my-2"),a(f,"class","my-2"),a(d,"class","my-2"),a(A,"class","my-2"),a(e,"class","cnt")},m(ee,q){M(ee,e,q),s(e,n),s(e,l),s(e,i),s(i,o),s(i,c),s(e,r),s(e,f),s(f,p),s(f,h),s(e,v),s(e,d),s(d,g),s(d,$),s(e,T),s(e,A),s(A,F),s(A,R),s(A,C),N&&N.m(A,null)},p(ee,q){q&2&&u!==(u=ee[1].net.ip+"")&&Z(c,u),q&2&&_!==(_=ee[1].net.mask+"")&&Z(h,_),q&2&&k!==(k=ee[1].net.gw+"")&&Z($,k),q&2&&L!==(L=ee[1].net.dns1+"")&&Z(R,L),ee[1].net.dns2?N?N.p(ee,q):(N=Cf(ee),N.c(),N.m(A,null)):N&&(N.d(1),N=null)},d(ee){ee&&y(e),N&&N.d()}}}function Cf(t){let e,n=t[1].net.dns2+"",l;return{c(){e=P("/ "),l=P(n)},m(i,o){M(i,e,o),M(i,l,o)},p(i,o){o&2&&n!==(n=i[1].net.dns2+"")&&Z(l,n)},d(i){i&&y(e),i&&y(l)}}}function yf(t){let e,n,l,i=t[1].upgrade.f+"",o,u,c=t[1].upgrade.t+"",r,f,p=hr(t[1].upgrade.e)+"",_;return{c(){e=m("div"),n=m("div"),l=P("Previous upgrade attempt from "),o=P(i),u=P(" to "),r=P(c),f=P(" failed. "),_=P(p),a(n,"class","bd-yellow"),a(e,"class","my-2")},m(h,v){M(h,e,v),s(e,n),s(n,l),s(n,o),s(n,u),s(n,r),s(n,f),s(n,_)},p(h,v){v&2&&i!==(i=h[1].upgrade.f+"")&&Z(o,i),v&2&&c!==(c=h[1].upgrade.t+"")&&Z(r,c),v&2&&p!==(p=hr(h[1].upgrade.e)+"")&&Z(_,p)},d(h){h&&y(e)}}}function Mf(t){let e,n,l,i=t[3].tag_name+"",o,u,c,r,f,p,_=(t[1].security==0||t[0].a)&&t[1].fwconsent===1&&t[3]&&t[3].tag_name!=t[1].version&&Sf(t),h=t[1].fwconsent===2&&Tf();return{c(){e=m("div"),n=P(`Latest version: 
                `),l=m("a"),o=P(i),c=b(),_&&_.c(),r=b(),h&&h.c(),f=it(),a(l,"href",u=t[3].html_url),a(l,"class","ml-2 text-blue-600 hover:text-blue-800"),a(l,"target","_blank"),a(l,"rel","noreferrer"),a(e,"class","my-2 flex")},m(v,d){M(v,e,d),s(e,n),s(e,l),s(l,o),s(e,c),_&&_.m(e,null),M(v,r,d),h&&h.m(v,d),M(v,f,d),p=!0},p(v,d){(!p||d&8)&&i!==(i=v[3].tag_name+"")&&Z(o,i),(!p||d&8&&u!==(u=v[3].html_url))&&a(l,"href",u),(v[1].security==0||v[0].a)&&v[1].fwconsent===1&&v[3]&&v[3].tag_name!=v[1].version?_?(_.p(v,d),d&11&&I(_,1)):(_=Sf(v),_.c(),I(_,1),_.m(e,null)):_&&($e(),B(_,1,1,()=>{_=null}),De()),v[1].fwconsent===2?h||(h=Tf(),h.c(),h.m(f.parentNode,f)):h&&(h.d(1),h=null)},i(v){p||(I(_),p=!0)},o(v){B(_),p=!1},d(v){v&&y(e),_&&_.d(),v&&y(r),h&&h.d(v),v&&y(f)}}}function Sf(t){let e,n,l,i,o,u;return l=new X1({}),{c(){e=m("div"),n=m("button"),ae(l.$$.fragment),a(e,"class","flex-none ml-2 text-green-500"),a(e,"title","Install this version")},m(c,r){M(c,e,r),s(e,n),se(l,n,null),i=!0,o||(u=Q(n,"click",t[10]),o=!0)},p:ve,i(c){i||(I(l.$$.fragment,c),i=!0)},o(c){B(l.$$.fragment,c),i=!1},d(c){c&&y(e),oe(l),o=!1,u()}}}function Tf(t){let e;return{c(){e=m("div"),e.innerHTML='<div class="bd-yellow">You have disabled one-click firmware upgrade, link to self-upgrade is disabled</div>',a(e,"class","my-2")},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function Nf(t){let e,n=fs(Ce(t[1].chip,t[1].board))+"",l;return{c(){e=m("div"),l=P(n),a(e,"class","bd-red")},m(i,o){M(i,e,o),s(e,l)},p(i,o){o&2&&n!==(n=fs(Ce(i[1].chip,i[1].board))+"")&&Z(l,n)},d(i){i&&y(e)}}}function Ef(t){let e,n,l,i,o,u;function c(p,_){return p[5].length==0?F_:R_}let r=c(t),f=r(t);return{c(){e=m("div"),n=m("form"),l=m("input"),i=b(),f.c(),fi(l,"display","none"),a(l,"name","file"),a(l,"type","file"),a(l,"accept",".bin"),a(n,"action","/firmware"),a(n,"enctype","multipart/form-data"),a(n,"method","post"),a(n,"autocomplete","off"),a(e,"class","my-2 flex")},m(p,_){M(p,e,_),s(e,n),s(n,l),t[13](l),s(n,i),f.m(n,null),o||(u=[Q(l,"change",t[14]),Q(n,"submit",t[16])],o=!0)},p(p,_){r===(r=c(p))&&f?f.p(p,_):(f.d(1),f=r(p),f&&(f.c(),f.m(n,null)))},d(p){p&&y(e),t[13](null),f.d(),o=!1,et(u)}}}function R_(t){let e=t[5][0].name+"",n,l,i;return{c(){n=P(e),l=b(),i=m("button"),i.textContent="Upload",a(i,"type","submit"),a(i,"class","btn-pri-sm float-right")},m(o,u){M(o,n,u),M(o,l,u),M(o,i,u)},p(o,u){u&32&&e!==(e=o[5][0].name+"")&&Z(n,e)},d(o){o&&y(n),o&&y(l),o&&y(i)}}}function F_(t){let e,n,l;return{c(){e=m("button"),e.textContent="Select firmware file for upgrade",a(e,"type","button"),a(e,"class","btn-pri-sm float-right")},m(i,o){M(i,e,o),n||(l=Q(e,"click",t[15]),n=!0)},p:ve,d(i){i&&y(e),n=!1,l()}}}function Pf(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g=t[9],k=[];for(let L=0;L<g.length;L+=1)k[L]=Af(bf(t,g,L));let $=t[2].length==0&&$f();function T(L,R){return L[2].length==0?q_:O_}let A=T(t),F=A(t);return{c(){e=m("div"),n=m("strong"),n.textContent="Backup & restore",l=b(),i=m("form"),o=m("div");for(let L=0;L<k.length;L+=1)k[L].c();u=b(),c=m("label"),c.innerHTML='<input type="checkbox" class="rounded" name="ic" value="true"/> Include Secrets<br/><small>(SSID, PSK, passwords and tokens)</small>',r=b(),$&&$.c(),f=b(),p=m("form"),_=m("input"),h=b(),F.c(),a(n,"class","text-sm"),a(c,"class","my-1 mx-3 col-span-2"),a(o,"class","grid grid-cols-2"),a(i,"method","get"),a(i,"action","/configfile.cfg"),a(i,"autocomplete","off"),fi(_,"display","none"),a(_,"name","file"),a(_,"type","file"),a(_,"accept",".cfg"),a(p,"autocomplete","off"),a(e,"class","cnt")},m(L,R){M(L,e,R),s(e,n),s(e,l),s(e,i),s(i,o);for(let C=0;C<k.length;C+=1)k[C]&&k[C].m(o,null);s(o,u),s(o,c),s(i,r),$&&$.m(i,null),s(e,f),s(e,p),s(p,_),t[17](_),s(p,h),F.m(p,null),v||(d=[Q(_,"change",t[18]),Q(p,"submit",Xn(t[12]))],v=!0)},p(L,R){if(R&512){g=L[9];let C;for(C=0;C<g.length;C+=1){const N=bf(L,g,C);k[C]?k[C].p(N,R):(k[C]=Af(N),k[C].c(),k[C].m(o,u))}for(;C<k.length;C+=1)k[C].d(1);k.length=g.length}L[2].length==0?$||($=$f(),$.c(),$.m(i,null)):$&&($.d(1),$=null),A===(A=T(L))&&F?F.p(L,R):(F.d(1),F=A(L),F&&(F.c(),F.m(p,null)))},d(L){L&&y(e),ct(k,L),$&&$.d(),t[17](null),F.d(),v=!1,et(d)}}}function Af(t){let e,n,l,i=t[21].name+"",o;return{c(){e=m("label"),n=m("input"),l=b(),o=P(i),a(n,"type","checkbox"),a(n,"class","rounded"),a(n,"name",t[21].key),n.value="true",n.checked=!0,a(e,"class","my-1 mx-3")},m(u,c){M(u,e,c),s(e,n),s(e,l),s(e,o)},p:ve,d(u){u&&y(e)}}}function $f(t){let e;return{c(){e=m("button"),e.textContent="Download",a(e,"type","submit"),a(e,"class","btn-pri-sm float-right")},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function O_(t){let e=t[2][0].name+"",n,l,i;return{c(){n=P(e),l=b(),i=m("button"),i.textContent="Upload",a(i,"type","submit"),a(i,"class","btn-pri-sm")},m(o,u){M(o,n,u),M(o,l,u),M(o,i,u)},p(o,u){u&4&&e!==(e=o[2][0].name+"")&&Z(n,e)},d(o){o&&y(n),o&&y(l),o&&y(i)}}}function q_(t){let e,n,l;return{c(){e=m("button"),e.textContent="Select file...",a(e,"type","button"),a(e,"class","btn-pri-sm")},m(i,o){M(i,e,o),n||(l=Q(e,"click",t[19]),n=!0)},p:ve,d(i){i&&y(e),n=!1,l()}}}function B_(t){let e,n,l,i,o,u,c=t[1].chip+"",r,f,p=t[1].cpu+"",_,h,v,d,g,k,$,T,A,F=t[1].mac+"",L,R,C,N,ee,q,U,H,K,V,Y,G,W,z,x,_e=t[1].version+"",ie,me,X,ke,Ee=(t[1].security==0||t[0].a)&&Vn(t[1].board),we,Me,le,fe,Oe,Ie,E,w,S;k=new Zt({props:{to:"/vendor",$$slots:{default:[$_]},$$scope:{ctx:t}}});let D=t[1].apmac&&t[1].apmac!=t[1].mac&&gf(t);ee=new Zt({props:{to:"/consent",$$slots:{default:[I_]},$$scope:{ctx:t}}});let O=t[1].meter&&kf(t),J=t[1].net&&wf(t),ne=t[1].upgrade.t&&t[1].upgrade.t!=t[1].version&&yf(t),pe=t[3]&&Mf(t),be=Ee&&Nf(t),Ae=(t[1].security==0||t[0].a)&&Ef(t),Fe=(t[1].security==0||t[0].a)&&Pf(t);return fe=new Et({props:{active:t[6],message:"Uploading firmware, please wait"}}),Ie=new Et({props:{active:t[8],message:"Uploading configuration, please wait"}}),{c(){e=m("div"),n=m("div"),l=m("strong"),l.textContent="Device information",i=b(),o=m("div"),u=P("Chip: "),r=P(c),f=P(" ("),_=P(p),h=P("MHz)"),v=b(),d=m("div"),g=P("Device: "),ae(k.$$.fragment),$=b(),T=m("div"),A=P("MAC: "),L=P(F),R=b(),D&&D.c(),C=b(),N=m("div"),ae(ee.$$.fragment),q=b(),U=m("button"),U.textContent="Reboot",H=b(),O&&O.c(),K=b(),J&&J.c(),V=b(),Y=m("div"),G=m("strong"),G.textContent="Firmware",W=b(),z=m("div"),x=P("Installed version: "),ie=P(_e),me=b(),ne&&ne.c(),X=b(),pe&&pe.c(),ke=b(),be&&be.c(),we=b(),Ae&&Ae.c(),Me=b(),Fe&&Fe.c(),le=b(),ae(fe.$$.fragment),Oe=b(),ae(Ie.$$.fragment),a(l,"class","text-sm"),a(o,"class","my-2"),a(d,"class","my-2"),a(T,"class","my-2"),a(U,"class","btn-yellow-sm float-right"),a(N,"class","my-2"),a(n,"class","cnt"),a(G,"class","text-sm"),a(z,"class","my-2"),a(Y,"class","cnt"),a(e,"class","grid xl:grid-cols-5 lg:grid-cols-3 md:grid-cols-2")},m(ce,Pe){M(ce,e,Pe),s(e,n),s(n,l),s(n,i),s(n,o),s(o,u),s(o,r),s(o,f),s(o,_),s(o,h),s(n,v),s(n,d),s(d,g),se(k,d,null),s(n,$),s(n,T),s(T,A),s(T,L),s(n,R),D&&D.m(n,null),s(n,C),s(n,N),se(ee,N,null),s(N,q),s(N,U),s(e,H),O&&O.m(e,null),s(e,K),J&&J.m(e,null),s(e,V),s(e,Y),s(Y,G),s(Y,W),s(Y,z),s(z,x),s(z,ie),s(Y,me),ne&&ne.m(Y,null),s(Y,X),pe&&pe.m(Y,null),s(Y,ke),be&&be.m(Y,null),s(Y,we),Ae&&Ae.m(Y,null),s(e,Me),Fe&&Fe.m(e,null),M(ce,le,Pe),se(fe,ce,Pe),M(ce,Oe,Pe),se(Ie,ce,Pe),E=!0,w||(S=Q(U,"click",t[11]),w=!0)},p(ce,[Pe]){(!E||Pe&2)&&c!==(c=ce[1].chip+"")&&Z(r,c),(!E||Pe&2)&&p!==(p=ce[1].cpu+"")&&Z(_,p);const ze={};Pe&16777218&&(ze.$$scope={dirty:Pe,ctx:ce}),k.$set(ze),(!E||Pe&2)&&F!==(F=ce[1].mac+"")&&Z(L,F),ce[1].apmac&&ce[1].apmac!=ce[1].mac?D?(D.p(ce,Pe),Pe&2&&I(D,1)):(D=gf(ce),D.c(),I(D,1),D.m(n,C)):D&&($e(),B(D,1,1,()=>{D=null}),De());const mt={};Pe&16777216&&(mt.$$scope={dirty:Pe,ctx:ce}),ee.$set(mt),ce[1].meter?O?O.p(ce,Pe):(O=kf(ce),O.c(),O.m(e,K)):O&&(O.d(1),O=null),ce[1].net?J?J.p(ce,Pe):(J=wf(ce),J.c(),J.m(e,V)):J&&(J.d(1),J=null),(!E||Pe&2)&&_e!==(_e=ce[1].version+"")&&Z(ie,_e),ce[1].upgrade.t&&ce[1].upgrade.t!=ce[1].version?ne?ne.p(ce,Pe):(ne=yf(ce),ne.c(),ne.m(Y,X)):ne&&(ne.d(1),ne=null),ce[3]?pe?(pe.p(ce,Pe),Pe&8&&I(pe,1)):(pe=Mf(ce),pe.c(),I(pe,1),pe.m(Y,ke)):pe&&($e(),B(pe,1,1,()=>{pe=null}),De()),Pe&3&&(Ee=(ce[1].security==0||ce[0].a)&&Vn(ce[1].board)),Ee?be?be.p(ce,Pe):(be=Nf(ce),be.c(),be.m(Y,we)):be&&(be.d(1),be=null),ce[1].security==0||ce[0].a?Ae?Ae.p(ce,Pe):(Ae=Ef(ce),Ae.c(),Ae.m(Y,null)):Ae&&(Ae.d(1),Ae=null),ce[1].security==0||ce[0].a?Fe?Fe.p(ce,Pe):(Fe=Pf(ce),Fe.c(),Fe.m(e,null)):Fe&&(Fe.d(1),Fe=null);const Ke={};Pe&64&&(Ke.active=ce[6]),fe.$set(Ke);const ut={};Pe&256&&(ut.active=ce[8]),Ie.$set(ut)},i(ce){E||(I(k.$$.fragment,ce),I(D),I(ee.$$.fragment,ce),I(pe),I(fe.$$.fragment,ce),I(Ie.$$.fragment,ce),E=!0)},o(ce){B(k.$$.fragment,ce),B(D),B(ee.$$.fragment,ce),B(pe),B(fe.$$.fragment,ce),B(Ie.$$.fragment,ce),E=!1},d(ce){ce&&y(e),oe(k),D&&D.d(),oe(ee),O&&O.d(),J&&J.d(),ne&&ne.d(),pe&&pe.d(),be&&be.d(),Ae&&Ae.d(),Fe&&Fe.d(),ce&&y(le),oe(fe,ce),ce&&y(Oe),oe(Ie,ce),w=!1,S()}}}async function U_(){await(await fetch("reboot",{method:"POST"})).json()}function j_(t,e,n){let{data:l}=e,{sysinfo:i}=e,o=[{name:"WiFi",key:"iw"},{name:"MQTT",key:"im"},{name:"Web",key:"ie"},{name:"Meter",key:"it"},{name:"Thresholds",key:"ih"},{name:"GPIO",key:"ig"},{name:"NTP",key:"in"},{name:"Price API",key:"is"}],u={};mo.subscribe(N=>{n(3,u=Y1(i.version,N)),u||n(3,u=N[0])});function c(){confirm("Do you want to upgrade this device to "+u.tag_name+"?")&&(i.board!=2&&i.board!=4&&i.board!=7||confirm(fs(Ce(i.chip,i.board))))&&(St.update(N=>(N.upgrading=!0,N)),K1(u.tag_name))}const r=function(){confirm("Are you sure you want to reboot the device?")&&(St.update(N=>(N.booting=!0,N)),U_())};let f,p=[],_=!1,h,v=[],d=!1;ro();let g={hostname:"",ip:""};function k(N){n(8,d=!0);const ee=new FormData;ee.append("file",v[0]),fetch("/configfile",{method:"POST",body:ee}).then(q=>q.json()).then(q=>{St.update(U=>(console.log("updating sysinfo with: ",g),g&&g.hostname&&(U.hostname=g.hostname),U.booting=q.reboot,g&&g.ip&&(U.net.ip=g.ip),setTimeout(hi,5e3,i),U))}).catch(q=>{console.error("Error:",q),setTimeout(hi,5e3,i)})}function $(N){as[N?"unshift":"push"](()=>{f=N,n(4,f)})}function T(){p=this.files,n(5,p)}const A=()=>{f.click()},F=()=>n(6,_=!0);function L(N){as[N?"unshift":"push"](()=>{h=N,n(7,h)})}function R(){v=this.files,n(2,v)}const C=()=>{h.click()};return t.$$set=N=>{"data"in N&&n(0,l=N.data),"sysinfo"in N&&n(1,i=N.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&4&&v.length==1){let N=v[0],ee=new FileReader,q=U=>{let H=U.target.result.split(`
`);for(let K in H){let V=H[K];V.startsWith("hostname ")?g.hostname=V.split(" ")[1]:V.startsWith("ip ")&&(g.ip=V.split(" ")[1])}};ee.onload=q,ee.readAsText(N)}},[l,i,v,u,f,p,_,h,d,o,c,r,k,$,T,A,F,L,R,C]}class H_ extends We{constructor(e){super(),He(this,e,j_,B_,Be,{data:0,sysinfo:1})}}function Df(t){let e,n,l=Ce(t[0],7)+"",i,o,u=Ce(t[0],5)+"",c,r,f=Ce(t[0],4)+"",p,_,h=Ce(t[0],3)+"",v,d,g,k,$=Ce(t[0],2)+"",T,A,F=Ce(t[0],1)+"",L,R,C=Ce(t[0],0)+"",N,ee,q,U,H=Ce(t[0],101)+"",K,V,Y=Ce(t[0],100)+"",G;return{c(){e=m("optgroup"),n=m("option"),i=P(l),o=m("option"),c=P(u),r=m("option"),p=P(f),_=m("option"),v=P(h),d=b(),g=m("optgroup"),k=m("option"),T=P($),A=m("option"),L=P(F),R=m("option"),N=P(C),ee=b(),q=m("optgroup"),U=m("option"),K=P(H),V=m("option"),G=P(Y),n.__value=7,n.value=n.__value,o.__value=5,o.value=o.__value,r.__value=4,r.value=r.__value,_.__value=3,_.value=_.__value,a(e,"label","amsleser.no"),k.__value=2,k.value=k.__value,A.__value=1,A.value=A.__value,R.__value=0,R.value=R.__value,a(g,"label","Custom hardware"),U.__value=101,U.value=U.__value,V.__value=100,V.value=V.__value,a(q,"label","Generic hardware")},m(W,z){M(W,e,z),s(e,n),s(n,i),s(e,o),s(o,c),s(e,r),s(r,p),s(e,_),s(_,v),M(W,d,z),M(W,g,z),s(g,k),s(k,T),s(g,A),s(A,L),s(g,R),s(R,N),M(W,ee,z),M(W,q,z),s(q,U),s(U,K),s(q,V),s(V,G)},p(W,z){z&1&&l!==(l=Ce(W[0],7)+"")&&Z(i,l),z&1&&u!==(u=Ce(W[0],5)+"")&&Z(c,u),z&1&&f!==(f=Ce(W[0],4)+"")&&Z(p,f),z&1&&h!==(h=Ce(W[0],3)+"")&&Z(v,h),z&1&&$!==($=Ce(W[0],2)+"")&&Z(T,$),z&1&&F!==(F=Ce(W[0],1)+"")&&Z(L,F),z&1&&C!==(C=Ce(W[0],0)+"")&&Z(N,C),z&1&&H!==(H=Ce(W[0],101)+"")&&Z(K,H),z&1&&Y!==(Y=Ce(W[0],100)+"")&&Z(G,Y)},d(W){W&&y(e),W&&y(d),W&&y(g),W&&y(ee),W&&y(q)}}}function Lf(t){let e,n,l=Ce(t[0],201)+"",i,o,u=Ce(t[0],202)+"",c,r,f=Ce(t[0],203)+"",p,_,h=Ce(t[0],241)+"",v,d,g=Ce(t[0],242)+"",k,$,T=Ce(t[0],243)+"",A,F,L=Ce(t[0],200)+"",R;return{c(){e=m("optgroup"),n=m("option"),i=P(l),o=m("option"),c=P(u),r=m("option"),p=P(f),_=m("option"),v=P(h),d=m("option"),k=P(g),$=m("option"),A=P(T),F=m("option"),R=P(L),n.__value=201,n.value=n.__value,o.__value=202,o.value=o.__value,r.__value=203,r.value=r.__value,_.__value=241,_.value=_.__value,d.__value=242,d.value=d.__value,$.__value=243,$.value=$.__value,F.__value=200,F.value=F.__value,a(e,"label","Generic hardware")},m(C,N){M(C,e,N),s(e,n),s(n,i),s(e,o),s(o,c),s(e,r),s(r,p),s(e,_),s(_,v),s(e,d),s(d,k),s(e,$),s($,A),s(e,F),s(F,R)},p(C,N){N&1&&l!==(l=Ce(C[0],201)+"")&&Z(i,l),N&1&&u!==(u=Ce(C[0],202)+"")&&Z(c,u),N&1&&f!==(f=Ce(C[0],203)+"")&&Z(p,f),N&1&&h!==(h=Ce(C[0],241)+"")&&Z(v,h),N&1&&g!==(g=Ce(C[0],242)+"")&&Z(k,g),N&1&&T!==(T=Ce(C[0],243)+"")&&Z(A,T),N&1&&L!==(L=Ce(C[0],200)+"")&&Z(R,L)},d(C){C&&y(e)}}}function If(t){let e,n,l=Ce(t[0],7)+"",i,o,u=Ce(t[0],6)+"",c,r,f=Ce(t[0],5)+"",p,_,h,v,d=Ce(t[0],51)+"",g,k,$=Ce(t[0],50)+"",T;return{c(){e=m("optgroup"),n=m("option"),i=P(l),o=m("option"),c=P(u),r=m("option"),p=P(f),_=b(),h=m("optgroup"),v=m("option"),g=P(d),k=m("option"),T=P($),n.__value=7,n.value=n.__value,o.__value=6,o.value=o.__value,r.__value=5,r.value=r.__value,a(e,"label","amsleser.no"),v.__value=51,v.value=v.__value,k.__value=50,k.value=k.__value,a(h,"label","Generic hardware")},m(A,F){M(A,e,F),s(e,n),s(n,i),s(e,o),s(o,c),s(e,r),s(r,p),M(A,_,F),M(A,h,F),s(h,v),s(v,g),s(h,k),s(k,T)},p(A,F){F&1&&l!==(l=Ce(A[0],7)+"")&&Z(i,l),F&1&&u!==(u=Ce(A[0],6)+"")&&Z(c,u),F&1&&f!==(f=Ce(A[0],5)+"")&&Z(p,f),F&1&&d!==(d=Ce(A[0],51)+"")&&Z(g,d),F&1&&$!==($=Ce(A[0],50)+"")&&Z(T,$)},d(A){A&&y(e),A&&y(_),A&&y(h)}}}function Rf(t){let e,n,l=Ce(t[0],8)+"",i,o,u,c,r=Ce(t[0],71)+"",f,p,_=Ce(t[0],70)+"",h;return{c(){e=m("optgroup"),n=m("option"),i=P(l),o=b(),u=m("optgroup"),c=m("option"),f=P(r),p=m("option"),h=P(_),n.__value=8,n.value=n.__value,a(e,"label","Custom hardware"),c.__value=71,c.value=c.__value,p.__value=70,p.value=p.__value,a(u,"label","Generic hardware")},m(v,d){M(v,e,d),s(e,n),s(n,i),M(v,o,d),M(v,u,d),s(u,c),s(c,f),s(u,p),s(p,h)},p(v,d){d&1&&l!==(l=Ce(v[0],8)+"")&&Z(i,l),d&1&&r!==(r=Ce(v[0],71)+"")&&Z(f,r),d&1&&_!==(_=Ce(v[0],70)+"")&&Z(h,_)},d(v){v&&y(e),v&&y(o),v&&y(u)}}}function Ff(t){let e,n,l=Ce(t[0],200)+"",i;return{c(){e=m("optgroup"),n=m("option"),i=P(l),n.__value=200,n.value=n.__value,a(e,"label","Generic hardware")},m(o,u){M(o,e,u),s(e,n),s(n,i)},p(o,u){u&1&&l!==(l=Ce(o[0],200)+"")&&Z(i,l)},d(o){o&&y(e)}}}function Of(t){let e,n,l=Ce(t[0],80)+"",i;return{c(){e=m("optgroup"),n=m("option"),i=P(l),n.__value=80,n.value=n.__value,a(e,"label","Generic hardware")},m(o,u){M(o,e,u),s(e,n),s(n,i)},p(o,u){u&1&&l!==(l=Ce(o[0],80)+"")&&Z(i,l)},d(o){o&&y(e)}}}function W_(t){let e,n,l,i,o,u,c,r,f=t[0]=="esp8266"&&Df(t),p=t[0]=="esp32"&&Lf(t),_=t[0]=="esp32s2"&&If(t),h=t[0]=="esp32c3"&&Rf(t),v=t[0]=="esp32solo"&&Ff(t),d=t[0]=="esp32s3"&&Of(t);return{c(){e=m("option"),n=b(),f&&f.c(),l=b(),p&&p.c(),i=b(),_&&_.c(),o=b(),h&&h.c(),u=b(),v&&v.c(),c=b(),d&&d.c(),r=it(),e.__value=-1,e.value=e.__value},m(g,k){M(g,e,k),M(g,n,k),f&&f.m(g,k),M(g,l,k),p&&p.m(g,k),M(g,i,k),_&&_.m(g,k),M(g,o,k),h&&h.m(g,k),M(g,u,k),v&&v.m(g,k),M(g,c,k),d&&d.m(g,k),M(g,r,k)},p(g,[k]){g[0]=="esp8266"?f?f.p(g,k):(f=Df(g),f.c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null),g[0]=="esp32"?p?p.p(g,k):(p=Lf(g),p.c(),p.m(i.parentNode,i)):p&&(p.d(1),p=null),g[0]=="esp32s2"?_?_.p(g,k):(_=If(g),_.c(),_.m(o.parentNode,o)):_&&(_.d(1),_=null),g[0]=="esp32c3"?h?h.p(g,k):(h=Rf(g),h.c(),h.m(u.parentNode,u)):h&&(h.d(1),h=null),g[0]=="esp32solo"?v?v.p(g,k):(v=Ff(g),v.c(),v.m(c.parentNode,c)):v&&(v.d(1),v=null),g[0]=="esp32s3"?d?d.p(g,k):(d=Of(g),d.c(),d.m(r.parentNode,r)):d&&(d.d(1),d=null)},i:ve,o:ve,d(g){g&&y(e),g&&y(n),f&&f.d(g),g&&y(l),p&&p.d(g),g&&y(i),_&&_.d(g),g&&y(o),h&&h.d(g),g&&y(u),v&&v.d(g),g&&y(c),d&&d.d(g),g&&y(r)}}}function z_(t,e,n){let{chip:l}=e;return t.$$set=i=>{"chip"in i&&n(0,l=i.chip)},[l]}class G_ extends We{constructor(e){super(),He(this,e,z_,W_,Be,{chip:0})}}function qf(t){let e;return{c(){e=m("div"),e.textContent="WARNING: Changing this configuration will affect basic configuration of your device. Only make changes here if instructed by vendor",a(e,"class","bd-red")},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function Bf(t){let e,n,l,i,o,u,c;return u=new Qs({props:{chip:t[0].chip}}),{c(){e=m("div"),n=P("HAN GPIO"),l=m("br"),i=b(),o=m("select"),ae(u.$$.fragment),a(o,"name","vh"),a(o,"class","in-s"),a(e,"class","my-3")},m(r,f){M(r,e,f),s(e,n),s(e,l),s(e,i),s(e,o),se(u,o,null),c=!0},p(r,f){const p={};f&1&&(p.chip=r[0].chip),u.$set(p)},i(r){c||(I(u.$$.fragment,r),c=!0)},o(r){B(u.$$.fragment,r),c=!1},d(r){r&&y(e),oe(u)}}}function V_(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g,k,$,T,A,F,L,R,C,N,ee,q,U,H,K,V=t[0].usrcfg&&qf();d=new G_({props:{chip:t[0].chip}});let Y=t[0].board&&t[0].board>20&&Bf(t);return q=new Et({props:{active:t[1],message:"Saving device configuration"}}),{c(){e=m("div"),n=m("div"),l=m("form"),i=m("input"),o=b(),u=m("strong"),u.textContent="Initial configuration",c=b(),V&&V.c(),r=b(),f=m("div"),p=P("Board type"),_=m("br"),h=b(),v=m("select"),ae(d.$$.fragment),g=b(),Y&&Y.c(),k=b(),$=m("div"),T=m("label"),A=m("input"),F=P(" Clear all other configuration"),L=b(),R=m("div"),R.innerHTML='<button type="submit" class="btn-pri">Save</button>',C=b(),N=m("span"),N.textContent="\xA0",ee=b(),ae(q.$$.fragment),a(i,"type","hidden"),a(i,"name","v"),i.value="true",a(u,"class","text-sm"),a(v,"name","vb"),a(v,"class","in-s"),t[0].board===void 0&&Ze(()=>t[5].call(v)),a(f,"class","my-3"),a(A,"type","checkbox"),a(A,"name","vr"),A.__value="true",A.value=A.__value,a(A,"class","rounded mb-1"),a($,"class","my-3"),a(R,"class","my-3"),a(N,"class","clear-both"),a(l,"autocomplete","off"),a(n,"class","cnt"),a(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(G,W){M(G,e,W),s(e,n),s(n,l),s(l,i),s(l,o),s(l,u),s(l,c),V&&V.m(l,null),s(l,r),s(l,f),s(f,p),s(f,_),s(f,h),s(f,v),se(d,v,null),Te(v,t[0].board,!0),s(l,g),Y&&Y.m(l,null),s(l,k),s(l,$),s($,T),s(T,A),A.checked=t[2],s(T,F),s(l,L),s(l,R),s(l,C),s(l,N),M(G,ee,W),se(q,G,W),U=!0,H||(K=[Q(v,"change",t[5]),Q(A,"change",t[6]),Q(l,"submit",Xn(t[3]))],H=!0)},p(G,[W]){G[0].usrcfg?V||(V=qf(),V.c(),V.m(l,r)):V&&(V.d(1),V=null);const z={};W&1&&(z.chip=G[0].chip),d.$set(z),W&1&&Te(v,G[0].board),G[0].board&&G[0].board>20?Y?(Y.p(G,W),W&1&&I(Y,1)):(Y=Bf(G),Y.c(),I(Y,1),Y.m(l,k)):Y&&($e(),B(Y,1,1,()=>{Y=null}),De()),W&4&&(A.checked=G[2]);const x={};W&2&&(x.active=G[1]),q.$set(x)},i(G){U||(I(d.$$.fragment,G),I(Y),I(q.$$.fragment,G),U=!0)},o(G){B(d.$$.fragment,G),B(Y),B(q.$$.fragment,G),U=!1},d(G){G&&y(e),V&&V.d(),oe(d),Y&&Y.d(),G&&y(ee),oe(q,G),H=!1,et(K)}}}function K_(t,e,n){let{basepath:l="/"}=e,{sysinfo:i={}}=e,o=!1;async function u(p){n(1,o=!0);const _=new FormData(p.target),h=new URLSearchParams;for(let g of _){const[k,$]=g;h.append(k,$)}let d=await(await fetch("save",{method:"POST",body:h})).json();n(1,o=!1),St.update(g=>(g.vndcfg=d.success,g.booting=d.reboot,g.if.eth=g.boardType>240&&g.boardType<250,g)),sn(l+(i.usrcfg?"/":"/setup"))}let c=!1;St.subscribe(p=>{n(0,i=p),p.fwconsent===1&&n(2,c=!i.usrcfg)});function r(){i.board=ot(this),n(0,i)}function f(){c=this.checked,n(2,c)}return t.$$set=p=>{"basepath"in p&&n(4,l=p.basepath),"sysinfo"in p&&n(0,i=p.sysinfo)},[i,o,c,u,l,r,f]}class Y_ extends We{constructor(e){super(),He(this,e,K_,V_,Be,{basepath:4,sysinfo:0})}}function Uf(t){let e;return{c(){e=m("option"),e.textContent="Ethernet",e.__value=3,e.value=e.__value},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function jf(t){let e,n,l,i,o,u,c,r,f,p,_,h,v;return{c(){e=m("div"),n=P("SSID"),l=m("br"),i=b(),o=m("input"),c=b(),r=m("div"),f=P("PSK"),p=m("br"),_=b(),h=m("input"),a(o,"name","ss"),a(o,"type","text"),a(o,"class","in-s"),o.required=u=t[2]==1||t[2]==2,a(e,"class","my-3"),a(h,"name","sp"),a(h,"type","password"),a(h,"class","in-s"),a(h,"autocomplete","off"),h.required=v=t[2]==2,a(r,"class","my-3")},m(d,g){M(d,e,g),s(e,n),s(e,l),s(e,i),s(e,o),M(d,c,g),M(d,r,g),s(r,f),s(r,p),s(r,_),s(r,h)},p(d,g){g&4&&u!==(u=d[2]==1||d[2]==2)&&(o.required=u),g&4&&v!==(v=d[2]==2)&&(h.required=v)},d(d){d&&y(e),d&&y(c),d&&y(r)}}}function Hf(t){let e,n,l,i,o,u,c,r;return c=new x1({}),{c(){e=m("br"),n=b(),l=m("div"),i=m("input"),o=b(),u=m("select"),ae(c.$$.fragment),a(i,"name","si"),a(i,"type","text"),a(i,"class","in-f w-full"),i.required=t[1],a(u,"name","su"),a(u,"class","in-l"),u.required=t[1],a(l,"class","flex")},m(f,p){M(f,e,p),M(f,n,p),M(f,l,p),s(l,i),s(l,o),s(l,u),se(c,u,null),r=!0},p(f,p){(!r||p&2)&&(i.required=f[1]),(!r||p&2)&&(u.required=f[1])},i(f){r||(I(c.$$.fragment,f),r=!0)},o(f){B(c.$$.fragment,f),r=!1},d(f){f&&y(e),f&&y(n),f&&y(l),oe(c)}}}function Wf(t){let e;return{c(){e=m("div"),e.innerHTML=`<div>Gateway<br/> 
                    <input name="sg" type="text" class="in-f w-full"/></div> 
                <div>DNS<br/> 
                    <input name="sd" type="text" class="in-l w-full"/></div>`,a(e,"class","my-3 flex")},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function Q_(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g,k,$,T,A,F,L,R,C,N,ee,q,U,H,K,V,Y,G,W,z=t[0].if&&t[0].if.eth&&Uf(),x=(t[2]==1||t[2]==2)&&jf(t),_e=t[1]&&Hf(t),ie=t[1]&&Wf();return V=new Et({props:{active:t[3],message:"Saving your configuration to the device"}}),{c(){e=m("div"),n=m("div"),l=m("form"),i=m("input"),o=b(),u=m("strong"),u.textContent="Setup",c=b(),r=m("div"),f=P("Connection"),p=m("br"),_=b(),h=m("select"),v=m("option"),v.textContent="Connect to WiFi",d=m("option"),d.textContent="Standalone access point",z&&z.c(),g=b(),x&&x.c(),k=b(),$=m("div"),T=P(`Hostname
                `),A=m("input"),F=b(),L=m("div"),R=m("label"),C=m("input"),N=P(" Static IP"),ee=b(),_e&&_e.c(),q=b(),ie&&ie.c(),U=b(),H=m("div"),H.innerHTML='<button type="submit" class="btn-pri">Save</button>',K=b(),ae(V.$$.fragment),a(i,"type","hidden"),a(i,"name","s"),i.value="true",a(u,"class","text-sm"),v.__value=1,v.value=v.__value,d.__value=2,d.value=d.__value,a(h,"name","sc"),a(h,"class","in-s"),t[2]===void 0&&Ze(()=>t[5].call(h)),a(r,"class","my-3"),a(A,"name","sh"),a(A,"type","text"),a(A,"class","in-s"),a(A,"maxlength","32"),a(A,"pattern","[a-z0-9_-]+"),a(A,"placeholder","Optional, ex.: ams-reader"),a(A,"autocomplete","off"),a(C,"type","checkbox"),a(C,"name","sm"),C.__value="static",C.value=C.__value,a(C,"class","rounded mb-1"),a(L,"class","my-3"),a(H,"class","my-3"),a(n,"class","cnt"),a(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(me,X){M(me,e,X),s(e,n),s(n,l),s(l,i),s(l,o),s(l,u),s(l,c),s(l,r),s(r,f),s(r,p),s(r,_),s(r,h),s(h,v),s(h,d),z&&z.m(h,null),Te(h,t[2],!0),s(l,g),x&&x.m(l,null),s(l,k),s(l,$),s($,T),s($,A),re(A,t[0].hostname),s(l,F),s(l,L),s(L,R),s(R,C),C.checked=t[1],s(R,N),s(L,ee),_e&&_e.m(L,null),s(l,q),ie&&ie.m(l,null),s(l,U),s(l,H),M(me,K,X),se(V,me,X),Y=!0,G||(W=[Q(h,"change",t[5]),Q(A,"input",t[6]),Q(C,"change",t[7]),Q(l,"submit",Xn(t[4]))],G=!0)},p(me,[X]){me[0].if&&me[0].if.eth?z||(z=Uf(),z.c(),z.m(h,null)):z&&(z.d(1),z=null),X&4&&Te(h,me[2]),me[2]==1||me[2]==2?x?x.p(me,X):(x=jf(me),x.c(),x.m(l,k)):x&&(x.d(1),x=null),X&1&&A.value!==me[0].hostname&&re(A,me[0].hostname),X&2&&(C.checked=me[1]),me[1]?_e?(_e.p(me,X),X&2&&I(_e,1)):(_e=Hf(me),_e.c(),I(_e,1),_e.m(L,null)):_e&&($e(),B(_e,1,1,()=>{_e=null}),De()),me[1]?ie||(ie=Wf(),ie.c(),ie.m(l,U)):ie&&(ie.d(1),ie=null);const ke={};X&8&&(ke.active=me[3]),V.$set(ke)},i(me){Y||(I(_e),I(V.$$.fragment,me),Y=!0)},o(me){B(_e),B(V.$$.fragment,me),Y=!1},d(me){me&&y(e),z&&z.d(),x&&x.d(),_e&&_e.d(),ie&&ie.d(),me&&y(K),oe(V,me),G=!1,et(W)}}}function X_(t,e,n){let{sysinfo:l={}}=e,i=!1,o=1,u=!1;function c(h){St.update(v=>(v.trying=h,v))}async function r(h){n(3,u=!0);const v=new FormData(h.target),d=new URLSearchParams;for(let $ of v){const[T,A]=$;d.append(T,A)}let k=await(await fetch("save",{method:"POST",body:d})).json();n(3,u=!1),St.update($=>($.hostname=v.get("sh"),$.usrcfg=k.success,$.booting=k.reboot,i&&($.net.ip=v.get("si"),$.net.mask=v.get("su"),$.net.gw=v.get("sg"),$.net.dns1=v.get("sd")),k.reboot&&setTimeout(hi,5e3,l,c),$))}function f(){o=ot(this),n(2,o)}function p(){l.hostname=this.value,n(0,l)}function _(){i=this.checked,n(1,i)}return t.$$set=h=>{"sysinfo"in h&&n(0,l=h.sysinfo)},[l,i,o,u,r,f,p,_]}class Z_ extends We{constructor(e){super(),He(this,e,X_,Q_,Be,{sysinfo:0})}}function J_(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g,k,$;return d=new Et({props:{active:t[2],message:"Uploading file, please wait"}}),{c(){e=m("div"),n=m("div"),l=m("strong"),i=P("Upload "),o=P(t[1]),u=b(),c=m("p"),c.textContent="Select a suitable file and click upload",r=b(),f=m("form"),p=m("input"),_=b(),h=m("div"),h.innerHTML='<button type="submit" class="btn-pri">Upload</button>',v=b(),ae(d.$$.fragment),a(c,"class","mb-4"),a(p,"name","file"),a(p,"type","file"),a(h,"class","w-full text-right mt-4"),a(f,"action",t[0]),a(f,"enctype","multipart/form-data"),a(f,"method","post"),a(f,"autocomplete","off"),a(n,"class","cnt"),a(e,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2")},m(T,A){M(T,e,A),s(e,n),s(n,l),s(l,i),s(l,o),s(n,u),s(n,c),s(n,r),s(n,f),s(f,p),s(f,_),s(f,h),M(T,v,A),se(d,T,A),g=!0,k||($=Q(f,"submit",t[3]),k=!0)},p(T,[A]){(!g||A&2)&&Z(o,T[1]),(!g||A&1)&&a(f,"action",T[0]);const F={};A&4&&(F.active=T[2]),d.$set(F)},i(T){g||(I(d.$$.fragment,T),g=!0)},o(T){B(d.$$.fragment,T),g=!1},d(T){T&&y(e),T&&y(v),oe(d,T),k=!1,$()}}}function x_(t,e,n){let{action:l}=e,{title:i}=e,o=!1;const u=()=>n(2,o=!0);return t.$$set=c=>{"action"in c&&n(0,l=c.action),"title"in c&&n(1,i=c.title)},[l,i,o,u]}class po extends We{constructor(e){super(),He(this,e,x_,J_,Be,{action:0,title:1})}}function ep(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g,k,$,T,A,F,L,R,C,N,ee,q,U,H,K,V,Y;return H=new Et({props:{active:t[1],message:"Saving preferences"}}),{c(){e=m("div"),n=m("div"),l=m("form"),i=m("div"),i.textContent="Various permissions we need to do stuff:",o=b(),u=m("hr"),c=b(),r=m("div"),f=P("Enable one-click upgrade? (implies data collection)"),p=m("br"),_=b(),h=m("a"),v=P("Read more"),d=m("br"),g=b(),k=m("label"),$=m("input"),A=P(" Yes"),F=m("label"),L=m("input"),C=P(" No"),N=m("br"),ee=b(),q=m("div"),q.innerHTML='<button type="submit" class="btn-pri">Save</button>',U=b(),ae(H.$$.fragment),a(h,"href",Ht("Data-collection-on-one-click-firmware-upgrade")),a(h,"target","_blank"),a(h,"class","text-blue-600 hover:text-blue-800"),a($,"type","radio"),a($,"name","sf"),$.value=1,$.checked=T=t[0].fwconsent===1,a($,"class","rounded m-2"),$.required=!0,a(L,"type","radio"),a(L,"name","sf"),L.value=2,L.checked=R=t[0].fwconsent===2,a(L,"class","rounded m-2"),L.required=!0,a(r,"class","my-3"),a(q,"class","my-3"),a(l,"autocomplete","off"),a(n,"class","cnt"),a(e,"class","grid xl:grid-cols-3 lg:grid-cols-2")},m(G,W){M(G,e,W),s(e,n),s(n,l),s(l,i),s(l,o),s(l,u),s(l,c),s(l,r),s(r,f),s(r,p),s(r,_),s(r,h),s(h,v),s(r,d),s(r,g),s(r,k),s(k,$),s(k,A),s(r,F),s(F,L),s(F,C),s(r,N),s(l,ee),s(l,q),M(G,U,W),se(H,G,W),K=!0,V||(Y=Q(l,"submit",Xn(t[2])),V=!0)},p(G,[W]){(!K||W&1&&T!==(T=G[0].fwconsent===1))&&($.checked=T),(!K||W&1&&R!==(R=G[0].fwconsent===2))&&(L.checked=R);const z={};W&2&&(z.active=G[1]),H.$set(z)},i(G){K||(I(H.$$.fragment,G),K=!0)},o(G){B(H.$$.fragment,G),K=!1},d(G){G&&y(e),G&&y(U),oe(H,G),V=!1,Y()}}}function tp(t,e,n){let{basepath:l="/"}=e,{sysinfo:i={}}=e,o=!1;async function u(c){n(1,o=!0);const r=new FormData(c.target),f=new URLSearchParams;for(let h of r){const[v,d]=h;f.append(v,d)}let _=await(await fetch("save",{method:"POST",body:f})).json();n(1,o=!1),St.update(h=>(h.fwconsent=r.sf===!0?1:r.sf===!1?2:0,h.booting=_.reboot,h)),sn(l)}return t.$$set=c=>{"basepath"in c&&n(3,l=c.basepath),"sysinfo"in c&&n(0,i=c.sysinfo)},[i,o,u,l]}class lp extends We{constructor(e){super(),He(this,e,tp,ep,Be,{basepath:3,sysinfo:0})}}function zf(t,e,n){const l=t.slice();return l[23]=e[n],l[24]=e,l[25]=n,l}function Gf(t,e,n){const l=t.slice();return l[26]=e[n],l[28]=n,l}function np(t,e,n){const l=t.slice();return l[26]=e[n],l[28]=n,l}function Vf(t,e,n){const l=t.slice();return l[26]=e[n],l[28]=n,l}function ip(t,e,n){const l=t.slice();return l[26]=e[n],l[28]=n,l}function Kf(t,e,n){const l=t.slice();return l[26]=e[n],l[28]=n,l}function Yf(t,e,n){const l=t.slice();return l[26]=e[n],l[28]=n,l}function Qf(t,e,n){const l=t.slice();return l[26]=e[n],l[28]=n,l}function Xf(t,e,n){const l=t.slice();return l[26]=e[n],l[28]=n,l}function Zf(t){let e,n,l=t[0].o,i=[];for(let u=0;u<l.length;u+=1)i[u]=i1(zf(t,l,u));const o=u=>B(i[u],1,1,()=>{i[u]=null});return{c(){for(let u=0;u<i.length;u+=1)i[u].c();e=it()},m(u,c){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(u,c);M(u,e,c),n=!0},p(u,c){if(c[0]&169){l=u[0].o;let r;for(r=0;r<l.length;r+=1){const f=zf(u,l,r);i[r]?(i[r].p(f,c),I(i[r],1)):(i[r]=i1(f),i[r].c(),I(i[r],1),i[r].m(e.parentNode,e))}for($e(),r=l.length;r<i.length;r+=1)o(r);De()}},i(u){if(!n){for(let c=0;c<l.length;c+=1)I(i[c]);n=!0}},o(u){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)B(i[c]);n=!1},d(u){ct(i,u),u&&y(e)}}}function Jf(t){let e,n=t[3][t[28]]+"",l,i,o,u;function c(){return t[13](t[23],t[28],t[24],t[25])}return{c(){e=m("span"),l=P(n),a(e,"class",i=t[23].a.includes(t[28])?"bd-on":"bd-off")},m(r,f){M(r,e,f),s(e,l),o||(u=Q(e,"click",c),o=!0)},p(r,f){t=r,f[0]&1&&i!==(i=t[23].a.includes(t[28])?"bd-on":"bd-off")&&a(e,"class",i)},d(r){r&&y(e),o=!1,u()}}}function xf(t){let e,n=t[28].toString().padStart(2,"0")+"",l,i,o,u;function c(){return t[14](t[23],t[28],t[24],t[25])}return{c(){e=m("span"),l=P(n),a(e,"class",i=t[23].h.includes(t[28])?"bd-on":"bd-off")},m(r,f){M(r,e,f),s(e,l),o||(u=Q(e,"click",c),o=!0)},p(r,f){t=r,f[0]&1&&i!==(i=t[23].h.includes(t[28])?"bd-on":"bd-off")&&a(e,"class",i)},d(r){r&&y(e),o=!1,u()}}}function e1(t){let e,n=(t[28]+8).toString().padStart(2,"0")+"",l,i,o,u;function c(){return t[15](t[23],t[28],t[24],t[25])}return{c(){e=m("span"),l=P(n),a(e,"class",i=t[23].h.includes(t[28]+8)?"bd-on":"bd-off")},m(r,f){M(r,e,f),s(e,l),o||(u=Q(e,"click",c),o=!0)},p(r,f){t=r,f[0]&1&&i!==(i=t[23].h.includes(t[28]+8)?"bd-on":"bd-off")&&a(e,"class",i)},d(r){r&&y(e),o=!1,u()}}}function t1(t){let e,n=(t[28]+16).toString().padStart(2,"0")+"",l,i,o,u;function c(){return t[16](t[23],t[28],t[24],t[25])}return{c(){e=m("span"),l=P(n),a(e,"class",i=t[23].h.includes(t[28]+16)?"bd-on":"bd-off")},m(r,f){M(r,e,f),s(e,l),o||(u=Q(e,"click",c),o=!0)},p(r,f){t=r,f[0]&1&&i!==(i=t[23].h.includes(t[28]+16)?"bd-on":"bd-off")&&a(e,"class",i)},d(r){r&&y(e),o=!1,u()}}}function sp(t){let e,n=t[28]+1+"",l;return{c(){e=m("option"),l=P(n),e.__value=t[28]+1,e.value=e.__value},m(i,o){M(i,e,o),s(e,l)},p:ve,d(i){i&&y(e)}}}function l1(t){let e,n=pi[t[28]]+"",l;return{c(){e=m("option"),l=P(n),e.__value=t[28]+1,e.value=e.__value},m(i,o){M(i,e,o),s(e,l)},p:ve,d(i){i&&y(e)}}}function op(t){let e,n=t[28]+1+"",l;return{c(){e=m("option"),l=P(n),e.__value=t[28]+1,e.value=e.__value},m(i,o){M(i,e,o),s(e,l)},p:ve,d(i){i&&y(e)}}}function n1(t){let e,n=pi[t[28]]+"",l;return{c(){e=m("option"),l=P(n),e.__value=t[28]+1,e.value=e.__value},m(i,o){M(i,e,o),s(e,l)},p:ve,d(i){i&&y(e)}}}function i1(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g,k,$,T,A,F,L,R,C,N,ee,q,U,H,K,V,Y,G,W,z,x,_e,ie,me,X,ke,Ee,we,Me,le,fe,Oe,Ie,E,w,S,D,O,J,ne,pe;function be(){t[9].call(l,t[24],t[25])}function Ae(){t[10].call(u,t[24],t[25])}function Fe(){t[11].call(_,t[24],t[25])}function ce(){t[12].call(k,t[24],t[25])}let Pe={length:7},ze=[];for(let ue=0;ue<Pe.length;ue+=1)ze[ue]=Jf(Xf(t,Pe,ue));let mt={length:8},Ke=[];for(let ue=0;ue<mt.length;ue+=1)Ke[ue]=xf(Qf(t,mt,ue));let ut={length:8},Ge=[];for(let ue=0;ue<ut.length;ue+=1)Ge[ue]=e1(Yf(t,ut,ue));let _t={length:8},Ue=[];for(let ue=0;ue<_t.length;ue+=1)Ue[ue]=t1(Kf(t,_t,ue));let Pt={length:31},pt=[];for(let ue=0;ue<Pt.length;ue+=1)pt[ue]=sp(ip(t,Pt,ue));function ht(){t[17].call(z,t[24],t[25])}let xe={length:12},Re=[];for(let ue=0;ue<xe.length;ue+=1)Re[ue]=l1(Vf(t,xe,ue));function tt(){t[18].call(ie,t[24],t[25])}let Le={length:31},Je=[];for(let ue=0;ue<Le.length;ue+=1)Je[ue]=op(np(t,Le,ue));function at(){t[19].call(we,t[24],t[25])}let qe={length:12},ye=[];for(let ue=0;ue<qe.length;ue+=1)ye[ue]=n1(Gf(t,qe,ue));function he(){t[20].call(fe,t[24],t[25])}S=new ms({});function de(){return t[21](t[25])}function Ve(){return t[22](t[25])}return{c(){e=m("div"),n=m("div"),l=m("input"),i=b(),o=m("div"),u=m("select"),c=m("option"),c.textContent="Import",r=m("option"),r.textContent="Export",f=m("option"),f.textContent="Both",p=b(),_=m("select"),h=m("option"),h.textContent="Fixed",v=m("option"),v.textContent="+",d=m("option"),d.textContent="%",g=b(),k=m("input"),$=b(),T=m("div"),A=m("span"),A.textContent="Days:",F=b(),L=m("div");for(let ue=0;ue<ze.length;ue+=1)ze[ue].c();R=b(),C=m("div"),N=m("span"),N.textContent="Hours:",ee=b(),q=m("div"),U=m("div");for(let ue=0;ue<Ke.length;ue+=1)Ke[ue].c();H=b(),K=m("div");for(let ue=0;ue<Ge.length;ue+=1)Ge[ue].c();V=b(),Y=m("div");for(let ue=0;ue<Ue.length;ue+=1)Ue[ue].c();G=b(),W=m("div"),z=m("select"),x=m("option"),x.textContent="-";for(let ue=0;ue<pt.length;ue+=1)pt[ue].c();_e=b(),ie=m("select"),me=m("option"),me.textContent="-";for(let ue=0;ue<Re.length;ue+=1)Re[ue].c();X=b(),ke=m("input"),Ee=b(),we=m("select"),Me=m("option"),Me.textContent="-";for(let ue=0;ue<Je.length;ue+=1)Je[ue].c();le=b(),fe=m("select"),Oe=m("option"),Oe.textContent="-";for(let ue=0;ue<ye.length;ue+=1)ye[ue].c();Ie=b(),E=m("div"),w=m("span"),ae(S.$$.fragment),D=b(),O=m("hr"),a(l,"name","n"),a(l,"type","text"),a(l,"class","in-s"),a(n,"class","mr-3"),c.__value=1,c.value=c.__value,r.__value=2,r.value=r.__value,f.__value=3,f.value=f.__value,a(u,"name","rd"),a(u,"class","in-f"),t[23].d===void 0&&Ze(Ae),h.__value=0,h.value=h.__value,v.__value=1,v.value=v.__value,d.__value=2,d.value=d.__value,a(_,"name","rt"),a(_,"class","in-m"),t[23].t===void 0&&Ze(Fe),a(k,"name","rv"),a(k,"type","number"),a(k,"class","in-l tr"),fi(k,"width","100px"),a(k,"min","0.0001"),a(k,"max","99.9999"),a(k,"step","0.0001"),a(o,"class","flex mr-3"),a(A,"class","mr-2"),a(T,"class","flex flex-wrap mr-3"),a(N,"class","mr-2"),a(C,"class","flex flex-wrap mr-3"),x.__value=0,x.value=x.__value,a(z,"name","rsm"),a(z,"class","in-f"),t[23].s.m===void 0&&Ze(ht),me.__value=0,me.value=me.__value,a(ie,"name","rsd"),a(ie,"class","in-m"),t[23].s.d===void 0&&Ze(tt),a(ke,"class","in-m"),ke.disabled=!0,ke.value="to",fi(ke,"width","20px"),fi(ke,"color","#888"),Me.__value=0,Me.value=Me.__value,a(we,"name","rem"),a(we,"class","in-m"),t[23].e.m===void 0&&Ze(at),Oe.__value=0,Oe.value=Oe.__value,a(fe,"name","red"),a(fe,"class","in-l"),t[23].e.d===void 0&&Ze(he),a(W,"class","flex flex-wrap mr-3"),a(w,"class","text-red-500 text-xs"),a(E,"class","mt-1.5 ml-3"),a(e,"class","flex flex-wrap"),a(O,"class","m-3")},m(ue,Qe){M(ue,e,Qe),s(e,n),s(n,l),re(l,t[23].n),s(e,i),s(e,o),s(o,u),s(u,c),s(u,r),s(u,f),Te(u,t[23].d,!0),s(o,p),s(o,_),s(_,h),s(_,v),s(_,d),Te(_,t[23].t,!0),s(o,g),s(o,k),re(k,t[23].v),s(e,$),s(e,T),s(T,A),s(T,F),s(T,L);for(let te=0;te<ze.length;te+=1)ze[te]&&ze[te].m(L,null);s(e,R),s(e,C),s(C,N),s(C,ee),s(C,q),s(q,U);for(let te=0;te<Ke.length;te+=1)Ke[te]&&Ke[te].m(U,null);s(q,H),s(q,K);for(let te=0;te<Ge.length;te+=1)Ge[te]&&Ge[te].m(K,null);s(q,V),s(q,Y);for(let te=0;te<Ue.length;te+=1)Ue[te]&&Ue[te].m(Y,null);s(e,G),s(e,W),s(W,z),s(z,x);for(let te=0;te<pt.length;te+=1)pt[te]&&pt[te].m(z,null);Te(z,t[23].s.m,!0),s(W,_e),s(W,ie),s(ie,me);for(let te=0;te<Re.length;te+=1)Re[te]&&Re[te].m(ie,null);Te(ie,t[23].s.d,!0),s(W,X),s(W,ke),s(W,Ee),s(W,we),s(we,Me);for(let te=0;te<Je.length;te+=1)Je[te]&&Je[te].m(we,null);Te(we,t[23].e.m,!0),s(W,le),s(W,fe),s(fe,Oe);for(let te=0;te<ye.length;te+=1)ye[te]&&ye[te].m(fe,null);Te(fe,t[23].e.d,!0),s(e,Ie),s(e,E),s(E,w),se(S,w,null),M(ue,D,Qe),M(ue,O,Qe),J=!0,ne||(pe=[Q(l,"input",be),Q(u,"change",Ae),Q(_,"change",Fe),Q(k,"input",ce),Q(z,"change",ht),Q(ie,"change",tt),Q(we,"change",at),Q(fe,"change",he),Q(w,"click",de),Q(w,"keypress",Ve)],ne=!0)},p(ue,Qe){if(t=ue,Qe[0]&1&&l.value!==t[23].n&&re(l,t[23].n),Qe[0]&1&&Te(u,t[23].d),Qe[0]&1&&Te(_,t[23].t),Qe[0]&1&&Se(k.value)!==t[23].v&&re(k,t[23].v),Qe[0]&41){Pe={length:7};let te;for(te=0;te<Pe.length;te+=1){const st=Xf(t,Pe,te);ze[te]?ze[te].p(st,Qe):(ze[te]=Jf(st),ze[te].c(),ze[te].m(L,null))}for(;te<ze.length;te+=1)ze[te].d(1);ze.length=Pe.length}if(Qe[0]&33){mt={length:8};let te;for(te=0;te<mt.length;te+=1){const st=Qf(t,mt,te);Ke[te]?Ke[te].p(st,Qe):(Ke[te]=xf(st),Ke[te].c(),Ke[te].m(U,null))}for(;te<Ke.length;te+=1)Ke[te].d(1);Ke.length=mt.length}if(Qe[0]&33){ut={length:8};let te;for(te=0;te<ut.length;te+=1){const st=Yf(t,ut,te);Ge[te]?Ge[te].p(st,Qe):(Ge[te]=e1(st),Ge[te].c(),Ge[te].m(K,null))}for(;te<Ge.length;te+=1)Ge[te].d(1);Ge.length=ut.length}if(Qe[0]&33){_t={length:8};let te;for(te=0;te<_t.length;te+=1){const st=Kf(t,_t,te);Ue[te]?Ue[te].p(st,Qe):(Ue[te]=t1(st),Ue[te].c(),Ue[te].m(Y,null))}for(;te<Ue.length;te+=1)Ue[te].d(1);Ue.length=_t.length}if(Qe[0]&1&&Te(z,t[23].s.m),Qe&0){xe={length:12};let te;for(te=0;te<xe.length;te+=1){const st=Vf(t,xe,te);Re[te]?Re[te].p(st,Qe):(Re[te]=l1(st),Re[te].c(),Re[te].m(ie,null))}for(;te<Re.length;te+=1)Re[te].d(1);Re.length=xe.length}if(Qe[0]&1&&Te(ie,t[23].s.d),Qe[0]&1&&Te(we,t[23].e.m),Qe&0){qe={length:12};let te;for(te=0;te<qe.length;te+=1){const st=Gf(t,qe,te);ye[te]?ye[te].p(st,Qe):(ye[te]=n1(st),ye[te].c(),ye[te].m(fe,null))}for(;te<ye.length;te+=1)ye[te].d(1);ye.length=qe.length}Qe[0]&1&&Te(fe,t[23].e.d)},i(ue){J||(I(S.$$.fragment,ue),J=!0)},o(ue){B(S.$$.fragment,ue),J=!1},d(ue){ue&&y(e),ct(ze,ue),ct(Ke,ue),ct(Ge,ue),ct(Ue,ue),ct(pt,ue),ct(Re,ue),ct(Je,ue),ct(ye,ue),oe(S),ue&&y(D),ue&&y(O),ne=!1,et(pe)}}}function ap(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g,k,$,T,A,F,L,R,C,N,ee,q;o=new jt({});let U=t[0].o&&Zf(t);return L=new Et({props:{active:t[1],message:"Loading configuration"}}),C=new Et({props:{active:t[2],message:"Saving configuration"}}),{c(){e=m("div"),n=m("strong"),n.textContent="Price configuration",l=b(),i=m("a"),ae(o.$$.fragment),u=b(),c=m("hr"),r=b(),f=m("form"),p=m("input"),_=b(),U&&U.c(),h=b(),v=m("div"),d=m("div"),g=m("button"),g.textContent="Add",k=b(),$=m("div"),T=b(),A=m("div"),A.innerHTML='<button type="submit" class="btn-pri">Save</button>',F=b(),ae(L.$$.fragment),R=b(),ae(C.$$.fragment),a(n,"class","text-sm"),a(i,"href",Ht("Price-configuration")),a(i,"target","_blank"),a(i,"class","float-right"),a(c,"class","m-3"),a(p,"type","hidden"),a(p,"name","r"),p.value="true",a(g,"type","button"),a(g,"class","btn-pri"),a($,"class","text-center"),a(A,"class","text-right"),a(v,"class","grid grid-cols-3"),a(f,"autocomplete","off"),a(e,"class","cnt")},m(H,K){M(H,e,K),s(e,n),s(e,l),s(e,i),se(o,i,null),s(e,u),s(e,c),s(e,r),s(e,f),s(f,p),s(f,_),U&&U.m(f,null),s(f,h),s(f,v),s(v,d),s(d,g),s(v,k),s(v,$),s(v,T),s(v,A),M(H,F,K),se(L,H,K),M(H,R,K),se(C,H,K),N=!0,ee||(q=[Q(g,"click",t[6]),Q(f,"submit",Xn(t[4]))],ee=!0)},p(H,K){H[0].o?U?(U.p(H,K),K[0]&1&&I(U,1)):(U=Zf(H),U.c(),I(U,1),U.m(f,h)):U&&($e(),B(U,1,1,()=>{U=null}),De());const V={};K[0]&2&&(V.active=H[1]),L.$set(V);const Y={};K[0]&4&&(Y.active=H[2]),C.$set(Y)},i(H){N||(I(o.$$.fragment,H),I(U),I(L.$$.fragment,H),I(C.$$.fragment,H),N=!0)},o(H){B(o.$$.fragment,H),B(U),B(L.$$.fragment,H),B(C.$$.fragment,H),N=!1},d(H){H&&y(e),oe(o),U&&U.d(),H&&y(F),oe(L,H),H&&y(R),oe(C,H),ee=!1,et(q)}}}function rp(t,e,n){let{basepath:l="/"}=e,i=["mo","tu","we","th","fr","sa","su"],o={},u=!0,c=!1;J1.subscribe(q=>{q.o&&(n(0,o=q),n(1,u=!1))}),Gm();async function r(q){n(2,c=!0);const U=new URLSearchParams;U.append("r","true"),U.append("rc",o.o.length),o.o.forEach(function(K,V){U.append("rt"+V,K.t),U.append("rn"+V,K.n),U.append("rd"+V,K.d),U.append("ra"+V,K.a),U.append("rh"+V,K.h),U.append("rv"+V,K.v),U.append("rsm"+V,K.s.m),U.append("rsd"+V,K.s.d),U.append("rem"+V,K.e.m),U.append("red"+V,K.e.d)}),await(await fetch("save",{method:"POST",body:U})).json(),n(2,c=!1),sn(l+"configuration")}let f=function(q,U){return q.includes(U)?q=q.filter(function(H){return H!==U}):q.push(U),q},p=function(){let q=o.o;q.push({t:1,n:"",d:3,a:[0,1,2,3,4,5,6,7],h:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],v:.001,s:{m:0,d:0},e:{m:0,d:0}}),n(0,o.o=q,o)},_=function(q){let U=o.o;U.splice(q,1),n(0,o.o=U,o)};function h(q,U){q[U].n=this.value,n(0,o)}function v(q,U){q[U].d=ot(this),n(0,o)}function d(q,U){q[U].t=ot(this),n(0,o)}function g(q,U){q[U].v=Se(this.value),n(0,o)}const k=(q,U,H,K)=>n(0,H[K].a=f(q.a,U),o),$=(q,U,H,K)=>n(0,H[K].h=f(q.h,U),o),T=(q,U,H,K)=>n(0,H[K].h=f(q.h,U+8),o),A=(q,U,H,K)=>n(0,H[K].h=f(q.h,U+16),o);function F(q,U){q[U].s.m=ot(this),n(0,o)}function L(q,U){q[U].s.d=ot(this),n(0,o)}function R(q,U){q[U].e.m=ot(this),n(0,o)}function C(q,U){q[U].e.d=ot(this),n(0,o)}const N=q=>_(q),ee=q=>_(q);return t.$$set=q=>{"basepath"in q&&n(8,l=q.basepath)},[o,u,c,i,r,f,p,_,l,h,v,d,g,k,$,T,A,F,L,R,C,N,ee]}class up extends We{constructor(e){super(),He(this,e,rp,ap,Be,{basepath:8},null,[-1,-1])}}function fp(t){let e,n;return e=new Wm({props:{data:t[2],sysinfo:t[1]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&4&&(o.data=l[2]),i&2&&(o.sysinfo=l[1]),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function cp(t){let e,n;return e=new A_({props:{sysinfo:t[1],basepath:t[0]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&2&&(o.sysinfo=l[1]),i&1&&(o.basepath=l[0]),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function mp(t){let e,n;return e=new up({props:{basepath:t[0]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&1&&(o.basepath=l[0]),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function _p(t){let e,n;return e=new H_({props:{sysinfo:t[1],data:t[2]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&2&&(o.sysinfo=l[1]),i&4&&(o.data=l[2]),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function pp(t){let e,n;return e=new po({props:{title:"CA",action:"/mqtt-ca"}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p:ve,i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function dp(t){let e,n;return e=new po({props:{title:"certificate",action:"/mqtt-cert"}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p:ve,i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function hp(t){let e,n;return e=new po({props:{title:"private key",action:"/mqtt-key"}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p:ve,i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function vp(t){let e,n;return e=new lp({props:{sysinfo:t[1],basepath:t[0]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&2&&(o.sysinfo=l[1]),i&1&&(o.basepath=l[0]),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function bp(t){let e,n;return e=new Z_({props:{sysinfo:t[1]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&2&&(o.sysinfo=l[1]),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function gp(t){let e,n;return e=new Y_({props:{sysinfo:t[1],basepath:t[0]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&2&&(o.sysinfo=l[1]),i&1&&(o.basepath=l[0]),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function kp(t){let e,n,l,i,o,u,c,r,f,p,_,h,v,d,g,k,$,T,A,F,L,R;return e=new em({props:{data:t[2],basepath:t[0]}}),l=new _l({props:{path:"/",$$slots:{default:[fp]},$$scope:{ctx:t}}}),o=new _l({props:{path:"/configuration",$$slots:{default:[cp]},$$scope:{ctx:t}}}),c=new _l({props:{path:"/priceconfig",$$slots:{default:[mp]},$$scope:{ctx:t}}}),f=new _l({props:{path:"/status",$$slots:{default:[_p]},$$scope:{ctx:t}}}),_=new _l({props:{path:"/mqtt-ca",$$slots:{default:[pp]},$$scope:{ctx:t}}}),v=new _l({props:{path:"/mqtt-cert",$$slots:{default:[dp]},$$scope:{ctx:t}}}),g=new _l({props:{path:"/mqtt-key",$$slots:{default:[hp]},$$scope:{ctx:t}}}),$=new _l({props:{path:"/consent",$$slots:{default:[vp]},$$scope:{ctx:t}}}),A=new _l({props:{path:"/setup",$$slots:{default:[bp]},$$scope:{ctx:t}}}),L=new _l({props:{path:"/vendor",$$slots:{default:[gp]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment),n=b(),ae(l.$$.fragment),i=b(),ae(o.$$.fragment),u=b(),ae(c.$$.fragment),r=b(),ae(f.$$.fragment),p=b(),ae(_.$$.fragment),h=b(),ae(v.$$.fragment),d=b(),ae(g.$$.fragment),k=b(),ae($.$$.fragment),T=b(),ae(A.$$.fragment),F=b(),ae(L.$$.fragment)},m(C,N){se(e,C,N),M(C,n,N),se(l,C,N),M(C,i,N),se(o,C,N),M(C,u,N),se(c,C,N),M(C,r,N),se(f,C,N),M(C,p,N),se(_,C,N),M(C,h,N),se(v,C,N),M(C,d,N),se(g,C,N),M(C,k,N),se($,C,N),M(C,T,N),se(A,C,N),M(C,F,N),se(L,C,N),R=!0},p(C,N){const ee={};N&4&&(ee.data=C[2]),N&1&&(ee.basepath=C[0]),e.$set(ee);const q={};N&14&&(q.$$scope={dirty:N,ctx:C}),l.$set(q);const U={};N&11&&(U.$$scope={dirty:N,ctx:C}),o.$set(U);const H={};N&9&&(H.$$scope={dirty:N,ctx:C}),c.$set(H);const K={};N&14&&(K.$$scope={dirty:N,ctx:C}),f.$set(K);const V={};N&8&&(V.$$scope={dirty:N,ctx:C}),_.$set(V);const Y={};N&8&&(Y.$$scope={dirty:N,ctx:C}),v.$set(Y);const G={};N&8&&(G.$$scope={dirty:N,ctx:C}),g.$set(G);const W={};N&11&&(W.$$scope={dirty:N,ctx:C}),$.$set(W);const z={};N&10&&(z.$$scope={dirty:N,ctx:C}),A.$set(z);const x={};N&11&&(x.$$scope={dirty:N,ctx:C}),L.$set(x)},i(C){R||(I(e.$$.fragment,C),I(l.$$.fragment,C),I(o.$$.fragment,C),I(c.$$.fragment,C),I(f.$$.fragment,C),I(_.$$.fragment,C),I(v.$$.fragment,C),I(g.$$.fragment,C),I($.$$.fragment,C),I(A.$$.fragment,C),I(L.$$.fragment,C),R=!0)},o(C){B(e.$$.fragment,C),B(l.$$.fragment,C),B(o.$$.fragment,C),B(c.$$.fragment,C),B(f.$$.fragment,C),B(_.$$.fragment,C),B(v.$$.fragment,C),B(g.$$.fragment,C),B($.$$.fragment,C),B(A.$$.fragment,C),B(L.$$.fragment,C),R=!1},d(C){oe(e,C),C&&y(n),oe(l,C),C&&y(i),oe(o,C),C&&y(u),oe(c,C),C&&y(r),oe(f,C),C&&y(p),oe(_,C),C&&y(h),oe(v,C),C&&y(d),oe(g,C),C&&y(k),oe($,C),C&&y(T),oe(A,C),C&&y(F),oe(L,C)}}}function wp(t){let e,n,l,i;const o=[Mp,yp],u=[];function c(r,f){return r[1].trying?0:1}return e=c(t),n=u[e]=o[e](t),{c(){n.c(),l=it()},m(r,f){u[e].m(r,f),M(r,l,f),i=!0},p(r,f){let p=e;e=c(r),e===p?u[e].p(r,f):($e(),B(u[p],1,1,()=>{u[p]=null}),De(),n=u[e],n?n.p(r,f):(n=u[e]=o[e](r),n.c()),I(n,1),n.m(l.parentNode,l))},i(r){i||(I(n),i=!0)},o(r){B(n),i=!1},d(r){u[e].d(r),r&&y(l)}}}function Cp(t){let e,n;return e=new Et({props:{active:"true",message:"Device is upgrading, please wait"}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p:ve,i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function yp(t){let e,n;return e=new Et({props:{active:"true",message:"Device is booting, please wait"}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p:ve,i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Mp(t){let e,n;return e=new Et({props:{active:"true",message:"Device is booting, please wait. Trying to reach it on "+t[1].trying}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&2&&(o.message="Device is booting, please wait. Trying to reach it on "+l[1].trying),e.$set(o)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Sp(t){let e,n,l,i,o,u;n=new D1({props:{basepath:t[0],$$slots:{default:[kp]},$$scope:{ctx:t}}});const c=[Cp,wp],r=[];function f(p,_){return p[1].upgrading?0:p[1].booting?1:-1}return~(i=f(t))&&(o=r[i]=c[i](t)),{c(){e=m("div"),ae(n.$$.fragment),l=b(),o&&o.c(),a(e,"class","container mx-auto m-3")},m(p,_){M(p,e,_),se(n,e,null),s(e,l),~i&&r[i].m(e,null),u=!0},p(p,[_]){const h={};_&1&&(h.basepath=p[0]),_&15&&(h.$$scope={dirty:_,ctx:p}),n.$set(h);let v=i;i=f(p),i===v?~i&&r[i].p(p,_):(o&&($e(),B(r[v],1,1,()=>{r[v]=null}),De()),~i?(o=r[i],o?o.p(p,_):(o=r[i]=c[i](p),o.c()),I(o,1),o.m(e,null)):o=null)},i(p){u||(I(n.$$.fragment,p),I(o),u=!0)},o(p){B(n.$$.fragment,p),B(o),u=!1},d(p){p&&y(e),oe(n),~i&&r[i].d()}}}function Tp(t,e,n){let l=document.getElementsByTagName("base")[0].getAttribute("href");l||(l="/");let i={};St.subscribe(u=>{n(1,i=u),i.vndcfg===!1?sn(l+"vendor"):i.usrcfg===!1?sn(l+"setup"):i.fwconsent===0&&sn(l+"consent"),i.ui.k===1?(console.log("dark"),document.documentElement.classList.add("dark")):i.ui.k===0?(console.log("light"),document.documentElement.classList.remove("dark")):window.matchMedia("(prefers-color-scheme: dark)").matches?(console.log("dark auto"),document.documentElement.classList.add("dark")):(console.log("light auto"),document.documentElement.classList.remove("dark"))}),ro();let o={};return O1.subscribe(u=>{n(2,o=u)}),[l,i,o]}class Np extends We{constructor(e){super(),He(this,e,Tp,Sp,Be,{})}}new Np({target:document.getElementById("app")});
